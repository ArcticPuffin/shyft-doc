<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.12">
  <compounddef id="api_2timeseries_8h" kind="file" language="C++">
    <compoundname>timeseries.h</compoundname>
    <includes refid="core__pch_8h" local="yes">core/core_pch.h</includes>
    <includes refid="utctime__utilities_8h" local="yes">core/utctime_utilities.h</includes>
    <includes refid="time__axis_8h" local="yes">core/time_axis.h</includes>
    <includes refid="core_2timeseries_8h" local="yes">core/timeseries.h</includes>
    <includedby refid="api_8h" local="yes">/home/sih/projects/shyft/api/api.h</includedby>
    <includedby refid="timeseries_8cpp" local="yes">/home/sih/projects/shyft/api/timeseries.cpp</includedby>
    <incdepgraph>
      <node id="1370">
        <label>functional</label>
      </node>
      <node id="1363">
        <label>limits</label>
      </node>
      <node id="1380">
        <label>cmath</label>
      </node>
      <node id="1375">
        <label>stdexcept</label>
      </node>
      <node id="1367">
        <label>string</label>
      </node>
      <node id="1366">
        <label>map</label>
      </node>
      <node id="1382">
        <label>exception</label>
      </node>
      <node id="1371">
        <label>ostream</label>
      </node>
      <node id="1361">
        <label>core/core_pch.h</label>
        <link refid="core__pch_8h"/>
        <childnode refid="1362" relation="include">
        </childnode>
        <childnode refid="1363" relation="include">
        </childnode>
        <childnode refid="1364" relation="include">
        </childnode>
        <childnode refid="1365" relation="include">
        </childnode>
        <childnode refid="1366" relation="include">
        </childnode>
        <childnode refid="1367" relation="include">
        </childnode>
        <childnode refid="1368" relation="include">
        </childnode>
        <childnode refid="1369" relation="include">
        </childnode>
        <childnode refid="1370" relation="include">
        </childnode>
        <childnode refid="1371" relation="include">
        </childnode>
        <childnode refid="1372" relation="include">
        </childnode>
        <childnode refid="1373" relation="include">
        </childnode>
        <childnode refid="1374" relation="include">
        </childnode>
        <childnode refid="1375" relation="include">
        </childnode>
        <childnode refid="1376" relation="include">
        </childnode>
        <childnode refid="1377" relation="include">
        </childnode>
      </node>
      <node id="1387">
        <label>glacier_melt.h</label>
        <link refid="glacier__melt_8h"/>
        <childnode refid="1378" relation="include">
        </childnode>
      </node>
      <node id="1378">
        <label>core/utctime_utilities.h</label>
        <link refid="utctime__utilities_8h"/>
        <childnode refid="1367" relation="include">
        </childnode>
        <childnode refid="1379" relation="include">
        </childnode>
        <childnode refid="1380" relation="include">
        </childnode>
        <childnode refid="1365" relation="include">
        </childnode>
        <childnode refid="1366" relation="include">
        </childnode>
        <childnode refid="1362" relation="include">
        </childnode>
      </node>
      <node id="1376">
        <label>random</label>
      </node>
      <node id="1377">
        <label>boost/range.hpp</label>
      </node>
      <node id="1388">
        <label>unit_conversion.h</label>
        <link refid="unit__conversion_8h"/>
      </node>
      <node id="1374">
        <label>future</label>
      </node>
      <node id="1383">
        <label>core/timeseries.h</label>
        <link refid="core_2timeseries_8h"/>
        <childnode refid="1384" relation="include">
        </childnode>
        <childnode refid="1378" relation="include">
        </childnode>
        <childnode refid="1381" relation="include">
        </childnode>
        <childnode refid="1375" relation="include">
        </childnode>
        <childnode refid="1363" relation="include">
        </childnode>
        <childnode refid="1369" relation="include">
        </childnode>
        <childnode refid="1385" relation="include">
        </childnode>
        <childnode refid="1365" relation="include">
        </childnode>
        <childnode refid="1386" relation="include">
        </childnode>
        <childnode refid="1362" relation="include">
        </childnode>
        <childnode refid="1387" relation="include">
        </childnode>
        <childnode refid="1388" relation="include">
        </childnode>
      </node>
      <node id="1365">
        <label>vector</label>
      </node>
      <node id="1381">
        <label>core/time_axis.h</label>
        <link refid="time__axis_8h"/>
        <childnode refid="1382" relation="include">
        </childnode>
        <childnode refid="1367" relation="include">
        </childnode>
        <childnode refid="1362" relation="include">
        </childnode>
        <childnode refid="1369" relation="include">
        </childnode>
        <childnode refid="1378" relation="include">
        </childnode>
      </node>
      <node id="1379">
        <label>time.h</label>
      </node>
      <node id="1372">
        <label>cerrno</label>
      </node>
      <node id="1385">
        <label>iostream</label>
      </node>
      <node id="1364">
        <label>cstddef</label>
      </node>
      <node id="1373">
        <label>thread</label>
      </node>
      <node id="1386">
        <label>type_traits</label>
      </node>
      <node id="1369">
        <label>algorithm</label>
      </node>
      <node id="1368">
        <label>cstring</label>
      </node>
      <node id="1360">
        <label>/home/sih/projects/shyft/api/timeseries.h</label>
        <link refid="api_2timeseries_8h"/>
        <childnode refid="1361" relation="include">
        </childnode>
        <childnode refid="1378" relation="include">
        </childnode>
        <childnode refid="1381" relation="include">
        </childnode>
        <childnode refid="1383" relation="include">
        </childnode>
      </node>
      <node id="1362">
        <label>memory</label>
      </node>
      <node id="1384">
        <label>compiler_compatiblity.h</label>
        <link refid="compiler__compatiblity_8h"/>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1390">
        <label>/home/sih/projects/shyft/api/api.h</label>
        <link refid="api_8h"/>
        <childnode refid="1391" relation="include">
        </childnode>
      </node>
      <node id="1391">
        <label>/home/sih/projects/shyft/api/api.cpp</label>
        <link refid="api_8cpp"/>
      </node>
      <node id="1392">
        <label>/home/sih/projects/shyft/api/timeseries.cpp</label>
        <link refid="timeseries_8cpp"/>
      </node>
      <node id="1389">
        <label>/home/sih/projects/shyft/api/timeseries.h</label>
        <link refid="api_2timeseries_8h"/>
        <childnode refid="1390" relation="include">
        </childnode>
        <childnode refid="1392" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="structshyft_1_1api_1_1ipoint__ts" prot="public">shyft::api::ipoint_ts</innerclass>
    <innerclass refid="classshyft_1_1api_1_1apoint__ts" prot="public">shyft::api::apoint_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1gpoint__ts" prot="public">shyft::api::gpoint_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1average__ts" prot="public">shyft::api::average_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1accumulate__ts" prot="public">shyft::api::accumulate_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1time__shift__ts" prot="public">shyft::api::time_shift_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1periodic__ts" prot="public">shyft::api::periodic_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1abin__op__ts" prot="public">shyft::api::abin_op_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1abin__op__scalar__ts" prot="public">shyft::api::abin_op_scalar_ts</innerclass>
    <innerclass refid="structshyft_1_1api_1_1abin__op__ts__scalar" prot="public">shyft::api::abin_op_ts_scalar</innerclass>
    <innernamespace refid="namespaceshyft">shyft</innernamespace>
    <innernamespace refid="namespaceshyft_1_1api">shyft::api</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="core__pch_8h" kindref="compound">core/core_pch.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="utctime__utilities_8h" kindref="compound">core/utctime_utilities.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="time__axis_8h" kindref="compound">core/time_axis.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="core_2timeseries_8h" kindref="compound">core/timeseries.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceshyft" kindref="compound">shyft</ref><sp/>{</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">api<sp/>{</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceshyft_1_1core" kindref="compound">shyft::core</ref>;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceshyft_1_1timeseries" kindref="compound">shyft::timeseries</ref>;</highlight></codeline>
<codeline lineno="46" refid="namespaceshyft_1_1api_1af2cdca229e084293035b505a4833cdbd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1generic__dt" kindref="compound">shyft::time_axis::generic_dt</ref><sp/><ref refid="namespaceshyft_1_1api_1af2cdca229e084293035b505a4833cdbd" kindref="member">gta_t</ref>;</highlight></codeline>
<codeline lineno="47" refid="namespaceshyft_1_1api_1a2e21b6273adeec8b0020aab3cb049fd9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1point__ts" kindref="compound">shyft::timeseries::point_ts&lt;gta_t&gt;</ref><sp/><ref refid="namespaceshyft_1_1api_1a2e21b6273adeec8b0020aab3cb049fd9" kindref="member">gts_t</ref>;</highlight></codeline>
<codeline lineno="48" refid="namespaceshyft_1_1api_1a1785beb7b6b8c65066a4c499e0a4fa55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1point__ts" kindref="compound">shyft::timeseries::point_ts&lt;time_axis::fixed_dt&gt;</ref><sp/><ref refid="namespaceshyft_1_1api_1a1785beb7b6b8c65066a4c499e0a4fa55" kindref="member">rts_t</ref>;</highlight></codeline>
<codeline lineno="64" refid="structshyft_1_1api_1_1ipoint__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="65" refid="structshyft_1_1api_1_1ipoint__ts_1aadddb7f801c2a9dc3b819665a5521d9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1ipoint__ts_1aadddb7f801c2a9dc3b819665a5521d9b" kindref="member">ta_t</ref>;</highlight><highlight class="comment">//<sp/>time-axis<sp/>type</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="structshyft_1_1api_1_1ipoint__ts_1a223c013c82a80b458e97666f7da03ec7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1ipoint__ts_1a223c013c82a80b458e97666f7da03ec7" kindref="member">~ipoint_ts</ref>(){}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=0;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>set_point_interpretation(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation)<sp/>=0;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>time_axis()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=0;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/>total_period()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">=0;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>index_of(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">=0;<sp/></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>size()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">=0;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>time(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">=0;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">=0;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value_at(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=0;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;<sp/>values()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=0;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>be<sp/>removed:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="structshyft_1_1api_1_1ipoint__ts_1afdbe4aad3e9a8d149d235c9efd8867e6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1point" kindref="compound">point</ref><sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1point" kindref="compound">point</ref>(time(i),value(i));}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>;</highlight><highlight class="comment">//fwd<sp/>api</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>;</highlight><highlight class="comment">//fwd<sp/>api</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>;</highlight><highlight class="comment">//<sp/>fwd<sp/>api</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1aglacier__melt__ts" kindref="compound">aglacier_melt_ts</ref>;</highlight><highlight class="comment">//<sp/>fwd<sp/>api</highlight></codeline>
<codeline lineno="120" refid="classshyft_1_1api_1_1apoint__ts" refkind="compound"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/>ts;</highlight><highlight class="comment">//<sp/>consider<sp/>unique<sp/>pointer<sp/>instead,possibly<sp/>public,<sp/>to<sp/>ease<sp/>transparency<sp/>in<sp/>python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="125" refid="classshyft_1_1api_1_1apoint__ts_1ac31a4b14d65230690477f930826360e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>gta_t<sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1ac31a4b14d65230690477f930826360e8" kindref="member">ta_t</ref>;</highlight></codeline>
<codeline lineno="126" refid="classshyft_1_1api_1_1apoint__ts_1a4ba76f4c5a963b2f97ad4ffa44336d4e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>;</highlight></codeline>
<codeline lineno="127" refid="classshyft_1_1api_1_1apoint__ts_1aa39aa6c95a4809ceff81cf25477478ae" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>;</highlight></codeline>
<codeline lineno="128" refid="classshyft_1_1api_1_1apoint__ts_1a11793663c1c55964c54b7a7f400a8fab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>;</highlight></codeline>
<codeline lineno="129" refid="classshyft_1_1api_1_1apoint__ts_1a96f1123a93567844c1a9ff772deef202" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1aglacier__melt__ts" kindref="compound">aglacier_melt_ts</ref>;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>constructors<sp/>that<sp/>we<sp/>want<sp/>to<sp/>expose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>like</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>are<sp/>for<sp/>the<sp/>python<sp/>exposure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">time_axis::fixed_dt</ref>&amp;<sp/>ta,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fill_value,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">time_axis::fixed_dt</ref>&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;&amp;<sp/>values,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1point__dt" kindref="compound">time_axis::point_dt</ref>&amp;<sp/>ta,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fill_value,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1point__dt" kindref="compound">time_axis::point_dt</ref>&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;&amp;<sp/>values,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>rts_t<sp/>&amp;<sp/>rts);</highlight><highlight class="comment">//<sp/>ct<sp/>for<sp/>result-ts<sp/>at<sp/>cell-level<sp/>that<sp/>we<sp/>want<sp/>to<sp/>wrap.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;double&gt;&amp;<sp/>pattern,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1generic__dt" kindref="compound">time_axis::generic_dt</ref>&amp;<sp/>ta);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;double&gt;&amp;<sp/>pattern,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt,<sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>pattern_t0,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1generic__dt" kindref="compound">time_axis::generic_dt</ref>&amp;<sp/>ta);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>are<sp/>the<sp/>one<sp/>we<sp/>need.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fill_value,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;&amp;<sp/>values,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,std::vector&lt;double&gt;&amp;&amp;<sp/>values,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(gta_t&amp;&amp;<sp/>ta,std::vector&lt;double&gt;&amp;&amp;<sp/>values,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>(gta_t&amp;&amp;<sp/>ta,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fill_value,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="149" refid="classshyft_1_1api_1_1apoint__ts_1a9470e119afe3b763ce18464db1ff120d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a9470e119afe3b763ce18464db1ff120d" kindref="member">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;ipoint_ts&gt;&amp;<sp/>c):ts(c)<sp/>{}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>some<sp/>more<sp/>exotic<sp/>stuff<sp/>like<sp/>average_ts</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>std<sp/>ct/=<sp/>stuff,<sp/>that<sp/>might<sp/>be<sp/>ommitted<sp/>if<sp/>c++<sp/>do<sp/>the<sp/>right<sp/>thing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154" refid="classshyft_1_1api_1_1apoint__ts_1a971d195ec6f29ffcd6b7cdffe9edd941" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a971d195ec6f29ffcd6b7cdffe9edd941" kindref="member">apoint_ts</ref>(){}</highlight></codeline>
<codeline lineno="155" refid="classshyft_1_1api_1_1apoint__ts_1a1f3e0574e9562df532fc1c9eb1559e83" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a1f3e0574e9562df532fc1c9eb1559e83" kindref="member">apoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;c):ts(c.ts){}</highlight></codeline>
<codeline lineno="156" refid="classshyft_1_1api_1_1apoint__ts_1ac18a7e3d2a8f09d16feb5c0af3fac169" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1ac18a7e3d2a8f09d16feb5c0af3fac169" kindref="member">apoint_ts</ref>(<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>c):ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ts)){}</highlight></codeline>
<codeline lineno="157" refid="classshyft_1_1api_1_1apoint__ts_1a4755e9bfdee33a2b0fc7ddcd94f4b60b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a4755e9bfdee33a2b0fc7ddcd94f4b60b" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;c<sp/>)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts=c.ts;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162" refid="classshyft_1_1api_1_1apoint__ts_1a5d70f7f53daf4b4aeba97cbe539f3b58" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a5d70f7f53daf4b4aeba97cbe539f3b58" kindref="member">operator=</ref>(<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts=std::move(c.ts);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a6ac69cec9800d352526bab7474b52ab5" kindref="member">operator==</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>other)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>interface<sp/>we<sp/>want<sp/>to<sp/>expose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>standard<sp/>ipoint-ts<sp/>stuff:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="classshyft_1_1api_1_1apoint__ts_1a6679e02699f441e2ce6bf812c9896a1d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a6679e02699f441e2ce6bf812c9896a1d" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;point_interpretation();}</highlight></codeline>
<codeline lineno="173" refid="classshyft_1_1api_1_1apoint__ts_1a17999a57d326ef0e5ede7fdab2e204ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a17999a57d326ef0e5ede7fdab2e204ad" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation)<sp/>{<sp/>ts-&gt;set_point_interpretation(point_interpretation);<sp/>};</highlight></codeline>
<codeline lineno="174" refid="classshyft_1_1api_1_1apoint__ts_1a22d4342529bee8bdf0cec14e88c0b4d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a22d4342529bee8bdf0cec14e88c0b4d6" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;time_axis();};</highlight></codeline>
<codeline lineno="175" refid="classshyft_1_1api_1_1apoint__ts_1a264057287413ac32ad6d49d41ad13cd4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a264057287413ac32ad6d49d41ad13cd4" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;total_period();};<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="176" refid="classshyft_1_1api_1_1apoint__ts_1a1085638a404244bf436aca0f5c7875d2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a1085638a404244bf436aca0f5c7875d2" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;index_of(t);};</highlight></codeline>
<codeline lineno="177" refid="classshyft_1_1api_1_1apoint__ts_1ae7569073cd80e9ebf2502e72bc954a4f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1ae7569073cd80e9ebf2502e72bc954a4f" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;size();};<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="178" refid="classshyft_1_1api_1_1apoint__ts_1a64241fcfe070e705da60c4ea663ce281" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a64241fcfe070e705da60c4ea663ce281" kindref="member">time</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;time(i);};</highlight></codeline>
<codeline lineno="179" refid="classshyft_1_1api_1_1apoint__ts_1ac3f9b857cefe2eb564903b6243fc0467" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1ac3f9b857cefe2eb564903b6243fc0467" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;value(i);};</highlight></codeline>
<codeline lineno="180" refid="classshyft_1_1api_1_1apoint__ts_1a887c209666d82e0658c32ea005552e9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a887c209666d82e0658c32ea005552e9b" kindref="member">operator()</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/><sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;value_at(t);};</highlight></codeline>
<codeline lineno="181" refid="classshyft_1_1api_1_1apoint__ts_1a6604b9fcee0a2fb2fed3e5d8c64cd9cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/><ref refid="classshyft_1_1api_1_1apoint__ts_1a6604b9fcee0a2fb2fed3e5d8c64cd9cd" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;values();}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//--<sp/>then<sp/>some<sp/>useful<sp/>functions/properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a1cc1269af51a9ab1043b7c5f907d7536" kindref="member">average</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1abc8be68c104b8ce6fde4b68f4c8a1724" kindref="member">accumulate</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a5fbb4f0820000cf99c149979589106f6" kindref="member">time_shift</ref>(<ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a81c1836a5ac9b48f80e21d4c7442b980" kindref="member">max</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>a)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ae42ecf9cbd590fe15303d1bc36c3ae75" kindref="member">min</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>a)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a81c1836a5ac9b48f80e21d4c7442b980" kindref="member">max</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>other)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ae42ecf9cbd590fe15303d1bc36c3ae75" kindref="member">min</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>other)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a81c1836a5ac9b48f80e21d4c7442b980" kindref="member">max</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>b);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ae42ecf9cbd590fe15303d1bc36c3ae75" kindref="member">min</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>b);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;apoint_ts&gt;<sp/><ref refid="namespaceshyft_1_1timeseries_1a84fcadcfa092d409f20c398304a45a08" kindref="member">partition_by</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1calendar" kindref="compound">calendar</ref>&amp;<sp/>cal,<sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>partition_interval,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n_partitions,<sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>common_t0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//--<sp/>in<sp/>case<sp/>the<sp/>underlying<sp/>ipoint_ts<sp/>is<sp/>a<sp/>gpoint_ts<sp/>(concrete<sp/>points)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>we<sp/>would<sp/>like<sp/>these<sp/>to<sp/>be<sp/>working<sp/>(exception<sp/>if<sp/>it&apos;s<sp/>not<sp/>possible,i.e.<sp/>an<sp/>expression)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197" refid="classshyft_1_1api_1_1apoint__ts_1a178b6fc3ea68f146d3c9574390bbab24" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1point" kindref="compound">point</ref><sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1point" kindref="compound">point</ref>(time(i),value(i));}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">set</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)<sp/>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>fill(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)<sp/>;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>scale_by(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)<sp/>;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="210" refid="structshyft_1_1api_1_1gpoint__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1gpoint__ts" kindref="compound">gpoint_ts</ref>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="211" refid="structshyft_1_1api_1_1gpoint__ts_1ac6fd3249d25091c2a80a3f0b7d7ef57f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gts_t<sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ac6fd3249d25091c2a80a3f0b7d7ef57f" kindref="member">rep</ref>;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>create<sp/>gpoint_ts,<sp/>we<sp/>use<sp/>const<sp/>ref,<sp/>move<sp/>ct<sp/>wherever<sp/>possible:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>note<sp/>(we<sp/>would<sp/>normally<sp/>use<sp/>ct<sp/>template<sp/>here,<sp/>but<sp/>we<sp/>are<sp/>aiming<sp/>at<sp/>exposing<sp/>to<sp/>python)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214" refid="structshyft_1_1api_1_1gpoint__ts_1ae608c90088f0583804f8295e8805af6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ae608c90088f0583804f8295e8805af6d" kindref="member">gpoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;ta,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fill_value,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>):rep(ta,fill_value,point_fx){}</highlight></codeline>
<codeline lineno="215" refid="structshyft_1_1api_1_1gpoint__ts_1ac79e20d8fe16118392d2f237314ff736" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ac79e20d8fe16118392d2f237314ff736" kindref="member">gpoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;&amp;<sp/>v,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>):rep(ta,v,point_fx)<sp/>{}</highlight></codeline>
<codeline lineno="216" refid="structshyft_1_1api_1_1gpoint__ts_1a57b15a338fdd75e569589a6221dd87be" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a57b15a338fdd75e569589a6221dd87be" kindref="member">gpoint_ts</ref>(gta_t&amp;&amp;ta,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fill_value,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>):rep(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta),fill_value,point_fx){}</highlight></codeline>
<codeline lineno="217" refid="structshyft_1_1api_1_1gpoint__ts_1ac2fc23d8125babc96070df8ae3be4419" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ac2fc23d8125babc96070df8ae3be4419" kindref="member">gpoint_ts</ref>(gta_t&amp;&amp;ta,std::vector&lt;double&gt;&amp;&amp;<sp/>v,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>):rep(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta),<ref refid="namespacestd" kindref="compound">std</ref>::move(v),point_fx)<sp/>{}</highlight></codeline>
<codeline lineno="218" refid="structshyft_1_1api_1_1gpoint__ts_1a693ea5e4158e5c7bcf2b68a4deb7ace1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a693ea5e4158e5c7bcf2b68a4deb7ace1" kindref="member">gpoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,std::vector&lt;double&gt;&amp;&amp;<sp/>v,<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_fx=<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">POINT_INSTANT_VALUE</ref>):rep(ta,<ref refid="namespacestd" kindref="compound">std</ref>::move(v),point_fx)<sp/>{}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>now<sp/>for<sp/>the<sp/>gpoint_ts<sp/>it<sp/>self,<sp/>constructors<sp/>incl.<sp/>move</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221" refid="structshyft_1_1api_1_1gpoint__ts_1a7c7a9c802b808670980c0e9401b26b42" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a7c7a9c802b808670980c0e9401b26b42" kindref="member">gpoint_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts" kindref="compound">gpoint_ts</ref>&amp;<sp/>c):rep(c.rep){}</highlight></codeline>
<codeline lineno="222" refid="structshyft_1_1api_1_1gpoint__ts_1a7e343b6bdc59e553e703809c3760cec3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a7e343b6bdc59e553e703809c3760cec3" kindref="member">gpoint_ts</ref>(gts_t&amp;&amp;<sp/>c):rep(<ref refid="namespacestd" kindref="compound">std</ref>::move(c)){}</highlight></codeline>
<codeline lineno="223" refid="structshyft_1_1api_1_1gpoint__ts_1acb60ebc7f6afea658b6042df4a92c2d4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts" kindref="compound">gpoint_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1acb60ebc7f6afea658b6042df4a92c2d4" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts" kindref="compound">gpoint_ts</ref>&amp;c)<sp/>{</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;c)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rep=c.<ref refid="structshyft_1_1api_1_1gpoint__ts_1ac6fd3249d25091c2a80a3f0b7d7ef57f" kindref="member">rep</ref>;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228" refid="structshyft_1_1api_1_1gpoint__ts_1a7fe7f2adc7d44db61b5ad9a748b6e0cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts" kindref="compound">gpoint_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a7fe7f2adc7d44db61b5ad9a748b6e0cc" kindref="member">operator=</ref>(<ref refid="structshyft_1_1api_1_1gpoint__ts" kindref="compound">gpoint_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rep=std::move(c.rep);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>implement<sp/>ipoint_ts<sp/>contract:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="structshyft_1_1api_1_1gpoint__ts_1a9ac763a832c028033acbc3cb056f1ed4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a9ac763a832c028033acbc3cb056f1ed4" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1aabc74da17c04562d1e3637ff1fa05858" kindref="member">point_interpretation</ref>();}</highlight></codeline>
<codeline lineno="235" refid="structshyft_1_1api_1_1gpoint__ts_1a6b5986ca3bb7bea8f72aed3158c63f2b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a6b5986ca3bb7bea8f72aed3158c63f2b" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation)<sp/>{rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a6d834afa76f72bab1e0f6a9262cd7689" kindref="member">set_point_interpretation</ref>(point_interpretation);}</highlight></codeline>
<codeline lineno="236" refid="structshyft_1_1api_1_1gpoint__ts_1aaa8811805d2e28cc4213e49769af7e81" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1aaa8811805d2e28cc4213e49769af7e81" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1afa6be34eb7aa9eaf7bf59aa418e7f97c" kindref="member">time_axis</ref>();}</highlight></codeline>
<codeline lineno="237" refid="structshyft_1_1api_1_1gpoint__ts_1ae4f5ab947c227fd8f1b56706a027d17e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ae4f5ab947c227fd8f1b56706a027d17e" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a80c0e2e2c16151e3c2a093f52fdd6ef4" kindref="member">total_period</ref>();}</highlight></codeline>
<codeline lineno="238" refid="structshyft_1_1api_1_1gpoint__ts_1abe0c1850ddebbd258ccf84f03ebaab8c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1abe0c1850ddebbd258ccf84f03ebaab8c" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a4242c4eed8e2802ed6a3c54e83e92abb" kindref="member">index_of</ref>(t);}</highlight></codeline>
<codeline lineno="239" refid="structshyft_1_1api_1_1gpoint__ts_1a0f3d3798b9eafaf137640e54f931b843" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a0f3d3798b9eafaf137640e54f931b843" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1acb195a3d5a9cb0da2d888b419388831c" kindref="member">size</ref>();}</highlight></codeline>
<codeline lineno="240" refid="structshyft_1_1api_1_1gpoint__ts_1ae3becc1a44566d2af1a68019a421949d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ae3becc1a44566d2af1a68019a421949d" kindref="member">time</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a172c90dc9ee86b182ea8ec2886c95c3e" kindref="member">time</ref>(i);};</highlight></codeline>
<codeline lineno="241" refid="structshyft_1_1api_1_1gpoint__ts_1a13404e7922e591962627aba92ef9e5e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a13404e7922e591962627aba92ef9e5e4" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1ae43bf2b4cf40130b3a20517c5c66eb70" kindref="member">value</ref>(i);}</highlight></codeline>
<codeline lineno="242" refid="structshyft_1_1api_1_1gpoint__ts_1a21f28788c36dc8a688b4eda51ed62597" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a21f28788c36dc8a688b4eda51ed62597" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep(t);}</highlight></codeline>
<codeline lineno="243" refid="structshyft_1_1api_1_1gpoint__ts_1a2bce0a6e6cdc4d96ea63a64c99d5feb6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1a2bce0a6e6cdc4d96ea63a64c99d5feb6" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a3689b8f83a40236f7d551d2555ce79ca" kindref="member">v</ref>;}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>implement<sp/>some<sp/>extra<sp/>functions<sp/>to<sp/>manipulate<sp/>the<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245" refid="structshyft_1_1api_1_1gpoint__ts_1a90b34888fcf97ab46d07bba1ea64e8b4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">set</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)<sp/>{rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a283909daa0f0338cf67cb7d62a98b3fb" kindref="member">set</ref>(i,x);}</highlight></codeline>
<codeline lineno="246" refid="structshyft_1_1api_1_1gpoint__ts_1ae2aa7e87d0d8953939d946780d905214" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ae2aa7e87d0d8953939d946780d905214" kindref="member">fill</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)<sp/>{rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a2146305aebffc297b8181ff3be00d43e" kindref="member">fill</ref>(x);}</highlight></codeline>
<codeline lineno="247" refid="structshyft_1_1api_1_1gpoint__ts_1ad7606fce4a23935b3bae8777f1285ff4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1gpoint__ts_1ad7606fce4a23935b3bae8777f1285ff4" kindref="member">scale_by</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x)<sp/>{rep.<ref refid="structshyft_1_1timeseries_1_1point__ts_1a3c389ed08d8722888c232d063294562f" kindref="member">scale_by</ref>(x);}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="268" refid="structshyft_1_1api_1_1average__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="269" refid="structshyft_1_1api_1_1average__ts_1a2b7aea09864f3875008e62e789f5fa2f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1average__ts_1a2b7aea09864f3875008e62e789f5fa2f" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="270" refid="structshyft_1_1api_1_1average__ts_1a269b214909e4b150297380abad8884ec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/><ref refid="structshyft_1_1api_1_1average__ts_1a269b214909e4b150297380abad8884ec" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>useful<sp/>constructors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272" refid="structshyft_1_1api_1_1average__ts_1af11fe00b8609119917566679037a7810" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1af11fe00b8609119917566679037a7810" kindref="member">average_ts</ref>(gta_t&amp;&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ats):ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),ts(ats.ts)<sp/>{}</highlight></codeline>
<codeline lineno="273" refid="structshyft_1_1api_1_1average__ts_1a54fecb84d4a5daf1de14fc0293de8200" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a54fecb84d4a5daf1de14fc0293de8200" kindref="member">average_ts</ref>(gta_t&amp;&amp;<sp/>ta,<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ats):ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(ats.ts))<sp/>{}</highlight></codeline>
<codeline lineno="274" refid="structshyft_1_1api_1_1average__ts_1abc26f6ed905359ebe95a43d121866c17" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1abc26f6ed905359ebe95a43d121866c17" kindref="member">average_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ats):ta(ta),ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(ats.ts))<sp/>{}</highlight></codeline>
<codeline lineno="275" refid="structshyft_1_1api_1_1average__ts_1a9784d83a964700460fd47b3f661c3f9a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a9784d83a964700460fd47b3f661c3f9a" kindref="member">average_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ats):ta(ta),ts(ats.ts)<sp/>{}</highlight></codeline>
<codeline lineno="276" refid="structshyft_1_1api_1_1average__ts_1a7285a03fd5dd6f47bd3d8f6065c7183c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a7285a03fd5dd6f47bd3d8f6065c7183c" kindref="member">average_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/>&amp;ts<sp/>):ta(ta),ts(ts){}</highlight></codeline>
<codeline lineno="277" refid="structshyft_1_1api_1_1average__ts_1a971a5147858e1fb4b88ff09247a4acb4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a971a5147858e1fb4b88ff09247a4acb4" kindref="member">average_ts</ref>(gta_t&amp;&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/>&amp;ts<sp/>):ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),ts(ts){}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>std<sp/>copy<sp/>ct<sp/>and<sp/>assign</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279" refid="structshyft_1_1api_1_1average__ts_1a4ee41d24e2976ab0cd9fe82dd898c357" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a4ee41d24e2976ab0cd9fe82dd898c357" kindref="member">average_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref><sp/>&amp;c):ta(c.ta),ts(c.ts)<sp/>{}</highlight></codeline>
<codeline lineno="280" refid="structshyft_1_1api_1_1average__ts_1ad518c7cc76a29b32789c6c028602f4a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1average__ts_1ad518c7cc76a29b32789c6c028602f4a7" kindref="member">average_ts</ref>(<ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>&amp;&amp;c):ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ts))<sp/>{}</highlight></codeline>
<codeline lineno="281" refid="structshyft_1_1api_1_1average__ts_1a639073deb69c3fc00ee5c7d9ea899722" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1average__ts_1a639073deb69c3fc00ee5c7d9ea899722" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>&amp;c)<sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;c)<sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=c.<ref refid="structshyft_1_1timeseries_1_1average__ts_1aeac053d42cbf2f55f41d0a65bfc85131" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts=c.<ref refid="structshyft_1_1timeseries_1_1average__ts_1a6325d761c51172ee1442f68efe42df75" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288" refid="structshyft_1_1api_1_1average__ts_1aeb16f13805e8f3b73cd1dd4a5c24f4c6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1average__ts_1aeb16f13805e8f3b73cd1dd4a5c24f4c6" kindref="member">operator=</ref>(<ref refid="structshyft_1_1timeseries_1_1average__ts" kindref="compound">average_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=std::move(c.ta);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts=std::move(c.ts);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>implement<sp/>ipoint_ts<sp/>contract:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294" refid="structshyft_1_1api_1_1average__ts_1ac20a1cb3104be028a65b319c65cc102e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1average__ts_1ac20a1cb3104be028a65b319c65cc102e" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa7a710c91f7e701c216acf4a4610f1815" kindref="member">point_interpretation_policy::POINT_AVERAGE_VALUE</ref>;}</highlight></codeline>
<codeline lineno="295" refid="structshyft_1_1api_1_1average__ts_1abf738d82851defbbdb366d3924629c39" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1average__ts_1abf738d82851defbbdb366d3924629c39" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation)<sp/>{;}</highlight></codeline>
<codeline lineno="296" refid="structshyft_1_1api_1_1average__ts_1aed0f5b930554bec187abc9799db86814" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1average__ts_1aed0f5b930554bec187abc9799db86814" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta;}</highlight></codeline>
<codeline lineno="297" refid="structshyft_1_1api_1_1average__ts_1a91183cbc9b9c281334b367408775cfa1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a91183cbc9b9c281334b367408775cfa1" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>();}</highlight></codeline>
<codeline lineno="298" refid="structshyft_1_1api_1_1average__ts_1a569fdcd8e49325a739da3263b96dffbb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a569fdcd8e49325a739da3263b96dffbb" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1acf0137e33285de32abd2ddf791c2b77d" kindref="member">index_of</ref>(t);}</highlight></codeline>
<codeline lineno="299" refid="structshyft_1_1api_1_1average__ts_1a6c9ffa6a5f020c04e17bb92d470ec4d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a6c9ffa6a5f020c04e17bb92d470ec4d7" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();}</highlight></codeline>
<codeline lineno="300" refid="structshyft_1_1api_1_1average__ts_1a370f13e9270f515168cdafe820417735" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a370f13e9270f515168cdafe820417735" kindref="member">time</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i);};</highlight></codeline>
<codeline lineno="301" refid="structshyft_1_1api_1_1average__ts_1a1fe34528232188d448e848fb5bb0e76a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1average__ts_1a1fe34528232188d448e848fb5bb0e76a" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(i&gt;ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>())</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1abb17c53f5f6d6eb8901cd2491680cba4" kindref="member">nan</ref>;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix_hint=(i*ts-&gt;size())/ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();</highlight><highlight class="comment">//<sp/>assume<sp/>almost<sp/>fixed<sp/>delta-t.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a0d651da5f6e3bc99dabe237a36c6e66c" kindref="member">average_value</ref>(*ts,ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1ae0e1733df752984b8d8ecf8f3e067ed9" kindref="member">period</ref>(i),ix_hint,ts-&gt;point_interpretation()<sp/>==<sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">point_interpretation_policy::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307" refid="structshyft_1_1api_1_1average__ts_1aed736fefb64ffd8c66c8c1c724d9d34c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1average__ts_1aed736fefb64ffd8c66c8c1c724d9d34c" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>true<sp/>average<sp/>at<sp/>t</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>().<ref refid="structshyft_1_1core_1_1utcperiod_1a9389e69f1aa343d037ccafda9a2d11aa" kindref="member">contains</ref>(t))</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1abb17c53f5f6d6eb8901cd2491680cba4" kindref="member">nan</ref>;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>value(index_of(t));</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="313" refid="structshyft_1_1api_1_1average__ts_1a54e6c145d0615b959acfb713207613f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1average__ts_1a54e6c145d0615b959acfb713207613f2" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>r;r.reserve(ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>());</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix_hint=ts-&gt;index_of(ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(0));</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>linear_interpretation=ts-&gt;point_interpretation()<sp/>==<sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">point_interpretation_policy::POINT_INSTANT_VALUE</ref>;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i=0;i&lt;ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();++i)<sp/>{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r.push_back(<ref refid="namespaceshyft_1_1timeseries_1a0d651da5f6e3bc99dabe237a36c6e66c" kindref="member">average_value</ref>(*ts,ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1ae0e1733df752984b8d8ecf8f3e067ed9" kindref="member">period</ref>(i),ix_hint,linear_interpretation));</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::move(r);</highlight><highlight class="comment">//needed<sp/>?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>help<sp/>the<sp/>average<sp/>function,<sp/>return<sp/>the<sp/>i&apos;th<sp/>point<sp/>of<sp/>the<sp/>underlying<sp/>timeseries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//point<sp/>get(size_t<sp/>i)<sp/>const<sp/>{return<sp/>point(ts-&gt;time(i),ts-&gt;value(i));}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="351" refid="structshyft_1_1api_1_1accumulate__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref><sp/>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="352" refid="structshyft_1_1api_1_1accumulate__ts_1afa3d21dc175cea1929de32b03f1b2b28" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1afa3d21dc175cea1929de32b03f1b2b28" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="353" refid="structshyft_1_1api_1_1accumulate__ts_1ade1c7cddcda8881d4d48208aa803ca04" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1ade1c7cddcda8881d4d48208aa803ca04" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>useful<sp/>constructors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355" refid="structshyft_1_1api_1_1accumulate__ts_1a653a131c0442217da4662b59cbf701c2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a653a131c0442217da4662b59cbf701c2" kindref="member">accumulate_ts</ref>(gta_t&amp;&amp;<sp/>ta,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ats)<sp/>:ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),<sp/>ts(ats.ts)<sp/>{}</highlight></codeline>
<codeline lineno="356" refid="structshyft_1_1api_1_1accumulate__ts_1a28154b745bfa17b309a7f54fc3c7e689" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a28154b745bfa17b309a7f54fc3c7e689" kindref="member">accumulate_ts</ref>(gta_t&amp;&amp;<sp/>ta,<sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ats)<sp/>:ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),<sp/>ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(ats.ts))<sp/>{}</highlight></codeline>
<codeline lineno="357" refid="structshyft_1_1api_1_1accumulate__ts_1ac0b77ed56cb850ebb82ab1448783077a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1ac0b77ed56cb850ebb82ab1448783077a" kindref="member">accumulate_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,<sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ats)<sp/>:ta(ta),<sp/>ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(ats.ts))<sp/>{}</highlight></codeline>
<codeline lineno="358" refid="structshyft_1_1api_1_1accumulate__ts_1aded273ae53aa475bca8023d827f67e34" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1aded273ae53aa475bca8023d827f67e34" kindref="member">accumulate_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ats)<sp/>:ta(ta),<sp/>ts(ats.ts)<sp/>{}</highlight></codeline>
<codeline lineno="359" refid="structshyft_1_1api_1_1accumulate__ts_1a253ae971123fc2e7327e3265717f30c3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a253ae971123fc2e7327e3265717f30c3" kindref="member">accumulate_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/>&amp;ts)<sp/>:ta(ta),<sp/>ts(ts)<sp/>{}</highlight></codeline>
<codeline lineno="360" refid="structshyft_1_1api_1_1accumulate__ts_1ae239ae6e49a02e818fe1aab0d0a44b85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1ae239ae6e49a02e818fe1aab0d0a44b85" kindref="member">accumulate_ts</ref>(gta_t&amp;&amp;<sp/>ta,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/>&amp;ts)<sp/>:ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),<sp/>ts(ts)<sp/>{}</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>std<sp/>copy<sp/>ct<sp/>and<sp/>assign</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362" refid="structshyft_1_1api_1_1accumulate__ts_1a9f21f298eb586c16e4226709e54de68b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a9f21f298eb586c16e4226709e54de68b" kindref="member">accumulate_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref><sp/>&amp;c)<sp/>:ta(c.ta),<sp/>ts(c.ts)<sp/>{}</highlight></codeline>
<codeline lineno="363" refid="structshyft_1_1api_1_1accumulate__ts_1a8392369a3ff7292b790d07478db20440" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a8392369a3ff7292b790d07478db20440" kindref="member">accumulate_ts</ref>(<ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>&amp;&amp;c)<sp/>:ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(ta)),<sp/>ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ts))<sp/>{}</highlight></codeline>
<codeline lineno="364" refid="structshyft_1_1api_1_1accumulate__ts_1af52f8c8c422052ff7ba9a65a1bb6729f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1af52f8c8c422052ff7ba9a65a1bb6729f" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>&amp;c)<sp/>{</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;c)<sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/>=<sp/>c.<ref refid="structshyft_1_1timeseries_1_1accumulate__ts_1ad3071047bee451f6af24b1a907efc052" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts<sp/>=<sp/>c.<ref refid="structshyft_1_1timeseries_1_1accumulate__ts_1a0ca35cf93f1174b488a32687e231292e" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371" refid="structshyft_1_1api_1_1accumulate__ts_1ae5de7a4a5c4d17dcf562ba01f6101c17" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1ae5de7a4a5c4d17dcf562ba01f6101c17" kindref="member">operator=</ref>(<ref refid="structshyft_1_1timeseries_1_1accumulate__ts" kindref="compound">accumulate_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/>=<sp/>std::move(c.ta);</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts<sp/>=<sp/>std::move(c.ts);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>implement<sp/>ipoint_ts<sp/>contract:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377" refid="structshyft_1_1api_1_1accumulate__ts_1a3628cc7c78c5b40ab3aa2d49f3e3264b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a3628cc7c78c5b40ab3aa2d49f3e3264b" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">point_interpretation_policy::POINT_INSTANT_VALUE</ref>;<sp/>}</highlight></codeline>
<codeline lineno="378" refid="structshyft_1_1api_1_1accumulate__ts_1ada3381b3a50b8221ed88027aebda8b4b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1ada3381b3a50b8221ed88027aebda8b4b" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation)<sp/>{<sp/>;<sp/>}</highlight><highlight class="comment">//<sp/>we<sp/>could<sp/>throw<sp/>here..</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379" refid="structshyft_1_1api_1_1accumulate__ts_1aaa52dcc1c77aa63ed451864422c24412" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1aaa52dcc1c77aa63ed451864422c24412" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta;<sp/>}</highlight></codeline>
<codeline lineno="380" refid="structshyft_1_1api_1_1accumulate__ts_1a04b197b2cfd4385881ae9f2568d13cb0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a04b197b2cfd4385881ae9f2568d13cb0" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>();<sp/>}</highlight></codeline>
<codeline lineno="381" refid="structshyft_1_1api_1_1accumulate__ts_1a6dfe6d6f54850a47bd53f8bb5907787a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a6dfe6d6f54850a47bd53f8bb5907787a" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1acf0137e33285de32abd2ddf791c2b77d" kindref="member">index_of</ref>(t);<sp/>}</highlight></codeline>
<codeline lineno="382" refid="structshyft_1_1api_1_1accumulate__ts_1a19ec20514d07394ff0fbea2fd60bd61f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a19ec20514d07394ff0fbea2fd60bd61f" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();<sp/>}</highlight></codeline>
<codeline lineno="383" refid="structshyft_1_1api_1_1accumulate__ts_1a213f022b348caab0d3fc4b6af3672a1b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a213f022b348caab0d3fc4b6af3672a1b" kindref="member">time</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i);<sp/>};</highlight></codeline>
<codeline lineno="384" refid="structshyft_1_1api_1_1accumulate__ts_1a90aaa88444637ba7dd61314071aa9461" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1a90aaa88444637ba7dd61314071aa9461" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i&gt;ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>())</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1abb17c53f5f6d6eb8901cd2491680cba4" kindref="member">nan</ref>;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>==<sp/>0)</highlight><highlight class="comment">//<sp/>by<sp/>definition,0.0<sp/>at<sp/>i=0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0.0;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix_hint<sp/>=<sp/>0;</highlight><highlight class="comment">//<sp/>assume<sp/>almost<sp/>fixed<sp/>delta-t.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>tsum;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a388c165bea7597e2fd0264fe272c5479" kindref="member">accumulate_value</ref>(*ts,<sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref>(ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(0),<sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i)),<sp/>ix_hint,<sp/>tsum,<sp/>ts-&gt;point_interpretation()<sp/>==<sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">point_interpretation_policy::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="393" refid="structshyft_1_1api_1_1accumulate__ts_1ae43d39be1a689b79b80f1e55bbe0ae46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1ae43d39be1a689b79b80f1e55bbe0ae46" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>true<sp/>accumulated<sp/>value<sp/>at<sp/>t</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>().<ref refid="structshyft_1_1core_1_1utcperiod_1a9389e69f1aa343d037ccafda9a2d11aa" kindref="member">contains</ref>(t))</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1abb17c53f5f6d6eb8901cd2491680cba4" kindref="member">nan</ref>;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(t<sp/>==<sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(0))</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0.0;<sp/></highlight><highlight class="comment">//<sp/>by<sp/>definition</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>tsum;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix_hint<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a388c165bea7597e2fd0264fe272c5479" kindref="member">accumulate_value</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref>(ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(0),<sp/>t),<sp/>ix_hint,<sp/>tsum,<sp/>ts-&gt;point_interpretation()<sp/>==<sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa2ba877b0fea2668327cdcdb24c59a34b" kindref="member">point_interpretation_policy::POINT_INSTANT_VALUE</ref>);</highlight><highlight class="comment">//<sp/>also<sp/>note:<sp/>average<sp/>of<sp/>non-nan<sp/>areas<sp/>!;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403" refid="structshyft_1_1api_1_1accumulate__ts_1aee239e1a7068336fc0fc962441ade0bc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1accumulate__ts_1aee239e1a7068336fc0fc962441ade0bc" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>r;r.reserve(ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>());</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1timeseries_1_1accumulate__accessor" kindref="compound">accumulate_accessor&lt;ipoint_ts, gta_t&gt;</ref><sp/><ref refid="namespaceshyft_1_1api_1abc8be68c104b8ce6fde4b68f4c8a1724" kindref="member">accumulate</ref>(*ts,<sp/>ta);</highlight><highlight class="comment">//<sp/>use<sp/>accessor,<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i&lt;ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();++i)<sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>given<sp/>sequential<sp/>access</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r.push_back(accumulate.<ref refid="classshyft_1_1timeseries_1_1accumulate__accessor_1aec7d13ad5e6e8c2d9f417ae6a3728f39" kindref="member">value</ref>(i));<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>reuses<sp/>acc.computation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::move(r);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>help<sp/>the<sp/>average<sp/>function,<sp/>return<sp/>the<sp/>i&apos;th<sp/>point<sp/>of<sp/>the<sp/>underlying<sp/>timeseries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//point<sp/>get(size_t<sp/>i)<sp/>const<sp/>{return<sp/>point(ts-&gt;time(i),ts-&gt;value(i));}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="431" refid="structshyft_1_1api_1_1time__shift__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="432" refid="structshyft_1_1api_1_1time__shift__ts_1a38cd8beb94f54ab44b6c955d6a0d68c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a38cd8beb94f54ab44b6c955d6a0d68c5" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="433" refid="structshyft_1_1api_1_1time__shift__ts_1a25a8a2364c0b690d6786450e54aff7a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a25a8a2364c0b690d6786450e54aff7a5" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="434" refid="structshyft_1_1api_1_1time__shift__ts_1a6862c70f88840e26c6ca84b522e35f5e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a6862c70f88840e26c6ca84b522e35f5e" kindref="member">dt</ref>;</highlight><highlight class="comment">//<sp/>despite<sp/>ta<sp/>time-axis,<sp/>we<sp/>need<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//--<sp/>default<sp/>stuff,<sp/>ct/copy<sp/>etc<sp/>goes<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437" refid="structshyft_1_1api_1_1time__shift__ts_1ae61c00ee87409b5130c6b1f9ba11d480" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ae61c00ee87409b5130c6b1f9ba11d480" kindref="member">time_shift_ts</ref>():dt(0)<sp/>{}</highlight></codeline>
<codeline lineno="438" refid="structshyft_1_1api_1_1time__shift__ts_1ac7f1a3967b1f41b693cb1cef55cb8030" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ac7f1a3967b1f41b693cb1cef55cb8030" kindref="member">time_shift_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>&amp;<sp/>c):ts(c.ts),ta(c.ta),dt(c.dt)<sp/>{}</highlight></codeline>
<codeline lineno="439" refid="structshyft_1_1api_1_1time__shift__ts_1a6db4bd8db2d50310e0895148e8bd6d94" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a6db4bd8db2d50310e0895148e8bd6d94" kindref="member">time_shift_ts</ref>(<ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>&amp;&amp;c):ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ts)),ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ta)),dt(c.dt)<sp/>{}</highlight></codeline>
<codeline lineno="440" refid="structshyft_1_1api_1_1time__shift__ts_1ac24880c31f78e7587496b10a58349b5e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ac24880c31f78e7587496b10a58349b5e" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>&amp;<sp/>o)<sp/>{</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;o)<sp/>{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts=o.<ref refid="structshyft_1_1timeseries_1_1time__shift__ts_1a62747ec8c94a732ed4b674f0ae2509fd" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=o.<ref refid="structshyft_1_1timeseries_1_1time__shift__ts_1af243dbde3725e111ab12ef4a0de078a9" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//fx_policy=o.fx_policy;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dt=o.<ref refid="structshyft_1_1timeseries_1_1time__shift__ts_1aaf9738b63fa6c8f590918a5bc8fa9f37" kindref="member">dt</ref>;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450" refid="structshyft_1_1api_1_1time__shift__ts_1ac4f64f1466fb79497c5b046f8df1e901" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ac4f64f1466fb79497c5b046f8df1e901" kindref="member">operator=</ref>(<ref refid="structshyft_1_1timeseries_1_1time__shift__ts" kindref="compound">time_shift_ts</ref>&amp;&amp;<sp/>o)<sp/>{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts=std::move(o.ts);</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=std::move(o.ta);</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//fx_policy=o.fx_policy;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dt=o.dt;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//--<sp/>useful<sp/>ct<sp/>goes<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459" refid="structshyft_1_1api_1_1time__shift__ts_1a22089ac25f8fc9f5c253596aafa30579" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a22089ac25f8fc9f5c253596aafa30579" kindref="member">time_shift_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ats,<ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt):ts(ats.ts),ta(time_axis::<ref refid="namespaceshyft_1_1api_1a5fbb4f0820000cf99c149979589106f6" kindref="member">time_shift</ref>(ats.time_axis(),dt)),dt(dt)<sp/>{}</highlight></codeline>
<codeline lineno="460" refid="structshyft_1_1api_1_1time__shift__ts_1a882c31df18a1ddced8b1c76c771df8b4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a882c31df18a1ddced8b1c76c771df8b4" kindref="member">time_shift_ts</ref>(<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ats,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt):ts(<ref refid="namespacestd" kindref="compound">std</ref>::move(ats.ts)),ta(time_axis::<ref refid="namespaceshyft_1_1api_1a5fbb4f0820000cf99c149979589106f6" kindref="member">time_shift</ref>(ats.time_axis(),dt)),dt(dt)<sp/>{}</highlight></codeline>
<codeline lineno="461" refid="structshyft_1_1api_1_1time__shift__ts_1a8da029994136ded1fb03a3bb83ca354b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a8da029994136ded1fb03a3bb83ca354b" kindref="member">time_shift_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::shared_ptr&lt;ipoint_ts&gt;<sp/>&amp;ts,<sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>dt<sp/>):ts(ts),ta(time_axis::<ref refid="namespaceshyft_1_1api_1a5fbb4f0820000cf99c149979589106f6" kindref="member">time_shift</ref>(ts-&gt;time_axis(),dt)),dt(dt){}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>implement<sp/>ipoint_ts<sp/>contract:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464" refid="structshyft_1_1api_1_1time__shift__ts_1a75b68d55caad8b072a74527163d40e02" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a75b68d55caad8b072a74527163d40e02" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;point_interpretation();}</highlight></codeline>
<codeline lineno="465" refid="structshyft_1_1api_1_1time__shift__ts_1ab3a95791b2af5104a7ebb1df8dbe3593" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ab3a95791b2af5104a7ebb1df8dbe3593" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>point_interpretation)<sp/>{ts-&gt;set_point_interpretation(point_interpretation);}</highlight></codeline>
<codeline lineno="466" refid="structshyft_1_1api_1_1time__shift__ts_1a3921686863c5deb5894c761f8e5d75c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a3921686863c5deb5894c761f8e5d75c9" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta;}</highlight></codeline>
<codeline lineno="467" refid="structshyft_1_1api_1_1time__shift__ts_1a4e3e70a7fe2b725ca3e360a26775090e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a4e3e70a7fe2b725ca3e360a26775090e" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>();}</highlight></codeline>
<codeline lineno="468" refid="structshyft_1_1api_1_1time__shift__ts_1ada0cd69058b1e2fb3948dc8d74775751" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ada0cd69058b1e2fb3948dc8d74775751" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1acf0137e33285de32abd2ddf791c2b77d" kindref="member">index_of</ref>(t);}</highlight></codeline>
<codeline lineno="469" refid="structshyft_1_1api_1_1time__shift__ts_1a51147657612ccc3ec02465cb9af9b419" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a51147657612ccc3ec02465cb9af9b419" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();}</highlight></codeline>
<codeline lineno="470" refid="structshyft_1_1api_1_1time__shift__ts_1ae877a6b2fc31ceedb02f2dc65ed12370" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1ae877a6b2fc31ceedb02f2dc65ed12370" kindref="member">time</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i);};</highlight></codeline>
<codeline lineno="471" refid="structshyft_1_1api_1_1time__shift__ts_1a08636300b374121e9a5be488253a735f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a08636300b374121e9a5be488253a735f" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;value(i);}</highlight></codeline>
<codeline lineno="472" refid="structshyft_1_1api_1_1time__shift__ts_1a1500e2a8b87e9f21b500b395d07f5655" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a1500e2a8b87e9f21b500b395d07f5655" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;value_at(t-dt);}</highlight></codeline>
<codeline lineno="473" refid="structshyft_1_1api_1_1time__shift__ts_1a728e004b568ebfa65e7137c9eaa329bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1time__shift__ts_1a728e004b568ebfa65e7137c9eaa329bf" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts-&gt;values();}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="480" refid="structshyft_1_1api_1_1periodic__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref><sp/>:<sp/><ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="481" refid="structshyft_1_1api_1_1periodic__ts_1a2b039dbbeca972d3c66068de124bb4de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">shyft::timeseries::periodic_ts&lt;profile_description, gta_t&gt;</ref><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a2b039dbbeca972d3c66068de124bb4de" kindref="member">pts_t</ref>;</highlight></codeline>
<codeline lineno="482" refid="structshyft_1_1api_1_1periodic__ts_1ae1388e30a59704f59ace0a9ba68dd3fc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pts_t<sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1ae1388e30a59704f59ace0a9ba68dd3fc" kindref="member">ts</ref>;</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484" refid="structshyft_1_1api_1_1periodic__ts_1a18f4c020b02a77f12a407517dcb00c85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a18f4c020b02a77f12a407517dcb00c85" kindref="member">periodic_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;double&gt;&amp;<sp/>pattern,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta)<sp/>:<sp/>ts(pattern,<sp/>dt,<sp/>ta)<sp/>{}</highlight></codeline>
<codeline lineno="485" refid="structshyft_1_1api_1_1periodic__ts_1afbcd1232d165c2ba62d0054a5d71afc8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1afbcd1232d165c2ba62d0054a5d71afc8" kindref="member">periodic_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;double&gt;&amp;<sp/>pattern,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt,<sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>pattern_t0,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta)<sp/>:<sp/>ts(pattern,<sp/>dt,pattern_t0,ta)<sp/>{}</highlight></codeline>
<codeline lineno="486" refid="structshyft_1_1api_1_1periodic__ts_1ac4a165f8fb686e03c9c31c2547e9c949" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1ac4a165f8fb686e03c9c31c2547e9c949" kindref="member">periodic_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref>&amp;<sp/>c)<sp/>:<sp/>ts(c.ts)<sp/>{}</highlight></codeline>
<codeline lineno="487" refid="structshyft_1_1api_1_1periodic__ts_1a5381a02a0c7ddafe8555532824debcb6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a5381a02a0c7ddafe8555532824debcb6" kindref="member">periodic_ts</ref>(<ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref>&amp;&amp;<sp/>c)<sp/>:<sp/>ts(move(c.ts))<sp/>{}</highlight></codeline>
<codeline lineno="488" refid="structshyft_1_1api_1_1periodic__ts_1a8be310fe6bdc412797b37b2bb80c6d1d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a8be310fe6bdc412797b37b2bb80c6d1d" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;c)<sp/>{</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts<sp/>=<sp/>c.ts;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="494" refid="structshyft_1_1api_1_1periodic__ts_1adebe1053e540d1480f21a267ea696bf6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1adebe1053e540d1480f21a267ea696bf6" kindref="member">operator=</ref>(<ref refid="structshyft_1_1timeseries_1_1periodic__ts" kindref="compound">periodic_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ts<sp/>=<sp/>move(c.ts);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>implement<sp/>ipoint_ts<sp/>contract</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="500" refid="structshyft_1_1api_1_1periodic__ts_1a23d06d3b2b22c75ad4ae3364380acc7d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a23d06d3b2b22c75ad4ae3364380acc7d" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0eaa7a710c91f7e701c216acf4a4610f1815" kindref="member">point_interpretation_policy::POINT_AVERAGE_VALUE</ref>;<sp/>}</highlight></codeline>
<codeline lineno="501" refid="structshyft_1_1api_1_1periodic__ts_1a53e461e3515bfc58e31525b895965a21" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a53e461e3515bfc58e31525b895965a21" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref>)<sp/>{<sp/>;<sp/>}</highlight></codeline>
<codeline lineno="502" refid="structshyft_1_1api_1_1periodic__ts_1a254c2a11e4bc228dfbb9208e7aace113" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a254c2a11e4bc228dfbb9208e7aace113" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1aecfa54c94d3e5fac1c1f35b3f05ee1f1" kindref="member">ta</ref>;<sp/>}</highlight></codeline>
<codeline lineno="503" refid="structshyft_1_1api_1_1periodic__ts_1a3b1b61dc8ffc982cce325cd6b0eb14aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a3b1b61dc8ffc982cce325cd6b0eb14aa" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1aecfa54c94d3e5fac1c1f35b3f05ee1f1" kindref="member">ta</ref>.total_period();<sp/>}</highlight></codeline>
<codeline lineno="504" refid="structshyft_1_1api_1_1periodic__ts_1a45f40346fe191883c62f96e643f4d6db" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a45f40346fe191883c62f96e643f4d6db" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1a08dce5b03df853dd414347e245b2057b" kindref="member">index_of</ref>(t);<sp/>}</highlight></codeline>
<codeline lineno="505" refid="structshyft_1_1api_1_1periodic__ts_1ad142ef69be44b71a36b9b3431ba10c59" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1ad142ef69be44b71a36b9b3431ba10c59" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1aecfa54c94d3e5fac1c1f35b3f05ee1f1" kindref="member">ta</ref>.size();<sp/>}</highlight></codeline>
<codeline lineno="506" refid="structshyft_1_1api_1_1periodic__ts_1acfc9773319b34ecc333d28b526f94bfe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1acfc9773319b34ecc333d28b526f94bfe" kindref="member">time</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1aecfa54c94d3e5fac1c1f35b3f05ee1f1" kindref="member">ta</ref>.time(i);<sp/>}</highlight></codeline>
<codeline lineno="507" refid="structshyft_1_1api_1_1periodic__ts_1afb87003e223bbe943e8ebe94ef0d815b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1afb87003e223bbe943e8ebe94ef0d815b" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1aca3bf6de1a627d5d488d9c1ad97b8876" kindref="member">value</ref>(i);<sp/>}</highlight></codeline>
<codeline lineno="508" refid="structshyft_1_1api_1_1periodic__ts_1a1906aa722353d17fbfb4b1d3bf551caa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a1906aa722353d17fbfb4b1d3bf551caa" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>value(index_of(t));<sp/>}</highlight></codeline>
<codeline lineno="509" refid="structshyft_1_1api_1_1periodic__ts_1a3acd7bfef06fe2c56235d8fb5fd18d31" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1periodic__ts_1a3acd7bfef06fe2c56235d8fb5fd18d31" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ts.<ref refid="structshyft_1_1timeseries_1_1periodic__ts_1a8bc65eb30d80a879588595d63ba362d8" kindref="member">values</ref>();<sp/>}</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="518" refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>double<sp/>(*<ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref>)(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>a,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>b);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="537" refid="structshyft_1_1api_1_1abin__op__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539" refid="structshyft_1_1api_1_1abin__op__ts_1a727cf1691ae2ceb57007d4372f07b492" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1a727cf1691ae2ceb57007d4372f07b492" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="540" refid="structshyft_1_1api_1_1abin__op__ts_1ac7be6ad975b78d1779f7d16172b49b23" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ac7be6ad975b78d1779f7d16172b49b23" kindref="member">op</ref>;</highlight></codeline>
<codeline lineno="541" refid="structshyft_1_1api_1_1abin__op__ts_1acc6d8c53f493a31bf37b95d746492912" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1acc6d8c53f493a31bf37b95d746492912" kindref="member">rhs</ref>;</highlight></codeline>
<codeline lineno="542" refid="structshyft_1_1api_1_1abin__op__ts_1aa629242be92f723175ceb1bf4d6742b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1aa629242be92f723175ceb1bf4d6742b3" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="543" refid="structshyft_1_1api_1_1abin__op__ts_1af858be8f959ef64f77cfbc5ed6e2d267" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1af858be8f959ef64f77cfbc5ed6e2d267" kindref="member">fx_policy</ref>;</highlight></codeline>
<codeline lineno="544" refid="structshyft_1_1api_1_1abin__op__ts_1ad9c7e3f6081ae527ee23a92f935ef516" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ad9c7e3f6081ae527ee23a92f935ef516" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fx_policy;}</highlight></codeline>
<codeline lineno="545" refid="structshyft_1_1api_1_1abin__op__ts_1af9c5e45832acfeab84c9e35456451601" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1af9c5e45832acfeab84c9e35456451601" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>x)<sp/>{fx_policy=x;}</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547" refid="structshyft_1_1api_1_1abin__op__ts_1a47dc16618f9aa1a1421e0862c17e862a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1a47dc16618f9aa1a1421e0862c17e862a" kindref="member">abin_op_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/>&amp;lhs,<ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref><sp/>op,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(lhs),op(op),rhs(rhs)<sp/>{</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=<ref refid="namespaceshyft_1_1time__axis_1aec71c1b0f362be4c335177d0f6c033f3" kindref="member">time_axis::combine</ref>(lhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a22d4342529bee8bdf0cec14e88c0b4d6" kindref="member">time_axis</ref>(),rhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a22d4342529bee8bdf0cec14e88c0b4d6" kindref="member">time_axis</ref>());</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy=<sp/><ref refid="namespaceshyft_1_1timeseries_1a992bc0f4c6d86ea04a9c7f1a18f8f5e7" kindref="member">result_policy</ref>(lhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a6679e02699f441e2ce6bf812c9896a1d" kindref="member">point_interpretation</ref>(),rhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a6679e02699f441e2ce6bf812c9896a1d" kindref="member">point_interpretation</ref>());</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="552" refid="structshyft_1_1api_1_1abin__op__ts_1ad46229eec18ad4f4125da9e30e3dcc09" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ad46229eec18ad4f4125da9e30e3dcc09" kindref="member">abin_op_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>&amp;<sp/>c)</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(c.lhs),op(c.op),rhs(c.rhs),ta(c.ta),fx_policy(c.fx_policy)<sp/>{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="555" refid="structshyft_1_1api_1_1abin__op__ts_1a03aa43dc7a354d50fe57a7be63d80a8e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1a03aa43dc7a354d50fe57a7be63d80a8e" kindref="member">abin_op_ts</ref>(<ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>&amp;&amp;<sp/>c)</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.lhs)),op(c.op),rhs(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.rhs)),ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ta)),fx_policy(c.fx_policy)</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight></codeline>
<codeline lineno="560" refid="structshyft_1_1api_1_1abin__op__ts_1a7e99ce91671611d33b2ea35abb8dc918" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1a7e99ce91671611d33b2ea35abb8dc918" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts_1a727cf1691ae2ceb57007d4372f07b492" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>op<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts_1ac7be6ad975b78d1779f7d16172b49b23" kindref="member">op</ref>;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts_1acc6d8c53f493a31bf37b95d746492912" kindref="member">rhs</ref>;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts_1aa629242be92f723175ceb1bf4d6742b3" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts_1af858be8f959ef64f77cfbc5ed6e2d267" kindref="member">fx_policy</ref>;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571" refid="structshyft_1_1api_1_1abin__op__ts_1a07be4e03f3fda546067b6637ee56e9f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1a07be4e03f3fda546067b6637ee56e9f6" kindref="member">operator=</ref>(<ref refid="structshyft_1_1api_1_1abin__op__ts" kindref="compound">abin_op_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs<sp/>=<sp/>std::move(c.lhs);</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>op<sp/>=<sp/>c.op;</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs<sp/>=<sp/>std::move(c.rhs);</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/><sp/>=<sp/>std::move(c.ta);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy<sp/>=<sp/>c.fx_policy;</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582" refid="structshyft_1_1api_1_1abin__op__ts_1a63edec99ced5c9bff64394974261b05e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1a63edec99ced5c9bff64394974261b05e" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>();}</highlight></codeline>
<codeline lineno="583" refid="structshyft_1_1api_1_1abin__op__ts_1ade50b050076f4cb443a4ac2ac9745fcb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ade50b050076f4cb443a4ac2ac9745fcb" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta;};</highlight><highlight class="comment">//<sp/>combine<sp/>lhs,rhs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="584" refid="structshyft_1_1api_1_1abin__op__ts_1ab6878a52f0329393d0afe1a7cd078d47" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ab6878a52f0329393d0afe1a7cd078d47" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const</highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1acf0137e33285de32abd2ddf791c2b77d" kindref="member">index_of</ref>(t);};</highlight></codeline>
<codeline lineno="585" refid="structshyft_1_1api_1_1abin__op__ts_1ae60aff2bd20140ca54c7e89093a02ef8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ae60aff2bd20140ca54c7e89093a02ef8" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();};</highlight><highlight class="comment">//<sp/>use<sp/>the<sp/>combined<sp/>ta.size();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="586" refid="structshyft_1_1api_1_1abin__op__ts_1ae995836c206b1e0e21ca4a3f50335996" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts_1ae995836c206b1e0e21ca4a3f50335996" kindref="member">time</ref>(<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i);};<sp/></highlight><highlight class="comment">//<sp/>reeturn<sp/>combined<sp/>ta.time(i)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value_at(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>;</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight><highlight class="comment">//<sp/>return<sp/>op(<sp/>lhs(t),<sp/>rhs(t))<sp/>..</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>values()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="597" refid="structshyft_1_1api_1_1abin__op__scalar__ts" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="598" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1eb5ae710af8696afda9423cb5e8661" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1eb5ae710af8696afda9423cb5e8661" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="599" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1ad1522a90e495742e09b3561e100f9618" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1ad1522a90e495742e09b3561e100f9618" kindref="member">op</ref>;</highlight></codeline>
<codeline lineno="600" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1d3eba717a39e76af1440868c60e5f4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1d3eba717a39e76af1440868c60e5f4" kindref="member">rhs</ref>;</highlight></codeline>
<codeline lineno="601" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a1831bc1b20b86c8c58fb68c3b1635be7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a1831bc1b20b86c8c58fb68c3b1635be7" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="602" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1af9ca8990ece971ae2c70fd57a046489e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1af9ca8990ece971ae2c70fd57a046489e" kindref="member">fx_policy</ref>;</highlight></codeline>
<codeline lineno="603" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a9ebf29bc0372f5495b5927c3f41913f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a9ebf29bc0372f5495b5927c3f41913f2" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fx_policy;}</highlight></codeline>
<codeline lineno="604" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a711fcb9e4bad853291b5de113a1e0ec3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a711fcb9e4bad853291b5de113a1e0ec3" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>x)<sp/>{fx_policy=x;}</highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a2248ebd0fea1bf09a83ce02729dbebef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a2248ebd0fea1bf09a83ce02729dbebef" kindref="member">abin_op_scalar_ts</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>lhs,<ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref><sp/>op,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(lhs),op(op),rhs(rhs)<sp/>{</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=rhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a22d4342529bee8bdf0cec14e88c0b4d6" kindref="member">time_axis</ref>();</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy=<sp/>rhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a6679e02699f441e2ce6bf812c9896a1d" kindref="member">point_interpretation</ref>();</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="611" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a67d7adabc105661b89ab2e4b58254a68" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a67d7adabc105661b89ab2e4b58254a68" kindref="member">abin_op_scalar_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>&amp;<sp/>c)</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(c.lhs),op(c.op),rhs(c.rhs),ta(c.ta),fx_policy(c.fx_policy)<sp/>{</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="614" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a312b811e56b4d669fe73c6a485a500db" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a312b811e56b4d669fe73c6a485a500db" kindref="member">abin_op_scalar_ts</ref>(<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>&amp;&amp;<sp/>c)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(c.lhs),op(c.op),rhs(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.rhs)),ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ta)),fx_policy(c.fx_policy)</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="618"><highlight class="normal"></highlight></codeline>
<codeline lineno="619" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a31036a28ae48d0fcf773f5920cb6f0ef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a31036a28ae48d0fcf773f5920cb6f0ef" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1eb5ae710af8696afda9423cb5e8661" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>op<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1ad1522a90e495742e09b3561e100f9618" kindref="member">op</ref>;</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1d3eba717a39e76af1440868c60e5f4" kindref="member">rhs</ref>;</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a1831bc1b20b86c8c58fb68c3b1635be7" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1af9ca8990ece971ae2c70fd57a046489e" kindref="member">fx_policy</ref>;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a04efb6c90b3fc4414460546c49f79b77" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a04efb6c90b3fc4414460546c49f79b77" kindref="member">operator=</ref>(<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts" kindref="compound">abin_op_scalar_ts</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1aa1eb5ae710af8696afda9423cb5e8661" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>op<sp/>=<sp/>c.op;</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs<sp/>=<sp/>std::move(c.rhs);</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/><sp/>=<sp/>std::move(c.ta);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy<sp/>=<sp/>c.fx_policy;</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1ae240e717ba96dbe17e36f475be7b6be6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1ae240e717ba96dbe17e36f475be7b6be6" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>();}</highlight></codeline>
<codeline lineno="642" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a2aaa53c77292cb33856dfd09926e2368" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a2aaa53c77292cb33856dfd09926e2368" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta;};</highlight><highlight class="comment">//<sp/>combine<sp/>lhs,rhs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a88a363e6f8b7ddbd45d6abe8c96dbd69" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a88a363e6f8b7ddbd45d6abe8c96dbd69" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const</highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1acf0137e33285de32abd2ddf791c2b77d" kindref="member">index_of</ref>(t);};</highlight></codeline>
<codeline lineno="644" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1abec82b002565180faa57161be35f406e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1abec82b002565180faa57161be35f406e" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();};</highlight></codeline>
<codeline lineno="645" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a8823a405c6e8196c0f85ea2daaa31ffd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a8823a405c6e8196c0f85ea2daaa31ffd" kindref="member">time</ref>(<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i);};</highlight></codeline>
<codeline lineno="646" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a062a134cbfe6d1bf92c3f654fc1dbdfd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a062a134cbfe6d1bf92c3f654fc1dbdfd" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>op(lhs,rhs(t));}</highlight></codeline>
<codeline lineno="647" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a4975e90cc0402e9e4fed1b3438375870" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a4975e90cc0402e9e4fed1b3438375870" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>op(lhs,rhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1ac3f9b857cefe2eb564903b6243fc0467" kindref="member">value</ref>(i));}</highlight></codeline>
<codeline lineno="648" refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a147949cdfcebfd24ea0c6c859a90c122" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1abin__op__scalar__ts_1a147949cdfcebfd24ea0c6c859a90c122" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>r(rhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a6604b9fcee0a2fb2fed3e5d8c64cd9cd" kindref="member">values</ref>());</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>v:r)</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v=op(lhs,v);</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>r;</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="656"><highlight class="normal"></highlight></codeline>
<codeline lineno="661" refid="structshyft_1_1api_1_1abin__op__ts__scalar" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>:<ref refid="structshyft_1_1api_1_1ipoint__ts" kindref="compound">ipoint_ts</ref><sp/>{</highlight></codeline>
<codeline lineno="662" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a5b1794b6a0a8bbc06bb8ea61bed71e9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a5b1794b6a0a8bbc06bb8ea61bed71e9b" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="663" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1afc7fb12d62e1d51cc92795ffcf4e24a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1afc7fb12d62e1d51cc92795ffcf4e24a7" kindref="member">op</ref>;</highlight></codeline>
<codeline lineno="664" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a09417e91935583c5fa060db674581465" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a09417e91935583c5fa060db674581465" kindref="member">rhs</ref>;</highlight></codeline>
<codeline lineno="665" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a700f1afb984fbf000ac8e99d0c884cfe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gta_t<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a700f1afb984fbf000ac8e99d0c884cfe" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="666" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ac6e623d2f0f524baa1325de4371a1066" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ac6e623d2f0f524baa1325de4371a1066" kindref="member">fx_policy</ref>;</highlight></codeline>
<codeline lineno="667" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a0bc0611e183fb5d0d57d8d2b047203d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a0bc0611e183fb5d0d57d8d2b047203d3" kindref="member">point_interpretation</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fx_policy;}</highlight></codeline>
<codeline lineno="668" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1acac1c7aea89c18fc30d692766f96c4b2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1acac1c7aea89c18fc30d692766f96c4b2" kindref="member">set_point_interpretation</ref>(<ref refid="namespaceshyft_1_1timeseries_1a7e2ee9dcee400bdc9fa6a9c6c828d0ea" kindref="member">point_interpretation_policy</ref><sp/>x)<sp/>{fx_policy=x;}</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ad18f3843ea91b76512be979616d2b550" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ad18f3843ea91b76512be979616d2b550" kindref="member">abin_op_ts_scalar</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/>&amp;lhs,<ref refid="namespaceshyft_1_1api_1a3f9f8a8b678353c5610620cc14170efc" kindref="member">iop_t</ref><sp/>op,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>rhs)</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(lhs),op(op),rhs(rhs)<sp/>{</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta=lhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a22d4342529bee8bdf0cec14e88c0b4d6" kindref="member">time_axis</ref>();</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy=<sp/>lhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a6679e02699f441e2ce6bf812c9896a1d" kindref="member">point_interpretation</ref>();</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="675" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a090b1bebe138c58fa55acd11101f2ad4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a090b1bebe138c58fa55acd11101f2ad4" kindref="member">abin_op_ts_scalar</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>&amp;<sp/>c)</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(c.lhs),op(c.op),rhs(c.rhs),ta(c.ta),fx_policy(c.fx_policy)<sp/>{</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="678" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ab59d85fd69fc43cd93383af0ba063a79" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ab59d85fd69fc43cd93383af0ba063a79" kindref="member">abin_op_ts_scalar</ref>(<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>&amp;&amp;<sp/>c)</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:lhs(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.lhs)),op(c.op),rhs(c.rhs),ta(<ref refid="namespacestd" kindref="compound">std</ref>::move(c.ta)),fx_policy(c.fx_policy)</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ae23e57a95787c9e58e2d93a826d02018" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ae23e57a95787c9e58e2d93a826d02018" kindref="member">operator=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a5b1794b6a0a8bbc06bb8ea61bed71e9b" kindref="member">lhs</ref>;</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>op<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1afc7fb12d62e1d51cc92795ffcf4e24a7" kindref="member">op</ref>;</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a09417e91935583c5fa060db674581465" kindref="member">rhs</ref>;</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a700f1afb984fbf000ac8e99d0c884cfe" kindref="member">ta</ref>;</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy<sp/>=<sp/>c.<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1ac6e623d2f0f524baa1325de4371a1066" kindref="member">fx_policy</ref>;</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a89312db3b1498ff5851db04342d3a2ed" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a89312db3b1498ff5851db04342d3a2ed" kindref="member">operator=</ref>(<ref refid="structshyft_1_1api_1_1abin__op__ts__scalar" kindref="compound">abin_op_ts_scalar</ref>&amp;&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;<sp/>c)<sp/>{</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs<sp/>=<sp/>std::move(c.lhs);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>op<sp/>=<sp/>c.op;</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs<sp/>=<sp/>c.rhs;</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ta<sp/><sp/>=<sp/>std::move(c.ta);</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fx_policy<sp/>=<sp/>c.fx_policy;</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a6ad9113ccb89af5258f57e61fd5ae31d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1utcperiod" kindref="compound">utcperiod</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a6ad9113ccb89af5258f57e61fd5ae31d" kindref="member">total_period</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a1ea9fa2294e8e84d7b15ee357f9cd6a1" kindref="member">total_period</ref>();}</highlight></codeline>
<codeline lineno="706" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a541c4cd02430b2648d063568f942442b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a541c4cd02430b2648d063568f942442b" kindref="member">time_axis</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta;};</highlight></codeline>
<codeline lineno="707" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1af99529574253a73ecfffa925fca4a968" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1af99529574253a73ecfffa925fca4a968" kindref="member">index_of</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const</highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1acf0137e33285de32abd2ddf791c2b77d" kindref="member">index_of</ref>(t);};</highlight></codeline>
<codeline lineno="708" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a6d27e826a75df6320c2a53cea7719de1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a6d27e826a75df6320c2a53cea7719de1" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1a4cadc695ec50189c8af79bfa59e51959" kindref="member">size</ref>();};</highlight></codeline>
<codeline lineno="709" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a0368e7bc6acae2bf601bebcbc078cd73" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a0368e7bc6acae2bf601bebcbc078cd73" kindref="member">time</ref>(<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ta.<ref refid="structshyft_1_1time__axis_1_1generic__dt_1adddff7047229765d6713930000695bf0" kindref="member">time</ref>(i);};</highlight></codeline>
<codeline lineno="710" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a6cb79e6c180d482fa5b10f6b034aa83d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a6cb79e6c180d482fa5b10f6b034aa83d" kindref="member">value_at</ref>(<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>op(lhs(t),rhs);}</highlight></codeline>
<codeline lineno="711" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a1cb48a4d00f537d2e7cf65fce2ff5fef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1a1cb48a4d00f537d2e7cf65fce2ff5fef" kindref="member">value</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>op(lhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1ac3f9b857cefe2eb564903b6243fc0467" kindref="member">value</ref>(i),rhs);}</highlight></codeline>
<codeline lineno="712" refid="structshyft_1_1api_1_1abin__op__ts__scalar_1aed8bd4f0bcf1b4119ada3de11ee7ba64" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/><ref refid="structshyft_1_1api_1_1abin__op__ts__scalar_1aed8bd4f0bcf1b4119ada3de11ee7ba64" kindref="member">values</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>r(lhs.<ref refid="classshyft_1_1api_1_1apoint__ts_1a6604b9fcee0a2fb2fed3e5d8c64cd9cd" kindref="member">values</ref>());</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>v:r)</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v=op(rhs,v);</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>r;</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="720"><highlight class="normal"></highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>operators<sp/>and<sp/>functions<sp/>to<sp/>the<sp/>apoint_ts<sp/>class,<sp/>of<sp/>all<sp/>variants<sp/>that<sp/>we<sp/>want<sp/>to<sp/>expose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a1cc1269af51a9ab1043b7c5f907d7536" kindref="member">average</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ts,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta</highlight><highlight class="comment">/*fx-type<sp/>*/</highlight><highlight class="normal">)<sp/>;</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a1cc1269af51a9ab1043b7c5f907d7536" kindref="member">average</ref>(<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ts,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta)<sp/>;</highlight></codeline>
<codeline lineno="724"><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1abc8be68c104b8ce6fde4b68f4c8a1724" kindref="member">accumulate</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>ts,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta</highlight><highlight class="comment">/*fx-type<sp/>*/</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1abc8be68c104b8ce6fde4b68f4c8a1724" kindref="member">accumulate</ref>(<ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;&amp;<sp/>ts,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta);</highlight></codeline>
<codeline lineno="727"><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ab3849290b4308e5a9d60604ce3b74bca" kindref="member">create_glacier_melt_ts_m3s</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/>&amp;<sp/>temp,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>sca_m2,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>glacier_area_m2,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dtf);</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1api_1adfcf8885fc2a933b20d3defc8321b5e1" kindref="member">nash_sutcliffe</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>observation_ts,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>model_ts,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t<sp/>&amp;ta);</highlight></codeline>
<codeline lineno="731"><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1api_1ac8f18b2d1b1d01d8dae6ddce69f863fd" kindref="member">kling_gupta</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>observation_ts,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/><sp/>model_ts,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>s_r,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>s_a,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>s_b);</highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1aae9ff29d8f36ef9422eaa4514e56eeb7" kindref="member">create_periodic_pattern_ts</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;double&gt;&amp;<sp/>pattern,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt,<ref refid="namespaceshyft_1_1core_1abbf72b8ba32c19e92f5263070c1e9d13" kindref="member">utctime</ref><sp/>t0,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t&amp;<sp/>ta);</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a0829bd20be2d34873b57149555f7d1c1" kindref="member">operator+</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a0829bd20be2d34873b57149555f7d1c1" kindref="member">operator+</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a0829bd20be2d34873b57149555f7d1c1" kindref="member">operator+</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ad3907fce4fcdf53e4f3057016343fa33" kindref="member">operator-</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ad3907fce4fcdf53e4f3057016343fa33" kindref="member">operator-</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ad3907fce4fcdf53e4f3057016343fa33" kindref="member">operator-</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ad3907fce4fcdf53e4f3057016343fa33" kindref="member">operator-</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a8228b684f975416fc858ec3deb1c60f7" kindref="member">operator/</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a8228b684f975416fc858ec3deb1c60f7" kindref="member">operator/</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a8228b684f975416fc858ec3deb1c60f7" kindref="member">operator/</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="748"><highlight class="normal"></highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1aa0848b8c5757f64246b015543103a475" kindref="member">operator*</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1aa0848b8c5757f64246b015543103a475" kindref="member">operator*</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1aa0848b8c5757f64246b015543103a475" kindref="member">operator*</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a81c1836a5ac9b48f80e21d4c7442b980" kindref="member">max</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a81c1836a5ac9b48f80e21d4c7442b980" kindref="member">max</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a81c1836a5ac9b48f80e21d4c7442b980" kindref="member">max</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="757"><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ae42ecf9cbd590fe15303d1bc36c3ae75" kindref="member">min</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ae42ecf9cbd590fe15303d1bc36c3ae75" kindref="member">min</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>lhs,</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1ae42ecf9cbd590fe15303d1bc36c3ae75" kindref="member">min</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhs,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref>&amp;<sp/>rhs)<sp/>;</highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;apoint_ts&gt;<sp/><ref refid="namespaceshyft_1_1api_1ace68f18daf5cc4554b4d6666a14307f2" kindref="member">percentiles</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;apoint_ts&gt;&amp;<sp/>ts_list,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gta_t<sp/>&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;int&gt;&amp;<sp/><ref refid="namespaceshyft_1_1api_1ace68f18daf5cc4554b4d6666a14307f2" kindref="member">percentiles</ref>);</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;apoint_ts&gt;<sp/><ref refid="namespaceshyft_1_1api_1ace68f18daf5cc4554b4d6666a14307f2" kindref="member">percentiles</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;apoint_ts&gt;&amp;<sp/>ts_list,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">time_axis::fixed_dt</ref><sp/>&amp;<sp/>ta,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector&lt;int&gt;&amp;<sp/>percentiles);</highlight></codeline>
<codeline lineno="765"><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/><ref refid="namespaceshyft_1_1api_1a5fbb4f0820000cf99c149979589106f6" kindref="member">time_shift</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classshyft_1_1api_1_1apoint__ts" kindref="compound">apoint_ts</ref><sp/>&amp;ts,<sp/><ref refid="namespaceshyft_1_1core_1a560b7b3b8bf6190f749284f5fadd7271" kindref="member">utctimespan</ref><sp/>dt);</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="769"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/home/sih/projects/shyft/api/timeseries.h"/>
  </compounddef>
</doxygen>
