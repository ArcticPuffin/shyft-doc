<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="hbv__stack__cell__model_8h" kind="file" language="C++">
    <compoundname>hbv_stack_cell_model.h</compoundname>
    <includes local="no">string</includes>
    <includes local="no">vector</includes>
    <includes local="no">memory</includes>
    <includes local="no">utility</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">stdexcept</includes>
    <includes refid="core__pch_8h" local="yes">core_pch.h</includes>
    <includes refid="cell__model_8h" local="yes">cell_model.h</includes>
    <includes refid="core_2hbv__stack_8h" local="yes">hbv_stack.h</includes>
    <includedby refid="api_8h" local="yes">/Data/johnbur/Dropbox/home/Programming/workspace/shyft_workspace/shyft/api/api.h</includedby>
    <incdepgraph>
      <node id="1166">
        <label>routing.h</label>
        <link refid="routing_8h"/>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1143" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1145" relation="include">
        </childnode>
        <childnode refid="1167" relation="include">
        </childnode>
        <childnode refid="1136" relation="include">
        </childnode>
        <childnode refid="1135" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1168" relation="include">
        </childnode>
        <childnode refid="1169" relation="include">
        </childnode>
        <childnode refid="1157" relation="include">
        </childnode>
        <childnode refid="1154" relation="include">
        </childnode>
        <childnode refid="1146" relation="include">
        </childnode>
      </node>
      <node id="1145">
        <label>limits</label>
      </node>
      <node id="1140">
        <label>boost/serialization/access.hpp</label>
      </node>
      <node id="1147">
        <label>cstdint</label>
      </node>
      <node id="1169">
        <label>boost/math/distributions/gamma.hpp</label>
      </node>
      <node id="1160">
        <label>priestley_taylor.h</label>
        <link refid="priestley__taylor_8h"/>
        <childnode refid="1144" relation="include">
        </childnode>
      </node>
      <node id="1144">
        <label>cmath</label>
      </node>
      <node id="1138">
        <label>stdexcept</label>
      </node>
      <node id="1154">
        <label>time_axis.h</label>
        <link refid="time__axis_8h"/>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1135" relation="include">
        </childnode>
        <childnode refid="1136" relation="include">
        </childnode>
        <childnode refid="1148" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1151" relation="include">
        </childnode>
      </node>
      <node id="1133">
        <label>string</label>
      </node>
      <node id="1143">
        <label>map</label>
      </node>
      <node id="1164">
        <label>hbv_tank.h</label>
        <link refid="hbv__tank_8h"/>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1151" relation="include">
        </childnode>
      </node>
      <node id="1141">
        <label>boost/serialization/export.hpp</label>
      </node>
      <node id="1146">
        <label>time_series.h</label>
        <link refid="core_2time__series_8h"/>
        <childnode refid="1147" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1135" relation="include">
        </childnode>
        <childnode refid="1136" relation="include">
        </childnode>
        <childnode refid="1148" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1149" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1150" relation="include">
        </childnode>
        <childnode refid="1151" relation="include">
        </childnode>
        <childnode refid="1154" relation="include">
        </childnode>
        <childnode refid="1155" relation="include">
        </childnode>
        <childnode refid="1156" relation="include">
        </childnode>
      </node>
      <node id="1150">
        <label>compiler_compatiblity.h</label>
        <link refid="compiler__compatiblity_8h"/>
      </node>
      <node id="1161">
        <label>hbv_snow.h</label>
        <link refid="hbv__snow_8h"/>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1149" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1151" relation="include">
        </childnode>
      </node>
      <node id="1157">
        <label>geo_cell_data.h</label>
        <link refid="geo__cell__data_8h"/>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1158" relation="include">
        </childnode>
      </node>
      <node id="1156">
        <label>unit_conversion.h</label>
        <link refid="unit__conversion_8h"/>
      </node>
      <node id="1167">
        <label>future</label>
      </node>
      <node id="1153">
        <label>ctime</label>
      </node>
      <node id="1165">
        <label>precipitation_correction.h</label>
        <link refid="precipitation__correction_8h"/>
      </node>
      <node id="1163">
        <label>hbv_soil.h</label>
        <link refid="hbv__soil_8h"/>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1151" relation="include">
        </childnode>
      </node>
      <node id="1134">
        <label>vector</label>
      </node>
      <node id="1136">
        <label>utility</label>
      </node>
      <node id="1149">
        <label>sstream</label>
      </node>
      <node id="1142">
        <label>cell_model.h</label>
        <link refid="cell__model_8h"/>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1143" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1145" relation="include">
        </childnode>
        <childnode refid="1136" relation="include">
        </childnode>
        <childnode refid="1135" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1146" relation="include">
        </childnode>
        <childnode refid="1157" relation="include">
        </childnode>
      </node>
      <node id="1151">
        <label>utctime_utilities.h</label>
        <link refid="utctime__utilities_8h"/>
        <childnode refid="1135" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1143" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1152" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1153" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
      </node>
      <node id="1132">
        <label>/Data/johnbur/Dropbox/home/Programming/workspace/shyft_workspace/shyft/core/hbv_stack_cell_model.h</label>
        <link refid="hbv__stack__cell__model_8h"/>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1135" relation="include">
        </childnode>
        <childnode refid="1136" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1142" relation="include">
        </childnode>
        <childnode refid="1159" relation="include">
        </childnode>
      </node>
      <node id="1152">
        <label>iosfwd</label>
      </node>
      <node id="1158">
        <label>geo_point.h</label>
        <link refid="geo__point_8h"/>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
      </node>
      <node id="1162">
        <label>hbv_actual_evapotranspiration.h</label>
        <link refid="hbv__actual__evapotranspiration_8h"/>
        <childnode refid="1151" relation="include">
        </childnode>
      </node>
      <node id="1168">
        <label>mutex</label>
      </node>
      <node id="1148">
        <label>type_traits</label>
      </node>
      <node id="1139">
        <label>core_pch.h</label>
        <link refid="core__pch_8h"/>
        <childnode refid="1140" relation="include">
        </childnode>
        <childnode refid="1141" relation="include">
        </childnode>
      </node>
      <node id="1137">
        <label>algorithm</label>
      </node>
      <node id="1155">
        <label>glacier_melt.h</label>
        <link refid="glacier__melt_8h"/>
      </node>
      <node id="1159">
        <label>hbv_stack.h</label>
        <link refid="core_2hbv__stack_8h"/>
        <childnode refid="1133" relation="include">
        </childnode>
        <childnode refid="1134" relation="include">
        </childnode>
        <childnode refid="1137" relation="include">
        </childnode>
        <childnode refid="1144" relation="include">
        </childnode>
        <childnode refid="1145" relation="include">
        </childnode>
        <childnode refid="1138" relation="include">
        </childnode>
        <childnode refid="1139" relation="include">
        </childnode>
        <childnode refid="1160" relation="include">
        </childnode>
        <childnode refid="1161" relation="include">
        </childnode>
        <childnode refid="1162" relation="include">
        </childnode>
        <childnode refid="1163" relation="include">
        </childnode>
        <childnode refid="1164" relation="include">
        </childnode>
        <childnode refid="1165" relation="include">
        </childnode>
        <childnode refid="1155" relation="include">
        </childnode>
        <childnode refid="1156" relation="include">
        </childnode>
        <childnode refid="1166" relation="include">
        </childnode>
      </node>
      <node id="1135">
        <label>memory</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1170">
        <label>/Data/johnbur/Dropbox/home/Programming/workspace/shyft_workspace/shyft/core/hbv_stack_cell_model.h</label>
        <link refid="hbv__stack__cell__model_8h"/>
        <childnode refid="1171" relation="include">
        </childnode>
      </node>
      <node id="1171">
        <label>/Data/johnbur/Dropbox/home/Programming/workspace/shyft_workspace/shyft/api/api.h</label>
        <link refid="api_8h"/>
      </node>
    </invincdepgraph>
    <innerclass refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector" prot="public">shyft::core::hbv_stack::all_response_collector</innerclass>
    <innerclass refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector" prot="public">shyft::core::hbv_stack::discharge_collector</innerclass>
    <innerclass refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector" prot="public">shyft::core::hbv_stack::null_collector</innerclass>
    <innerclass refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector" prot="public">shyft::core::hbv_stack::state_collector</innerclass>
    <innernamespace refid="namespaceshyft">shyft</innernamespace>
    <innernamespace refid="namespaceshyft_1_1core">shyft::core</innernamespace>
    <innernamespace refid="namespaceshyft_1_1core_1_1hbv__stack">shyft::core::hbv_stack</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;memory&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utility&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdexcept&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="core__pch_8h" kindref="compound">core_pch.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cell__model_8h" kindref="compound">cell_model.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="core_2hbv__stack_8h" kindref="compound">hbv_stack.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceshyft" kindref="compound">shyft</ref><sp/>{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">core<sp/>{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">hbv_stack<sp/>{</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespacestd" kindref="compound">std</ref>;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="namespaceshyft_1_1core_1_1hbv__stack_1a391dd5ccaeea9bdf6270ade16a3ee7f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1parameter" kindref="compound">parameter</ref><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a391dd5ccaeea9bdf6270ade16a3ee7f5" kindref="member">parameter_t</ref>;</highlight></codeline>
<codeline lineno="22" refid="namespaceshyft_1_1core_1_1hbv__stack_1a5961678f808e4e22299024db4a1f024d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state" kindref="compound">state</ref><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a5961678f808e4e22299024db4a1f024d" kindref="member">state_t</ref>;</highlight></codeline>
<codeline lineno="23" refid="namespaceshyft_1_1core_1_1hbv__stack_1aa7ae8e746f92f63bab63ec9a8cf0afd9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1response" kindref="compound">response</ref><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1aa7ae8e746f92f63bab63ec9a8cf0afd9" kindref="member">response_t</ref>;</highlight></codeline>
<codeline lineno="24" refid="namespaceshyft_1_1core_1_1hbv__stack_1a2fac02430b60b9d09627c5e235a8d72a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>shared_ptr&lt;parameter_t&gt;<sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a2fac02430b60b9d09627c5e235a8d72a" kindref="member">parameter_t_</ref>;</highlight></codeline>
<codeline lineno="25" refid="namespaceshyft_1_1core_1_1hbv__stack_1aef4b225621b43e98078fbcec1a34ba91" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>shared_ptr&lt;state_t&gt;<sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1aef4b225621b43e98078fbcec1a34ba91" kindref="member">state_t_</ref>;</highlight></codeline>
<codeline lineno="26" refid="namespaceshyft_1_1core_1_1hbv__stack_1ab3f1d16e98175c2348a03ee42ff718b9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>shared_ptr&lt;response_t&gt;<sp/><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1ab3f1d16e98175c2348a03ee42ff718b9" kindref="member">response_t_</ref>;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector" kindref="compound">all_response_collector</ref><sp/>{</highlight></codeline>
<codeline lineno="37" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a3d3627694052dfd367fc2970413a996c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a3d3627694052dfd367fc2970413a996c" kindref="member">destination_area</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>are<sp/>the<sp/>one<sp/>that<sp/>we<sp/>collects<sp/>from<sp/>the<sp/>response,<sp/>to<sp/>better<sp/>understand<sp/>the<sp/>model::</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1aca1302e1a4e04c2ac0bbd7ff65af7728" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1aca1302e1a4e04c2ac0bbd7ff65af7728" kindref="member">pe_output</ref>;</highlight></codeline>
<codeline lineno="40" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a64084d6c3d731a4e2cc6456a23911418" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a64084d6c3d731a4e2cc6456a23911418" kindref="member">snow_outflow</ref>;</highlight></codeline>
<codeline lineno="41" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1aee07143f28fe8ba42b1aa492f12bf0d1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1aee07143f28fe8ba42b1aa492f12bf0d1" kindref="member">glacier_melt</ref>;</highlight></codeline>
<codeline lineno="42" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a5def563f99690a7b4e2bacada4cc101d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a5def563f99690a7b4e2bacada4cc101d" kindref="member">snow_sca</ref>;</highlight></codeline>
<codeline lineno="43" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1af1d5ba3ebb09ca1ca1eb0b638540716d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1af1d5ba3ebb09ca1ca1eb0b638540716d" kindref="member">snow_swe</ref>;</highlight></codeline>
<codeline lineno="44" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a2090434aeba594fd997df92f8eea3ba2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a2090434aeba594fd997df92f8eea3ba2" kindref="member">ae_output</ref>;</highlight></codeline>
<codeline lineno="45" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a04f70f147ff32c5db8a65081412846be" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a04f70f147ff32c5db8a65081412846be" kindref="member">soil_outflow</ref>;<sp/></highlight></codeline>
<codeline lineno="46" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a870e6e3425c5bb3f2a7faeebb7c7a1c3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a870e6e3425c5bb3f2a7faeebb7c7a1c3" kindref="member">avg_discharge</ref>;<sp/></highlight></codeline>
<codeline lineno="47" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1ae629452bb95d4458146856384ae9ca07" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1ae629452bb95d4458146856384ae9ca07" kindref="member">charge_m3s</ref>;<sp/></highlight></codeline>
<codeline lineno="48" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a8ac93ec6eac1ecfdbcade165d093f66e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>response_t<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a8ac93ec6eac1ecfdbcade165d093f66e" kindref="member">end_reponse</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1ad34cdd8674b0973eacd1a727f456aad9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1ad34cdd8674b0973eacd1a727f456aad9" kindref="member">all_response_collector</ref>()<sp/>:<sp/>destination_area(0.0)<sp/>{}</highlight></codeline>
<codeline lineno="51" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a4ccdeecae543e77a597c52460dbb3977" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a4ccdeecae543e77a597c52460dbb3977" kindref="member">all_response_collector</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>destination_area)<sp/>:<sp/>destination_area(destination_area)<sp/>{}</highlight></codeline>
<codeline lineno="52" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a4b45b5ad0556e2c2a30039c93812ea75" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a4b45b5ad0556e2c2a30039c93812ea75" kindref="member">all_response_collector</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>destination_area,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis)</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>destination_area(destination_area),<sp/>pe_output(time_axis,<sp/>0.0),<sp/>snow_outflow(time_axis,<sp/>0.0),glacier_melt(time_axis,0.0),snow_sca(time_axis,0.0),snow_swe(time_axis,0),<sp/>ae_output(time_axis,<sp/>0.0),</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>soil_outflow(time_axis,<sp/>0.0),<sp/>avg_discharge(time_axis,<sp/>0.0),charge_m3s(time_axis,<sp/>0.0)<sp/>{}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a5e12bcf8fc0daa734a86a3215c3925b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a5e12bcf8fc0daa734a86a3215c3925b3" kindref="member">initialize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_step,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_steps,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>area)<sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination_area<sp/>=<sp/>area;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(pe_output,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_outflow,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(glacier_melt,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_sca,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_swe,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(ae_output,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(soil_outflow,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(avg_discharge,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(charge_m3s,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="79" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1ab5a954a0cb6fe91268370df417d61bc0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1ab5a954a0cb6fe91268370df417d61bc0" kindref="member">collect</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>idx,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>response_t&amp;<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1response" kindref="compound">response</ref>)<sp/>{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pe_output.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aa79ccba92e832afcdd429deff21bee8a" kindref="member">pt</ref>.<ref refid="structshyft_1_1core_1_1priestley__taylor_1_1response_1a47155a9a01872a5085a012598fb0550a" kindref="member">pot_evapotranspiration</ref>);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_outflow.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aeb6e831e33f7b4f0ace0f366d6c7d8b3" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1response_1ad3d8b78c1be5e2f40cf73ebc1457e796" kindref="member">outflow</ref>);</highlight><highlight class="comment">//mm<sp/>??<sp/>//TODO:<sp/>current<sp/>mm/h.<sp/>Want<sp/>m3/s,<sp/>but<sp/>we<sp/>get<sp/>mm/h<sp/>from<sp/>snow<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glacier_melt.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1a894a472d94d9d9e778645f0e7caf0f3d" kindref="member">gm_melt_m3s</ref>);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_sca.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aeb6e831e33f7b4f0ace0f366d6c7d8b3" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1response_1a28858aa1a567711209b128710031d568" kindref="member">snow_state</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1state_1a2aa13e80ee5a4caf36df7e0caf0f2429" kindref="member">sca</ref>);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_swe.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aeb6e831e33f7b4f0ace0f366d6c7d8b3" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1response_1a28858aa1a567711209b128710031d568" kindref="member">snow_state</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1state_1a702a6ffb5906c73490aea24a245e3dae" kindref="member">swe</ref>);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ae_output.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aedb3948f99f2e46779c3cf9711eaa2e0" kindref="member">ae</ref>.<ref refid="structshyft_1_1core_1_1hbv__actual__evapotranspiration_1_1response_1a3991c5c19e546832ce0d423cc4cfb49c" kindref="member">ae</ref>);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>soil_outflow.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aeea677dcb9e4bb83ed6dbd0c55fddbfc" kindref="member">soil</ref>.<ref refid="structshyft_1_1core_1_1hbv__soil_1_1response_1a4bca4f1a38f2142301721d93d6864963" kindref="member">outflow</ref>);</highlight><highlight class="comment">//mm<sp/>??<sp/>//TODO:<sp/>current<sp/>mm/h.<sp/>Want<sp/>m3/s,<sp/>but<sp/>we<sp/>get<sp/>mm/h<sp/>from<sp/>soil<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>avg_discharge.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/><ref refid="namespaceshyft_1a5e0f4c89b1ede28b7abbca532953b9cc" kindref="member">mmh_to_m3s</ref>(response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1a524e82afd8c8b7250cb569a94143498b" kindref="member">total_discharge</ref>,<sp/>destination_area));<sp/></highlight><highlight class="comment">//<sp/>wants<sp/>m3/s,<sp/>outflow<sp/>is<sp/>given<sp/>in<sp/>mm/h,<sp/>so<sp/>compute<sp/>the<sp/>totals<sp/>in<sp/><sp/>mm/s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>charge_m3s.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1a1f2d5b216cf9dc0bfb8bd7b679f21bd4" kindref="member">charge_m3s</ref>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90" refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a4a0b170c5b78086e9961b81f1727d728" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector_1a4a0b170c5b78086e9961b81f1727d728" kindref="member">set_end_response</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>response_t&amp;<sp/>r)<sp/>{<sp/>end_reponse<sp/>=<sp/>r;<sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector" kindref="compound">discharge_collector</ref><sp/>{</highlight></codeline>
<codeline lineno="95" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a83fafb0ae5a86cc65e56d413a86f7813" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a83fafb0ae5a86cc65e56d413a86f7813" kindref="member">destination_area</ref>;</highlight></codeline>
<codeline lineno="96" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a644dc9d23978f8707530ead22eec8e81" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a644dc9d23978f8707530ead22eec8e81" kindref="member">avg_discharge</ref>;<sp/></highlight></codeline>
<codeline lineno="97" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a3b220d71cbf498ef1410df844434541d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a3b220d71cbf498ef1410df844434541d" kindref="member">charge_m3s</ref>;<sp/></highlight></codeline>
<codeline lineno="98" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a90947cb5669c505e93adf63328fc8b6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>response_t<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a90947cb5669c505e93adf63328fc8b6c" kindref="member">end_response</ref>;</highlight></codeline>
<codeline lineno="99" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a5bff22b69d77762a8b39695e97748df6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a5bff22b69d77762a8b39695e97748df6" kindref="member">collect_snow</ref>;</highlight></codeline>
<codeline lineno="100" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ad1572ec089d1f2a4f15755f2d1c98f05" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ad1572ec089d1f2a4f15755f2d1c98f05" kindref="member">snow_sca</ref>;</highlight></codeline>
<codeline lineno="101" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a35aee03c8dd6678416193edf19d51c3c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a35aee03c8dd6678416193edf19d51c3c" kindref="member">snow_swe</ref>;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a860ecc6a9b3667d3c60af727e8c4eef1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a860ecc6a9b3667d3c60af727e8c4eef1" kindref="member">discharge_collector</ref>()<sp/>:<sp/>destination_area(0.0),<sp/>collect_snow(false)<sp/>{}</highlight></codeline>
<codeline lineno="104" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ab7b150d4ee3958676122b323d76e392a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ab7b150d4ee3958676122b323d76e392a" kindref="member">discharge_collector</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>destination_area)<sp/>:<sp/>destination_area(destination_area),<sp/>collect_snow(false)<sp/>{}</highlight></codeline>
<codeline lineno="105" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1adda2da109c19289a3214a31149ed9984" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1adda2da109c19289a3214a31149ed9984" kindref="member">discharge_collector</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>destination_area,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>destination_area(destination_area),<sp/>avg_discharge(time_axis,<sp/>0.0),charge_m3s(time_axis,<sp/>0.0),<sp/>collect_snow(false),</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_sca(<ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>(time_axis.start(),<sp/>time_axis.delta(),<sp/>0),<sp/>0.0),</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_swe(<ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>(time_axis.start(),<sp/>time_axis.delta(),<sp/>0),<sp/>0.0)<sp/>{}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ab225a2efb3183ee1252f3aab9c908f42" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ab225a2efb3183ee1252f3aab9c908f42" kindref="member">initialize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_step,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_steps,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>area)<sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination_area<sp/>=<sp/>area;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(avg_discharge,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(charge_m3s,<sp/>time_axis,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="namespaceshyft_1_1time__axis" kindref="compound">ta</ref><sp/>=<sp/>collect_snow<sp/>?<sp/>time_axis<sp/>:<sp/><ref refid="namespaceshyft_1_1core_1a50dd751544580a16e4a1b33d3b82c266" kindref="member">timeaxis_t</ref>(time_axis.<ref refid="structshyft_1_1time__axis_1_1fixed__dt_1a282ebc1f311a915e7ab60aaa2f92d0b5" kindref="member">start</ref>(),<sp/>time_axis.<ref refid="structshyft_1_1time__axis_1_1fixed__dt_1ac06d98b47fc2ce141c3c30cc2f424de6" kindref="member">delta</ref>(),<sp/>0);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_swe,<sp/><ref refid="namespaceshyft_1_1time__axis" kindref="compound">ta</ref>,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_sca,<sp/><ref refid="namespaceshyft_1_1time__axis" kindref="compound">ta</ref>,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa6b1c6c9e56366f103913f2fc503270c3" kindref="member">ts_point_fx::POINT_AVERAGE_VALUE</ref>);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a1400eb8fd41622663931cc4d30d50757" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a1400eb8fd41622663931cc4d30d50757" kindref="member">collect</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>idx,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>response_t&amp;<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1response" kindref="compound">response</ref>)<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>avg_discharge.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/><ref refid="namespaceshyft_1a5e0f4c89b1ede28b7abbca532953b9cc" kindref="member">mmh_to_m3s</ref>(response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1a524e82afd8c8b7250cb569a94143498b" kindref="member">total_discharge</ref>,<sp/>destination_area));<sp/></highlight><highlight class="comment">//<sp/>outflow<sp/>is<sp/>given<sp/>in<sp/>mm,<sp/>so<sp/>compute<sp/>the<sp/>totals</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>charge_m3s.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1a1f2d5b216cf9dc0bfb8bd7b679f21bd4" kindref="member">charge_m3s</ref>);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(collect_snow)<sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_sca.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aeb6e831e33f7b4f0ace0f366d6c7d8b3" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1response_1a28858aa1a567711209b128710031d568" kindref="member">snow_state</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1state_1a2aa13e80ee5a4caf36df7e0caf0f2429" kindref="member">sca</ref>);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_swe.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>response.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1response_1aeb6e831e33f7b4f0ace0f366d6c7d8b3" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1response_1a28858aa1a567711209b128710031d568" kindref="member">snow_state</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1state_1a702a6ffb5906c73490aea24a245e3dae" kindref="member">swe</ref>);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ab4aced40e17084fdb5ac1b2019029066" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1ab4aced40e17084fdb5ac1b2019029066" kindref="member">set_end_response</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>response_t&amp;<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1response" kindref="compound">response</ref>)<sp/>{<sp/>end_response<sp/>=<sp/>response;<sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector" kindref="compound">null_collector</ref><sp/>{</highlight></codeline>
<codeline lineno="138" refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector_1a9b901f929e69f6a93695adb71a42520e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector_1a9b901f929e69f6a93695adb71a42520e" kindref="member">initialize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_step=0,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_steps=0,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>area<sp/>=<sp/>0.0)<sp/>{}</highlight></codeline>
<codeline lineno="139" refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector_1a694df32dad37c96fd85a504dc26c85ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector_1a694df32dad37c96fd85a504dc26c85ea" kindref="member">collect</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>state_t&amp;<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1response" kindref="compound">response</ref>)<sp/>{}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="146" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector" kindref="compound">state_collector</ref><sp/>{</highlight></codeline>
<codeline lineno="147" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a633a1c9afd122e263925597b1b95823c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a633a1c9afd122e263925597b1b95823c" kindref="member">collect_state</ref>;<sp/><sp/></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>are<sp/>the<sp/>one<sp/>that<sp/>we<sp/>collects<sp/>from<sp/>the<sp/>response,<sp/>to<sp/>better<sp/>understand<sp/>the<sp/>model::</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a3e705e2b95477d5afd9e2cfe11a9ab4f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a3e705e2b95477d5afd9e2cfe11a9ab4f" kindref="member">destination_area</ref>;</highlight></codeline>
<codeline lineno="150" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a725c69b11c88b1752775a124456e6dfc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a725c69b11c88b1752775a124456e6dfc" kindref="member">snow_swe</ref>;</highlight></codeline>
<codeline lineno="151" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1aff07bd3e8977eb1a690de22566fff1ca" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1aff07bd3e8977eb1a690de22566fff1ca" kindref="member">snow_sca</ref>;</highlight></codeline>
<codeline lineno="152" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1ab179991dd69a58cbf5d432e80cbb4392" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1ab179991dd69a58cbf5d432e80cbb4392" kindref="member">soil_moisture</ref>;</highlight></codeline>
<codeline lineno="153" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1af4cd545e9186aae37cb97959e53becfd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1af4cd545e9186aae37cb97959e53becfd" kindref="member">tank_uz</ref>;</highlight></codeline>
<codeline lineno="154" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a745387054a8cd7db7f39d0e85e585c22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__series_1_1point__ts" kindref="compound">pts_t</ref><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a745387054a8cd7db7f39d0e85e585c22" kindref="member">tank_lz</ref>;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a0ca42eafe965c3ad1be737495b7d026d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1a0ca42eafe965c3ad1be737495b7d026d" kindref="member">state_collector</ref>()<sp/>:<sp/>collect_state(false),<sp/>destination_area(0.0)<sp/>{}</highlight></codeline>
<codeline lineno="157" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1ae777e37f14bfc1ca5529280cbd0fd168" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1ae777e37f14bfc1ca5529280cbd0fd168" kindref="member">state_collector</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>collect_state(false),<sp/>destination_area(0.0),<sp/>snow_swe(time_axis,<sp/>0.0),<sp/>snow_sca(time_axis,<sp/>0.0),</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>soil_moisture(time_axis,<sp/>0.0),<sp/>tank_uz(time_axis,<sp/>0.0),<sp/>tank_lz(time_axis,<sp/>0.0)<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="166" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1afa57e3c62329dcea5da3dc7efcafa62d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1afa57e3c62329dcea5da3dc7efcafa62d" kindref="member">initialize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref>&amp;<sp/>time_axis,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_step,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_steps,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>area)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>destination_area<sp/>=<sp/>area;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1time__axis_1_1fixed__dt" kindref="compound">timeaxis_t</ref><sp/><ref refid="namespaceshyft_1_1time__axis" kindref="compound">ta</ref><sp/>=<sp/>collect_state<sp/>?<sp/>time_axis<sp/>:<sp/><ref refid="namespaceshyft_1_1core_1a50dd751544580a16e4a1b33d3b82c266" kindref="member">timeaxis_t</ref>(time_axis.<ref refid="structshyft_1_1time__axis_1_1fixed__dt_1a282ebc1f311a915e7ab60aaa2f92d0b5" kindref="member">start</ref>(),<sp/>time_axis.<ref refid="structshyft_1_1time__axis_1_1fixed__dt_1ac06d98b47fc2ce141c3c30cc2f424de6" kindref="member">delta</ref>(),<sp/>0);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_sca,<sp/>ta,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa0edde9773095f9fe543f02d9b9af2c5a" kindref="member">ts_point_fx::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(snow_swe,<sp/>ta,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa0edde9773095f9fe543f02d9b9af2c5a" kindref="member">ts_point_fx::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(soil_moisture,<sp/>ta,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa0edde9773095f9fe543f02d9b9af2c5a" kindref="member">ts_point_fx::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(tank_uz,<sp/>ta,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa0edde9773095f9fe543f02d9b9af2c5a" kindref="member">ts_point_fx::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1a1eebe6bc8b7ef45f2da14d0c5bbde022" kindref="member">ts_init</ref>(tank_lz,<sp/>ta,<sp/>start_step,<sp/>n_steps,<sp/><ref refid="namespaceshyft_1_1time__series_1ab66642bfe2651c86498cf53c9217710fa0edde9773095f9fe543f02d9b9af2c5a" kindref="member">ts_point_fx::POINT_INSTANT_VALUE</ref>);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="176" refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1abda4d7cbe1e5e5e99dd6c63cb1bbcb68" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector_1abda4d7cbe1e5e5e99dd6c63cb1bbcb68" kindref="member">collect</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>idx,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>state_t&amp;<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state" kindref="compound">state</ref>)<sp/>{</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(collect_state)<sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_sca.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>state.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1state_1ac85f0b841f456f37d747f3e05c33de93" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1state_1a2aa13e80ee5a4caf36df7e0caf0f2429" kindref="member">sca</ref>);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snow_swe.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>state.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1state_1ac85f0b841f456f37d747f3e05c33de93" kindref="member">snow</ref>.<ref refid="structshyft_1_1core_1_1hbv__snow_1_1state_1a702a6ffb5906c73490aea24a245e3dae" kindref="member">swe</ref>);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>soil_moisture.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>state.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1state_1a1ffd44b0b935bb30137b6dabacfd2422" kindref="member">soil</ref>.<ref refid="structshyft_1_1core_1_1hbv__soil_1_1state_1ac7e74f152f8f8a96f8ff2d5aec10013f" kindref="member">sm</ref>);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tank_uz.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>state.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1state_1aee045d0c3126ef900d3a13505ccb9d94" kindref="member">tank</ref>.<ref refid="structshyft_1_1core_1_1hbv__tank_1_1state_1a10a927f3a4f63d303b826f2b5afaa2c8" kindref="member">uz</ref>);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tank_lz.<ref refid="structshyft_1_1time__series_1_1point__ts_1aef391a9a34b15d00aa431605d585eb96" kindref="member">set</ref>(idx,<sp/>state.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1state_1aee045d0c3126ef900d3a13505ccb9d94" kindref="member">tank</ref>.<ref refid="structshyft_1_1core_1_1hbv__tank_1_1state_1adc9808369317b8d26e48e44cd06ff2eb" kindref="member">lz</ref>);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>typedef<sp/>the<sp/>variants<sp/>we<sp/>need<sp/>exported.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="namespaceshyft_1_1core_1_1hbv__stack_1a9a9c3609118fdf8e5786443a9c245718" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell" kindref="compound">cell&lt;parameter_t, environment_t, state_t, state_collector, all_response_collector&gt;</ref><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a9a9c3609118fdf8e5786443a9c245718" kindref="member">cell_complete_response_t</ref>;</highlight></codeline>
<codeline lineno="189" refid="namespaceshyft_1_1core_1_1hbv__stack_1abe43eccb4c2afc1e102ce3575931bf90" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell" kindref="compound">cell&lt;parameter_t, environment_t, state_t, null_collector, discharge_collector&gt;</ref><sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1abe43eccb4c2afc1e102ce3575931bf90" kindref="member">cell_discharge_response_t</ref>;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>pt_hs_k</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//specialize<sp/>run<sp/>method<sp/>for<sp/>all_response_collector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;&gt;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell" kindref="compound">cell</ref>&lt;<ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a391dd5ccaeea9bdf6270ade16a3ee7f5" kindref="member">hbv_stack::parameter_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1af4bf3605823620dd789cf79ca8d24eae" kindref="member">environment_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a5961678f808e4e22299024db4a1f024d" kindref="member">hbv_stack::state_t</ref>,</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1state__collector" kindref="compound">hbv_stack::state_collector</ref>,<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector" kindref="compound">hbv_stack::all_response_collector</ref>&gt;</highlight></codeline>
<codeline lineno="197" refid="structshyft_1_1core_1_1cell_1ac3beea873644bcc130e815451acdd078" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1_1pt__hs__k_1a8f36026f35fc84f58d593fdd19cbab8d" kindref="member">::run</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell_1a5cdbe6fbd741049bb205fc498aed7a3e" kindref="member">timeaxis_t</ref>&amp;<sp/>time_axis,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_step,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_steps)<sp/>{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parameter.get()<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::runtime_error(</highlight><highlight class="stringliteral">&quot;pt_hs_k::run<sp/>with<sp/>null<sp/>parameter<sp/>attempted&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>begin_run(time_axis,start_step,n_steps);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hbv_stack::run_hbv_stack&lt;direct_accessor,<sp/>hbv_stack::response_t&gt;(</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geo,</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*parameter,</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_axis,<sp/>start_step,<sp/>n_steps,</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.temperature,</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.precipitation,</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.wind_speed,</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.rel_hum,</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.radiation,</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state,</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sc,</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rc);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;&gt;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell" kindref="compound">cell</ref>&lt;<ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a391dd5ccaeea9bdf6270ade16a3ee7f5" kindref="member">hbv_stack::parameter_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1af4bf3605823620dd789cf79ca8d24eae" kindref="member">environment_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a5961678f808e4e22299024db4a1f024d" kindref="member">hbv_stack::state_t</ref>,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hbv_stack::state_collector,<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1all__response__collector" kindref="compound">hbv_stack::all_response_collector</ref>&gt;</highlight></codeline>
<codeline lineno="218" refid="structshyft_1_1core_1_1cell_1a3c1925c373afad8092d8c3e4fb9fd749" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::set_state_collection(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>on_or_off)<sp/>{</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sc.collect_state<sp/>=<sp/>on_or_off;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//specialize<sp/>run<sp/>method<sp/>for<sp/>discharge_collector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;&gt;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell" kindref="compound">cell</ref>&lt;<ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a391dd5ccaeea9bdf6270ade16a3ee7f5" kindref="member">hbv_stack::parameter_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1af4bf3605823620dd789cf79ca8d24eae" kindref="member">environment_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a5961678f808e4e22299024db4a1f024d" kindref="member">hbv_stack::state_t</ref>,</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1null__collector" kindref="compound">hbv_stack::null_collector</ref>,<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector" kindref="compound">hbv_stack::discharge_collector</ref>&gt;</highlight></codeline>
<codeline lineno="226" refid="structshyft_1_1core_1_1cell_1a138cc49b9b8bc60e2390e9a878e60a50" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceshyft_1_1core_1_1pt__hs__k_1a8f36026f35fc84f58d593fdd19cbab8d" kindref="member">::run</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell_1a5cdbe6fbd741049bb205fc498aed7a3e" kindref="member">timeaxis_t</ref>&amp;<sp/>time_axis,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>start_step,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n_steps)<sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parameter.get()<sp/>==<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::runtime_error(</highlight><highlight class="stringliteral">&quot;pt_hs_k::run<sp/>with<sp/>null<sp/>parameter<sp/>attempted&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>begin_run(time_axis,<sp/>start_step,<sp/>n_steps);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hbv_stack::run_hbv_stack&lt;direct_accessor,<sp/>hbv_stack::response_t&gt;(</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geo,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*parameter,</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_axis,<sp/>start_step,<sp/>n_steps,</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.temperature,</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.precipitation,</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.wind_speed,</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.rel_hum,</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env_ts.radiation,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state,</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sc,</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rc);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;&gt;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structshyft_1_1core_1_1cell" kindref="compound">cell</ref>&lt;<ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a391dd5ccaeea9bdf6270ade16a3ee7f5" kindref="member">hbv_stack::parameter_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1af4bf3605823620dd789cf79ca8d24eae" kindref="member">environment_t</ref>,<sp/><ref refid="namespaceshyft_1_1core_1_1hbv__stack_1a5961678f808e4e22299024db4a1f024d" kindref="member">hbv_stack::state_t</ref>,</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hbv_stack::null_collector,<sp/><ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector" kindref="compound">hbv_stack::discharge_collector</ref>&gt;</highlight></codeline>
<codeline lineno="246" refid="structshyft_1_1core_1_1cell_1a9fb2ab9f909e41f87afae14b60318d46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::set_snow_sca_swe_collection(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>on_or_off)<sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rc.<ref refid="structshyft_1_1core_1_1hbv__stack_1_1discharge__collector_1a5bff22b69d77762a8b39695e97748df6" kindref="member">collect_snow</ref><sp/>=<sp/>on_or_off;</highlight><highlight class="comment">//<sp/>possible,<sp/>if<sp/>true,<sp/>we<sp/>do<sp/>collect<sp/>both<sp/>swe<sp/>and<sp/>sca,<sp/>default<sp/>is<sp/>off</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>core</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>shyft</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Data/johnbur/Dropbox/home/Programming/workspace/shyft_workspace/shyft/core/hbv_stack_cell_model.h"/>
  </compounddef>
</doxygen>
