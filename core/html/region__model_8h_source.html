<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>SHyFT: /home/sih/projects/shyft/core/region_model.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SHyFT
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">SHyFT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('region__model_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">region_model.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="region__model_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bayesian__kriging_8h.html">bayesian_kriging.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="inverse__distance_8h.html">inverse_distance.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="kirchner_8h.html">kirchner.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gamma__snow_8h.html">gamma_snow.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="priestley__taylor_8h.html">priestley_taylor.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2pt__gs__k_8h.html">pt_gs_k.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pt__hs__k_8h.html">pt_hs_k.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="geo__cell__data_8h.html">geo_cell_data.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceshyft.html">shyft</a> {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">namespace </span>core {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keyword">namespace </span>idw = inverse_distance;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keyword">namespace </span>btk = bayesian_kriging;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html">   45</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html">interpolation_parameter</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a1ed48adb130c46b43a66438edc667c71">   46</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1core_1_1bayesian__kriging_1_1parameter.html">btk::parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a1ed48adb130c46b43a66438edc667c71">btk_parameter_t</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a395d68f46c82c73eba7a73b2fe0bd12f">   47</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__parameter.html">idw::precipitation_parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a395d68f46c82c73eba7a73b2fe0bd12f">idw_precipitation_parameter_t</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#aeec27ce6168798fd967b5b84b7987a14">   48</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1temperature__parameter.html">idw::temperature_parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#aeec27ce6168798fd967b5b84b7987a14">idw_temperature_parameter_t</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#aa52a67e42cd230a066bec74798870a62">   49</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#aa52a67e42cd230a066bec74798870a62">idw_parameter_t</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#ab6ceefb81900ae313e5fd0d5f46bda5b">   51</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1bayesian__kriging_1_1parameter.html">btk::parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#ab6ceefb81900ae313e5fd0d5f46bda5b">temperature</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a98d117580312e9922564cd538eecd403">   52</a></span>&#160;            <span class="keywordtype">bool</span> use_idw_for_temperature = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a30a49f365433cd2255daf807dd63870f">   53</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1temperature__parameter.html">idw::temperature_parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a30a49f365433cd2255daf807dd63870f">temperature_idw</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a46a47a29b7f08d04f0f6ef72a6571a32">   54</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__parameter.html">idw::precipitation_parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a46a47a29b7f08d04f0f6ef72a6571a32">precipitation</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a2649a5b792c362e6d4727376b2144328">   55</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a2649a5b792c362e6d4727376b2144328">wind_speed</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#ad5c408a91435fd50af02fa4a665e5244">   56</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#ad5c408a91435fd50af02fa4a665e5244">radiation</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a64c5f74b57e7dcb5b1c4011fb70d5e8f">   57</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a> <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a64c5f74b57e7dcb5b1c4011fb70d5e8f">rel_hum</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a7b76530436e53b4a28c0720fe820a8a1">   59</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a7b76530436e53b4a28c0720fe820a8a1">interpolation_parameter</a>() {}</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a2347283ea80374b2533c4b99ff7944e7">   60</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a2347283ea80374b2533c4b99ff7944e7">interpolation_parameter</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1bayesian__kriging_1_1parameter.html">btk::parameter</a>&amp; temperature,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__parameter.html">idw::precipitation_parameter</a>&amp; precipitation,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a>&amp; wind_speed,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a>&amp; radiation,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a>&amp; rel_hum)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;             : temperature(temperature), precipitation(precipitation),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;               wind_speed(wind_speed), radiation(radiation), rel_hum(rel_hum) {}</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1interpolation__parameter.html#a8ac55378ad03e496bd07f07c91dbbaba">   67</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a8ac55378ad03e496bd07f07c91dbbaba">interpolation_parameter</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1temperature__parameter.html">idw::temperature_parameter</a>&amp; temperature,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__parameter.html">idw::precipitation_parameter</a>&amp; precipitation,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a>&amp; wind_speed,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a>&amp; radiation,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">idw::parameter</a>&amp; rel_hum)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;             : use_idw_for_temperature(true), temperature_idw(temperature),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;               precipitation(precipitation), wind_speed(wind_speed),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;               radiation(radiation), rel_hum(rel_hum) {}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        };</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1geo__point__ts.html">   88</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structshyft_1_1core_1_1geo__point__ts.html">geo_point_ts</a> {</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1geo__point__ts.html#ab41e0e78fc6df9655c4bd2f28981c489">   89</a></span>&#160;            <span class="keyword">typedef</span> T <a class="code" href="structshyft_1_1core_1_1geo__point__ts.html#ab41e0e78fc6df9655c4bd2f28981c489">ts_t</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1geo__point__ts.html#aada4445692c21a17f433b5da82aac74a">   90</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1geo__point.html">geo_point</a> <a class="code" href="structshyft_1_1core_1_1geo__point__ts.html#aada4445692c21a17f433b5da82aac74a">location</a>;<span class="comment">//&lt; the location of the observed/forecasted property ts</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1geo__point__ts.html#a419e1cfb4f880250e5d662332a33f992">   91</a></span>&#160;            T <a class="code" href="structshyft_1_1core_1_1geo__point__ts.html#a419e1cfb4f880250e5d662332a33f992">ts</a>;<span class="comment">//&lt; a ts that can be transformed to a time-axis through an accessor..</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">//geo_point_ts(){}</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="comment">// make it move-able</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="comment">//geo_point_ts(const geo_point_ts &amp;c) : location(c.location),ts(c.ts) {}</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="comment">//geo_point_ts(geo_point_ts&amp;&amp; c) : location(c.location),ts(std::move(c.ts)) {}</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="comment">//geo_point_ts&amp; operator=(geo_point_ts&amp;&amp; c) {location=c.location;ts=std::move(c.ts);return *this;}</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1geo__point__ts.html#ab86acb444afc7b25090400a4e9476898">   98</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1geo__point.html">geo_point</a> <a class="code" href="structshyft_1_1core_1_1geo__point__ts.html#ab86acb444afc7b25090400a4e9476898">mid_point</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> location; }</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1geo__point__ts.html#adaa082707065f4a9da8934dee4497b8f">   99</a></span>&#160;            <span class="keyword">const</span> T&amp; <a class="code" href="structshyft_1_1core_1_1geo__point__ts.html#adaa082707065f4a9da8934dee4497b8f">temperatures</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ts; }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        };</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">class</span> GPTS, <span class="keyword">class</span> TSA, <span class="keyword">class</span> TA&gt;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">  116</a></span>&#160;        <span class="keyword">class </span><a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">idw_compliant_geo_point_ts</a> {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keyword">const</span> GPTS&amp; s; <span class="comment">//&lt; type geo_point_ts, and reference is ok because we use this almost internally... hm.. in run_idw_interpolation, (so we should define it there..)</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keyword">mutable</span> TSA tsa;<span class="comment">// because .value(i) is const, and we use tsa.value(i) (tsa have local cache ix ) that is modified</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#a4445cd32a53e0d147488c2235726be5b">  120</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structshyft_1_1core_1_1geo__point.html">geo_point</a> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#a4445cd32a53e0d147488c2235726be5b">geo_point_t</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="comment">//run_idw compliant ct and methods</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#ae49421d6c094ff081d93005f65382ad9">  122</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#ae49421d6c094ff081d93005f65382ad9">idw_compliant_geo_point_ts</a>(<span class="keyword">const</span> GPTS &amp;gpts, <span class="keyword">const</span> TA&amp; ta) : s(gpts), tsa(gpts.ts, ta) {}</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#ab9a7732df1e2e5ffb9f5caf5b85391a4">  123</a></span>&#160;            <a class="code" href="structshyft_1_1core_1_1geo__point.html">geo_point</a> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#ab9a7732df1e2e5ffb9f5caf5b85391a4">mid_point</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> s.mid_point(); }</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#a60dc9dc491af7c15bc7acbfa33e24dc6">  124</a></span>&#160;            <span class="keywordtype">double</span> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#a60dc9dc491af7c15bc7acbfa33e24dc6">value</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> tsa.value(i); }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        };</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">class</span> PS, <span class="keyword">class</span> TS, <span class="keyword">class</span> RS, <span class="keyword">class</span> HS, <span class="keyword">class</span> WS&gt;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html">  147</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structshyft_1_1core_1_1region__environment.html">region_environment</a> {</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a7b88748be0d5b843233ee5301265b392">  148</a></span>&#160;            <span class="keyword">typedef</span> PS <a class="code" href="structshyft_1_1core_1_1region__environment.html#a7b88748be0d5b843233ee5301265b392">precipitation_t</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a0a487ae7d0c6c2519c256f63d2783754">  149</a></span>&#160;            <span class="keyword">typedef</span> TS <a class="code" href="structshyft_1_1core_1_1region__environment.html#a0a487ae7d0c6c2519c256f63d2783754">temperature_t</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#acdde3f7558d8b92423c960bfde7fe7cc">  150</a></span>&#160;            <span class="keyword">typedef</span> RS <a class="code" href="structshyft_1_1core_1_1region__environment.html#acdde3f7558d8b92423c960bfde7fe7cc">radiation_t</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#aa4116aece39e6b900f40b5dd2f2951b8">  151</a></span>&#160;            <span class="keyword">typedef</span> HS <a class="code" href="structshyft_1_1core_1_1region__environment.html#aa4116aece39e6b900f40b5dd2f2951b8">rel_hum_t</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a2ea5568fefdec00a18ee9479e5702874">  152</a></span>&#160;            <span class="keyword">typedef</span> WS <a class="code" href="structshyft_1_1core_1_1region__environment.html#a2ea5568fefdec00a18ee9479e5702874">wind_speed_t</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a338fa41c22e45d74ded90af9da5f53e6">  153</a></span>&#160;            <span class="keyword">typedef</span> vector&lt;PS&gt; <a class="code" href="structshyft_1_1core_1_1region__environment.html#a338fa41c22e45d74ded90af9da5f53e6">precipitation_vec_t</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a20a4654f2ce460588bb477d41cedc46e">  154</a></span>&#160;            <span class="keyword">typedef</span> vector&lt;TS&gt; <a class="code" href="structshyft_1_1core_1_1region__environment.html#a20a4654f2ce460588bb477d41cedc46e">temperature_vec_t</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a6b4158a76d7fbe3b079e60e35ef85a0e">  155</a></span>&#160;            <span class="keyword">typedef</span> vector&lt;RS&gt; <a class="code" href="structshyft_1_1core_1_1region__environment.html#a6b4158a76d7fbe3b079e60e35ef85a0e">radiation_vec_t</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a77b06a5793f43b502987e783fd46e6fe">  156</a></span>&#160;            <span class="keyword">typedef</span> vector&lt;HS&gt; <a class="code" href="structshyft_1_1core_1_1region__environment.html#a77b06a5793f43b502987e783fd46e6fe">rel_hum_vec_t</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#aa95bc53fc6071e806e6cb617ed012947">  157</a></span>&#160;            <span class="keyword">typedef</span> vector&lt;WS&gt; <a class="code" href="structshyft_1_1core_1_1region__environment.html#aa95bc53fc6071e806e6cb617ed012947">wind_speed_vec_t</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a228a51305da4a6db3c7756a04fcc71e0">  159</a></span>&#160;            shared_ptr&lt;temperature_vec_t&gt;   <a class="code" href="structshyft_1_1core_1_1region__environment.html#a228a51305da4a6db3c7756a04fcc71e0">temperature</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#ae84309d4584568838895a26bc4b688d1">  160</a></span>&#160;            shared_ptr&lt;precipitation_vec_t&gt; <a class="code" href="structshyft_1_1core_1_1region__environment.html#ae84309d4584568838895a26bc4b688d1">precipitation</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#ae3e6269a12432e164b56af14412a77fb">  161</a></span>&#160;            shared_ptr&lt;radiation_vec_t&gt;     <a class="code" href="structshyft_1_1core_1_1region__environment.html#ae3e6269a12432e164b56af14412a77fb">radiation</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#a49645a30ac63d677850dc2cfabd70901">  162</a></span>&#160;            shared_ptr&lt;wind_speed_vec_t&gt;    <a class="code" href="structshyft_1_1core_1_1region__environment.html#a49645a30ac63d677850dc2cfabd70901">wind_speed</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structshyft_1_1core_1_1region__environment.html#adfeb5f1f67e4fd5bfd6d8d56bb84819a">  163</a></span>&#160;            shared_ptr&lt;rel_hum_vec_t&gt;       <a class="code" href="structshyft_1_1core_1_1region__environment.html#adfeb5f1f67e4fd5bfd6d8d56bb84819a">rel_hum</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        };</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">class</span> C&gt;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html">  189</a></span>&#160;        <span class="keyword">class </span><a class="code" href="classshyft_1_1core_1_1region__model.html">region_model</a> {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">  191</a></span>&#160;            <span class="keyword">typedef</span> C <a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ab9fa320c158c9fafd53fcb6cd80f6cc3">  192</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="namespaceshyft_1_1core_1_1pt__gs__k.html#a4a57e3490f1be1041094880622c2ce16">C::state_t</a> <a class="code" href="classshyft_1_1core_1_1region__model.html#ab9fa320c158c9fafd53fcb6cd80f6cc3">state_t</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">  193</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="namespaceshyft_1_1core_1_1pt__gs__k.html#ac9f6e0a926a4d4e2eca7f9a9e239bc37">C::parameter_t</a> <a class="code" href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">parameter_t</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a7db60b5f826ae7100148e1f3c0a87db2">  194</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="namespaceshyft_1_1core.html#a147759d3a865deddd1ddafb19dc7f431">C::timeaxis_t</a> <a class="code" href="classshyft_1_1core_1_1region__model.html#a7db60b5f826ae7100148e1f3c0a87db2">timeaxis_t</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a5cb2286544052ac7a9b7dce3acb1ca6d">  195</a></span>&#160;            <span class="keyword">typedef</span> std::vector&lt;cell_t&gt; <a class="code" href="classshyft_1_1core_1_1region__model.html#a5cb2286544052ac7a9b7dce3acb1ca6d">cell_vec_t</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a79b9796e5df1a774898d6f4530ffafb8">  196</a></span>&#160;            <span class="keyword">typedef</span> std::shared_ptr&lt;cell_vec_t &gt; <a class="code" href="classshyft_1_1core_1_1region__model.html#a79b9796e5df1a774898d6f4530ffafb8">cell_vec_t_</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a09205cc6f001293697d5c4fc57c24bd2">  197</a></span>&#160;            <span class="keyword">typedef</span> std::shared_ptr&lt;parameter_t&gt; <a class="code" href="classshyft_1_1core_1_1region__model.html#a09205cc6f001293697d5c4fc57c24bd2">parameter_t_</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">  198</a></span>&#160;            <span class="keyword">typedef</span> <span class="keyword">typename</span> cell_vec_t::iterator <a class="code" href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">cell_iterator</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a39bfabf58f896360cf7f9202d5f54d7f">  201</a></span>&#160;            cell_vec_t_ <a class="code" href="classshyft_1_1core_1_1region__model.html#a39bfabf58f896360cf7f9202d5f54d7f">cells</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="comment">// TODO:</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="comment">// catchment_vec_t_ catchments;//&lt; catchment level, after cell.run is done</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="comment">// we could have kirchner for each catchments (cell-routing-delay before and or routing after kirchner)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">// so the catchment concept should be modeled and handled:</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="comment">//   a catchment</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="comment">//      id</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="comment">//       a geo-shape, (we keep catch_id for each ..)</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="comment">//      catchment level model-parameters (kirchner etc.)</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="comment">//      obs. discharge</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="comment">//      obs. snow  (swe,sca ?)</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="comment">//     after run&#39;s of the model</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="comment">//     we can extract cell-level into into the catchments</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a0b71bf408141af514f6fa483e574b11e">  216</a></span>&#160;            parameter_t_ <a class="code" href="classshyft_1_1core_1_1region__model.html#a0b71bf408141af514f6fa483e574b11e">region_parameter</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ac0bee940a014e28fe768731899f3d793">  217</a></span>&#160;            std::map&lt;size_t, parameter_t_&gt; <a class="code" href="classshyft_1_1core_1_1region__model.html#ac0bee940a014e28fe768731899f3d793">catchment_parameters</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ae9439b618ed890553da21b1a86618025">  219</a></span>&#160;            std::vector&lt;bool&gt; <a class="code" href="classshyft_1_1core_1_1region__model.html#ae9439b618ed890553da21b1a86618025">catchment_filter</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a27848a5258bd5ea68da2d3c6cd6f8513">  221</a></span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a27848a5258bd5ea68da2d3c6cd6f8513">n_catchments</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a7d27b31ee786ca044a7329065daee54c">  223</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a7d27b31ee786ca044a7329065daee54c">clone</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html">region_model</a>&amp; c) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="comment">// First, clear own content</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                ncore = c.<a class="code" href="classshyft_1_1core_1_1region__model.html#a0768a59d462d391baf537747fdc3045d">ncore</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                time_axis = c.<a class="code" href="classshyft_1_1core_1_1region__model.html#a2a0c97105e2be0e72dbe3a498f57873f">time_axis</a>; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                catchment_filter = c.<a class="code" href="classshyft_1_1core_1_1region__model.html#ae9439b618ed890553da21b1a86618025">catchment_filter</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                n_catchments = c.<a class="code" href="classshyft_1_1core_1_1region__model.html#a27848a5258bd5ea68da2d3c6cd6f8513">n_catchments</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                catchment_parameters.clear();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="comment">// Then, clone from c</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                cells = cell_vec_t_(<span class="keyword">new</span> cell_vec_t(*(c.<a class="code" href="classshyft_1_1core_1_1region__model.html#a39bfabf58f896360cf7f9202d5f54d7f">cells</a>)));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                set_region_parameter(*(c.<a class="code" href="classshyft_1_1core_1_1region__model.html#a0b71bf408141af514f6fa483e574b11e">region_parameter</a>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                for_each(c.<a class="code" href="classshyft_1_1core_1_1region__model.html#ac0bee940a014e28fe768731899f3d793">catchment_parameters</a>.cbegin(), c.<a class="code" href="classshyft_1_1core_1_1region__model.html#ac0bee940a014e28fe768731899f3d793">catchment_parameters</a>.cend(),</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    [<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keyword">typename</span> std::map&lt;size_t, parameter_t_&gt;::value_type&amp; pair) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        this-&gt;set_catchment_parameter(pair.first, *(pair.second));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    });</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#abdd1888989973474030f5e8f529a2ddc">  246</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html#abdd1888989973474030f5e8f529a2ddc">region_model</a>(std::shared_ptr&lt;std::vector&lt;C&gt; &gt;&amp; cells, <span class="keyword">const</span> parameter_t &amp;region_param)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;             : cells(cells) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                set_region_parameter(region_param);<span class="comment">// ensure we have a correct model</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                ncore = thread::hardware_concurrency()*4;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            }</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a29b2c7babab88a36320b3e89bf154d89">  251</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html#a29b2c7babab88a36320b3e89bf154d89">region_model</a>(std::shared_ptr&lt;std::vector&lt;C&gt; &gt;&amp; cells,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                         <span class="keyword">const</span> parameter_t &amp;region_param,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                         <span class="keyword">const</span> std::map&lt;size_t, parameter_t&gt;&amp; catchment_parameters)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;             : cells(cells) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                set_region_parameter(region_param);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                for_each(catchment_parameters.cbegin(), catchment_parameters.cend(),</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    [<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keyword">typename</span> std::map&lt;size_t, parameter_t&gt;::value_type&amp; pair) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        this-&gt;set_catchment_parameter(pair.first, pair.second);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    });</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                ncore = thread::hardware_concurrency()*4;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a289d38abd53894a05c6656d071f4c3a9">  262</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html#a289d38abd53894a05c6656d071f4c3a9">region_model</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html">region_model</a>&amp; model) { clone(model); }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">            #ifndef SWIG</span></div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a72ba2571d467f81e2b31332e0ebe062d">  264</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html">region_model</a>&amp; <a class="code" href="classshyft_1_1core_1_1region__model.html#a72ba2571d467f81e2b31332e0ebe062d">operator=</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html">region_model</a>&amp; c) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keywordflow">if</span> (&amp;c != <span class="keyword">this</span>)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    clone(c);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a2a0c97105e2be0e72dbe3a498f57873f">  270</a></span>&#160;            timeaxis_t <a class="code" href="classshyft_1_1core_1_1region__model.html#a2a0c97105e2be0e72dbe3a498f57873f">time_axis</a>; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a0768a59d462d391baf537747fdc3045d">  271</a></span>&#160;            <span class="keywordtype">size_t</span> ncore = 0; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keyword">template</span> &lt; <span class="keyword">class</span> RE, <span class="keyword">class</span> IP&gt;</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#af27c74a4df528af7ae41eae138240208">  290</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#af27c74a4df528af7ae41eae138240208">run_interpolation</a>(<span class="keyword">const</span> IP&amp; <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html">interpolation_parameter</a>, <span class="keyword">const</span> timeaxis_t&amp; time_axis, <span class="keyword">const</span> RE&amp; env) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">                #ifndef SWIG</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordtype">size_t</span> max_catchment_id = 0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                for_each(begin(*cells), end(*cells), [<span class="keyword">this</span>, &amp;time_axis, &amp;max_catchment_id](cell_t&amp; c) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    c.init_env_ts(time_axis);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keywordflow">if</span> (c.geo.catchment_id() &gt; max_catchment_id)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        max_catchment_id = c.geo.catchment_id();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                });</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                n_catchments = max_catchment_id + 1;<span class="comment">// keep this/assume invariant..</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                this-&gt;time_axis = time_axis;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keyword">using namespace </span><a class="code" href="namespaceshyft_1_1core.html">shyft::core</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keyword">namespace </span>idw = <a class="code" href="namespaceshyft_1_1core_1_1inverse__distance.html">shyft::core::inverse_distance</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keyword">namespace </span>btk = <a class="code" href="namespaceshyft_1_1core_1_1bayesian__kriging.html">shyft::core::bayesian_kriging</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor&lt;typename RE::temperature_t::ts_t, timeaxis_t&gt;</a> temperature_tsa_t;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor&lt;typename RE::precipitation_t::ts_t, timeaxis_t&gt;</a> precipitation_tsa_t;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor&lt;typename RE::radiation_t::ts_t, timeaxis_t&gt;</a> radiation_tsa_t;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor&lt;typename RE::wind_speed_t::ts_t, timeaxis_t&gt;</a> wind_speed_tsa_t;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor&lt;typename RE::rel_hum_t::ts_t, timeaxis_t&gt;</a> rel_hum_tsa_t;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">idw_compliant_geo_point_ts&lt; typename RE::temperature_t, temperature_tsa_t, timeaxis_t&gt;</a> idw_compliant_temperature_gts_t;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">idw_compliant_geo_point_ts&lt; typename RE::precipitation_t, precipitation_tsa_t, timeaxis_t&gt;</a> idw_compliant_precipitation_gts_t;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">idw_compliant_geo_point_ts&lt; typename RE::radiation_t, radiation_tsa_t, timeaxis_t&gt;</a> idw_compliant_radiation_gts_t;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">idw_compliant_geo_point_ts&lt; typename RE::wind_speed_t, wind_speed_tsa_t, timeaxis_t&gt;</a> idw_compliant_wind_speed_gts_t;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">idw_compliant_geo_point_ts&lt; typename RE::rel_hum_t, rel_hum_tsa_t, timeaxis_t&gt;</a> idw_compliant_rel_hum_gts_t;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1temperature__model.html">idw::temperature_model  &lt;idw_compliant_temperature_gts_t, cell_t, typename IP::idw_temperature_parameter_t, geo_point, idw::temperature_gradient_scale_computer&gt;</a> idw_temperature_model_t;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keyword">typedef</span> <a class="code" href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__model.html">idw::precipitation_model&lt;idw_compliant_precipitation_gts_t, cell_t, typename IP::idw_precipitation_parameter_t, geo_point&gt;</a> idw_precipitation_model_t;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keyword">typedef</span> idw::radiation_model    &lt;idw_compliant_radiation_gts_t, cell_t, typename IP::idw_parameter_t, geo_point&gt; idw_radiation_model_t;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keyword">typedef</span> idw::wind_speed_model   &lt;idw_compliant_wind_speed_gts_t, cell_t, typename IP::idw_parameter_t, geo_point&gt; idw_windspeed_model_t;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keyword">typedef</span> idw::rel_hum_model      &lt;idw_compliant_rel_hum_gts_t, cell_t, typename IP::idw_parameter_t, geo_point&gt; idw_relhum_model_t;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keyword">typedef</span>  <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor&lt;typename RE::temperature_t::ts_t, timeaxis_t&gt;</a> btk_tsa_t;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="comment">// Allocate memory for the source_destinations, put in the reference to the parameters:</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="comment">// Run one thread for each optional interpolation</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="comment">//  notice that if a source is nullptr, then we leave the allocated cell.level signal to fillvalue 0.0</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="comment">//  the intention is that the orchestrator at the outside could provide it&#39;s own ready-made</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="comment">//  interpolated/distributed signal, e.g. temperature input from arome-data</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keyword">auto</span> btkx = async(launch::async, [&amp;]() {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    <span class="keywordflow">if</span> (env.temperature != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        if(env.temperature-&gt;size()&gt;1) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                            if(interpolation_parameter.use_idw_for_temperature) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                idw::run_interpolation&lt;idw_temperature_model_t, idw_compliant_temperature_gts_t&gt;(</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                        time_axis, *env.temperature, interpolation_parameter.temperature_idw, *cells,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                        [](cell_t &amp;d, size_t ix, double value) { d.env_ts.temperature.set(ix, value); }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                );</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                            } else {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                btk::btk_interpolation&lt;btk_tsa_t&gt;(</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                    begin(*env.temperature), end(*env.temperature), begin(*cells), end(*cells),</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                    time_axis, interpolation_parameter.temperature</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                );</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                            }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                            <span class="comment">// just one temperature ts. just a a clean copy to destinations</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                            btk_tsa_t tsa((*env.temperature)[0].ts, time_axis);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                            typename cell_t::env_ts_t::temperature_ts_t temp_ts(time_axis, 0.0);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                            for(size_t i=0;i&lt;time_axis.size();++i) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                temp_ts.set(i, tsa.value(i));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                            }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                            <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; c:*cells) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                c.env_ts.temperature=temp_ts;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                            }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                });</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keyword">auto</span> idw_precip = async(launch::async, [&amp;]() {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    <span class="keywordflow">if</span> (env.precipitation != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                        idw::run_interpolation&lt;idw_precipitation_model_t, idw_compliant_precipitation_gts_t&gt;(</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                        time_axis, *env.precipitation, <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html">interpolation_parameter</a>.<a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a46a47a29b7f08d04f0f6ef72a6571a32">precipitation</a>, *cells,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        [](cell_t &amp;d, <span class="keywordtype">size_t</span> ix, <span class="keywordtype">double</span> value) { d.env_ts.precipitation.set(ix, value); }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                });</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keyword">auto</span> idw_radiation = async(launch::async, [&amp;]() {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="keywordflow">if</span> (env.radiation != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        idw::run_interpolation&lt;idw_radiation_model_t, idw_compliant_radiation_gts_t&gt;(</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        time_axis, *env.radiation, <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html">interpolation_parameter</a>.<a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#ad5c408a91435fd50af02fa4a665e5244">radiation</a>, *cells,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        [](cell_t &amp;d, <span class="keywordtype">size_t</span> ix, <span class="keywordtype">double</span> value) { d.env_ts.radiation.set(ix, value); }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    );</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                });</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keyword">auto</span> idw_wind_speed = async(launch::async, [&amp;]() {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    <span class="keywordflow">if</span> (env.wind_speed != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        idw::run_interpolation&lt;idw_windspeed_model_t, idw_compliant_wind_speed_gts_t&gt;(</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        time_axis, *env.wind_speed, <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html">interpolation_parameter</a>.<a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a2649a5b792c362e6d4727376b2144328">wind_speed</a>, *cells,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        [](cell_t &amp;d, <span class="keywordtype">size_t</span> ix, <span class="keywordtype">double</span> value) { d.env_ts.wind_speed.set(ix, value); }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    );</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <span class="comment">//else</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="comment">//    for_each(begin(*cells), end(*cells), [this] (cell_t&amp; d) { d.constant_wind_speed = region_ws; });</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                });</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keyword">auto</span> idw_rel_hum = async(launch::async, [&amp;]() {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                    <span class="keywordflow">if</span> (env.rel_hum != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        idw::run_interpolation&lt;idw_relhum_model_t, idw_compliant_rel_hum_gts_t&gt;(</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                        time_axis, *env.rel_hum, <a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html">interpolation_parameter</a>.<a class="code" href="structshyft_1_1core_1_1interpolation__parameter.html#a64c5f74b57e7dcb5b1c4011fb70d5e8f">rel_hum</a>, *cells,</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        [](cell_t &amp;d, <span class="keywordtype">size_t</span> ix, <span class="keywordtype">double</span> value) { d.env_ts.rel_hum.set(ix, value); }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    );</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <span class="comment">//else, set the constant ? as ts.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    <span class="comment">//  for_each(begin(*cells), end(*cells), [this] (cell_t&amp; d) { d.constant_rel_hum = region_rel_hum; });</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                });</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                btkx.get();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                idw_precip.get();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                idw_radiation.get();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                idw_wind_speed.get();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                idw_rel_hum.get();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">                #endif</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a379de6eeca0fef04f92f21c32864058f">  426</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a379de6eeca0fef04f92f21c32864058f">run_cells</a>(<span class="keywordtype">size_t</span> thread_cell_count=0) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">if</span>(thread_cell_count==0) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <span class="keywordflow">if</span>(ncore==0) ncore=4;<span class="comment">// a reasonable minimum..</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    thread_cell_count = size() &lt;= ncore ? 1 : size()/ncore;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <span class="keywordflow">if</span>(! (time_axis.size()&gt;0))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;region_model::run with invalid time_axis invoked&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                parallel_run(time_axis, begin(*cells), end(*cells), thread_cell_count);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ac6ec99ec5d14f8c4c63f07492b73e70f">  443</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#ac6ec99ec5d14f8c4c63f07492b73e70f">set_region_parameter</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">parameter_t</a> &amp;p) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">if</span> (region_parameter == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    region_parameter = <a class="code" href="namespaceshyft_1_1core_1_1pt__gs__k.html#a6c11c77eb0ca21ffe68b331abed39cdc">parameter_t_</a>(<span class="keyword">new</span> <a class="code" href="namespaceshyft_1_1core_1_1pt__gs__k.html#ac9f6e0a926a4d4e2eca7f9a9e239bc37">parameter_t</a>(p));</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    for_each(begin(*cells), end(*cells),</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        [<span class="keyword">this</span>](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; c) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                            <span class="keywordflow">if</span> (!has_catchment_parameter(c.geo.catchment_id()))</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                c.set_parameter(region_parameter);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    });</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    (*region_parameter) = p;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a4792cb4a3292efb3bcc4508aed5a5c24">  459</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">parameter_t</a>&amp; <a class="code" href="classshyft_1_1core_1_1region__model.html#a4792cb4a3292efb3bcc4508aed5a5c24">get_region_parameter</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">return</span> *region_parameter;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a26e1a6ce0bcadb7939cadf6bbd38e3b8">  467</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a26e1a6ce0bcadb7939cadf6bbd38e3b8">set_catchment_parameter</a>(<span class="keywordtype">size_t</span> catchment_id, <span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">parameter_t</a> &amp; p) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">if</span> (catchment_parameters.find(catchment_id) == catchment_parameters.end()) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    <span class="keyword">auto</span> shared_p = <a class="code" href="namespaceshyft_1_1core_1_1pt__gs__k.html#a6c11c77eb0ca21ffe68b331abed39cdc">parameter_t_</a>(<span class="keyword">new</span> <a class="code" href="namespaceshyft_1_1core_1_1pt__gs__k.html#ac9f6e0a926a4d4e2eca7f9a9e239bc37">parameter_t</a>(p));<span class="comment">// add to map, a copy of p</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    catchment_parameters[catchment_id] = shared_p;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                    for_each(begin(*cells), end(*cells),</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        [<span class="keyword">this</span>, catchment_id, &amp;shared_p](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; c) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                            <span class="keywordflow">if</span> (c.geo.catchment_id() == catchment_id)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                c.set_parameter(shared_p);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    });</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    *(catchment_parameters[catchment_id]) = p; <span class="comment">//copy values into existing parameters</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a7a012a62c04aa97d55a9aea94c18a734">  484</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a7a012a62c04aa97d55a9aea94c18a734">remove_catchment_parameter</a>(<span class="keywordtype">size_t</span> catchment_id) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <span class="keyword">auto</span> it = catchment_parameters.find(catchment_id);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <span class="keywordflow">if</span> (it != catchment_parameters.end()) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                    catchment_parameters.erase(catchment_id);<span class="comment">// get rid of it, and update the affected cells with the global parameter</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    for_each(begin(*cells), end(*cells),</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        [<span class="keyword">this</span>, catchment_id](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; c) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        <span class="keywordflow">if</span> (c.geo.catchment_id() == catchment_id)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                            c.set_parameter(this-&gt;region_parameter);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    });</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a1a1c6aa255f32569af8b9eb44473c2bc">  496</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a1a1c6aa255f32569af8b9eb44473c2bc">has_catchment_parameter</a>(<span class="keywordtype">size_t</span> catchment_id)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">return</span> catchment_parameters.find(catchment_id) != catchment_parameters.end();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ab6d650d4c97c5c0163aa2dfb20d926a3">  505</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">parameter_t</a>&amp; <a class="code" href="classshyft_1_1core_1_1region__model.html#ab6d650d4c97c5c0163aa2dfb20d926a3">get_catchment_parameter</a>(<span class="keywordtype">size_t</span> catchment_id) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                <span class="keywordflow">if</span> (catchment_parameters.find(catchment_id) != catchment_parameters.end())</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    <span class="keywordflow">return</span> *(catchment_parameters[catchment_id]);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    <span class="keywordflow">return</span> *region_parameter;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            }</div>
<div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a36cfd5f9faf2854bb27dd0905948ad8a">  517</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a36cfd5f9faf2854bb27dd0905948ad8a">set_catchment_calculation_filter</a>(<span class="keyword">const</span> std::vector&lt;int&gt;&amp; catchment_id_list) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">if</span> (catchment_id_list.size()) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <span class="keywordtype">int</span> mx = 0;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : catchment_id_list) mx = i &gt; mx ? i : mx;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    catchment_filter = vector&lt;bool&gt;(mx + 1, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : catchment_id_list) catchment_filter[i] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    catchment_filter.clear();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#acff9fe08cf7a71c6ee1db9e7076d99f0">  532</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#acff9fe08cf7a71c6ee1db9e7076d99f0">is_calculated</a>(<span class="keywordtype">size_t</span> cid)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> catchment_filter.size() == 0 || (catchment_filter[cid]); }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a744bfe4865f58a519134da6e0e56d9b6">  538</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a744bfe4865f58a519134da6e0e56d9b6">get_states</a>(std::vector&lt;state_t&gt;&amp; end_states)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                end_states.clear();</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                end_states.reserve(std::distance(begin(*cells), end(*cells)));</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                for_each(begin(*cells), end(*cells), [&amp;end_states](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; <a class="code" href="structshyft_1_1core_1_1cell.html">cell</a>) { end_states.emplace_back(cell.state); });</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a60fe66b4f3b17b0483300f7d7dc48ca0">  548</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a60fe66b4f3b17b0483300f7d7dc48ca0">set_states</a>(<span class="keyword">const</span> std::vector&lt;state_t&gt;&amp; states) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="keywordflow">if</span> (states.size() != size())</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Length of the state vector must equal number of cells&quot;</span>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keyword">auto</span> state_iter = begin(states);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                for_each(begin(*cells), end(*cells), [&amp;state_iter](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; <a class="code" href="structshyft_1_1core_1_1cell.html">cell</a>) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    cell.set_state(*(state_iter++));</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                });</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a0e8a895b56f9179a0642320174a5497e">  562</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a0e8a895b56f9179a0642320174a5497e">set_state_collection</a>(<span class="keywordtype">int</span> catchment_id, <span class="keywordtype">bool</span> on_or_off) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                for_each(begin(*cells), end(*cells), [on_or_off, catchment_id](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; <a class="code" href="structshyft_1_1core_1_1cell.html">cell</a>) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    <span class="keywordflow">if</span> (catchment_id == -1 || (<span class="keywordtype">int</span>)cell.geo.catchment_id() == catchment_id )</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                        cell.set_state_collection(on_or_off);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                });</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            }</div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#add781fb4b52c97b1930afd6d4c42c589">  569</a></span>&#160;            <a class="code" href="classshyft_1_1core_1_1region__model.html#a79b9796e5df1a774898d6f4530ffafb8">cell_vec_t_</a> <a class="code" href="classshyft_1_1core_1_1region__model.html#add781fb4b52c97b1930afd6d4c42c589">get_cells</a>() { <span class="keywordflow">return</span> cells; }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#ac104d8dbcb45763f93f6f3686f9759be">  572</a></span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#ac104d8dbcb45763f93f6f3686f9759be">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::distance(begin(*cells), end(*cells)); }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keyword">template</span> &lt;<span class="keyword">class</span> TSV&gt;</div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a5908b14f598e20cd6998f411c9e92bda">  582</a></span>&#160;            <span class="keywordtype">void</span>  <a class="code" href="classshyft_1_1core_1_1region__model.html#a5908b14f598e20cd6998f411c9e92bda">catchment_discharges</a>( TSV&amp; cr)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keyword">typedef</span> <span class="keyword">typename</span> TSV::value_type ts_t;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                cr.clear();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                cr.reserve(n_catchments);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0;i&lt;n_catchments;++i) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    cr.emplace_back(ts_t(time_axis, 0.0));</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c: *cells) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="keywordflow">if</span> (is_calculated(c.geo.catchment_id()))</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                        cr[c.geo.catchment_id()].add(c.rc.avg_discharge);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a4fd6c05d56175c15ab19eddb3b0422e4">  600</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a4fd6c05d56175c15ab19eddb3b0422e4">single_run</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a7db60b5f826ae7100148e1f3c0a87db2">timeaxis_t</a>&amp; time_axis, <a class="code" href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">cell_iterator</a> beg, <a class="code" href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">cell_iterator</a> endc) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                for_each(beg, endc, [<span class="keyword">this</span>, &amp;time_axis](<a class="code" href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">cell_t</a>&amp; <a class="code" href="structshyft_1_1core_1_1cell.html">cell</a>) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    <span class="keywordflow">if</span> (catchment_filter.size() == 0 || (cell.geo.catchment_id() &lt; catchment_filter.size() &amp;&amp; catchment_filter[cell.geo.catchment_id()]))</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                        cell.run(time_axis);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                });</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            }</div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classshyft_1_1core_1_1region__model.html#a42ae9c4aab7408b275ebe63fc743998d">  615</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a42ae9c4aab7408b275ebe63fc743998d">parallel_run</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1core_1_1region__model.html#a7db60b5f826ae7100148e1f3c0a87db2">timeaxis_t</a>&amp; time_axis, <a class="code" href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">cell_iterator</a> beg, <a class="code" href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">cell_iterator</a> endc, <span class="keywordtype">size_t</span> thread_cell_count) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keywordtype">size_t</span> len = std::distance(beg, endc);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">if</span>(len == 0)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                <span class="keywordflow">if</span>(thread_cell_count == 0)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;parallel_run:cell pr thread is zero &quot;</span>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                std::vector&lt;std::future&lt;void&gt;&gt; calcs;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; len;) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    <span class="keywordtype">size_t</span> n = thread_cell_count;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    <span class="keywordflow">if</span> (i + n &gt; len)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        n = len - i;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    calcs.emplace_back(</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                        std::async(std::launch::async, [<span class="keyword">this</span>, &amp;time_axis, beg, n]() {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                            this-&gt;single_run(time_axis, beg, beg + n); }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                        )</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                    );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    beg = beg + n;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                    i = i + n;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                for_each(begin(calcs), end(calcs), [](std::future&lt;void&gt;&amp; f) {f.get(); });</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        };</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    } <span class="comment">// core</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;} <span class="comment">// shyft</span></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a64c5f74b57e7dcb5b1c4011fb70d5e8f"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a64c5f74b57e7dcb5b1c4011fb70d5e8f">shyft::core::interpolation_parameter::rel_hum</a></div><div class="ttdeci">idw::parameter rel_hum</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00057">region_model.h:57</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a27848a5258bd5ea68da2d3c6cd6f8513"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a27848a5258bd5ea68da2d3c6cd6f8513">shyft::core::region_model::n_catchments</a></div><div class="ttdeci">size_t n_catchments</div><div class="ttdoc">optimized//extracted as max(cell.geo.catchment_id())+1 in run interpolate </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00221">region_model.h:221</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1idw__compliant__geo__point__ts_html_a60dc9dc491af7c15bc7acbfa33e24dc6"><div class="ttname"><a href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#a60dc9dc491af7c15bc7acbfa33e24dc6">shyft::core::idw_compliant_geo_point_ts::value</a></div><div class="ttdeci">double value(size_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00124">region_model.h:124</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_1_1pt__gs__k_html_a6c11c77eb0ca21ffe68b331abed39cdc"><div class="ttname"><a href="namespaceshyft_1_1core_1_1pt__gs__k.html#a6c11c77eb0ca21ffe68b331abed39cdc">shyft::core::pt_gs_k::parameter_t_</a></div><div class="ttdeci">shared_ptr&lt; parameter_t &gt; parameter_t_</div><div class="ttdef"><b>Definition:</b> <a href="pt__gs__k__cell__model_8h_source.html#l00017">pt_gs_k_cell_model.h:17</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_aeec27ce6168798fd967b5b84b7987a14"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#aeec27ce6168798fd967b5b84b7987a14">shyft::core::interpolation_parameter::idw_temperature_parameter_t</a></div><div class="ttdeci">idw::temperature_parameter idw_temperature_parameter_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00048">region_model.h:48</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ac6ec99ec5d14f8c4c63f07492b73e70f"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ac6ec99ec5d14f8c4c63f07492b73e70f">shyft::core::region_model::set_region_parameter</a></div><div class="ttdeci">void set_region_parameter(const parameter_t &amp;p)</div><div class="ttdoc">set the region parameter, apply it to all cells that do not have catchment specific parameters...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00443">region_model.h:443</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ae9439b618ed890553da21b1a86618025"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ae9439b618ed890553da21b1a86618025">shyft::core::region_model::catchment_filter</a></div><div class="ttdeci">std::vector&lt; bool &gt; catchment_filter</div><div class="ttdoc">if active (alias .size()>0), only calc if catchment_filter[catchment_id] is true. ...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00219">region_model.h:219</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a5cb2286544052ac7a9b7dce3acb1ca6d"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a5cb2286544052ac7a9b7dce3acb1ca6d">shyft::core::region_model::cell_vec_t</a></div><div class="ttdeci">std::vector&lt; cell_t &gt; cell_vec_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00195">region_model.h:195</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a338fa41c22e45d74ded90af9da5f53e6"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a338fa41c22e45d74ded90af9da5f53e6">shyft::core::region_environment::precipitation_vec_t</a></div><div class="ttdeci">vector&lt; PS &gt; precipitation_vec_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00153">region_model.h:153</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a46a47a29b7f08d04f0f6ef72a6571a32"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a46a47a29b7f08d04f0f6ef72a6571a32">shyft::core::interpolation_parameter::precipitation</a></div><div class="ttdeci">idw::precipitation_parameter precipitation</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00054">region_model.h:54</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a0e8a895b56f9179a0642320174a5497e"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a0e8a895b56f9179a0642320174a5497e">shyft::core::region_model::set_state_collection</a></div><div class="ttdeci">void set_state_collection(int catchment_id, bool on_or_off)</div><div class="ttdoc">enable state collection for specified or all cells </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00562">region_model.h:562</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_add781fb4b52c97b1930afd6d4c42c589"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#add781fb4b52c97b1930afd6d4c42c589">shyft::core::region_model::get_cells</a></div><div class="ttdeci">cell_vec_t_ get_cells()</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00569">region_model.h:569</a></div></div>
<div class="ttc" id="pt__hs__k_8h_html"><div class="ttname"><a href="pt__hs__k_8h.html">pt_hs_k.h</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a0768a59d462d391baf537747fdc3045d"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a0768a59d462d391baf537747fdc3045d">shyft::core::region_model::ncore</a></div><div class="ttdeci">size_t ncore</div><div class="ttdoc">< defaults to 4x hardware concurrency, controls number of threads used for cell processing ...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00271">region_model.h:271</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ab9fa320c158c9fafd53fcb6cd80f6cc3"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ab9fa320c158c9fafd53fcb6cd80f6cc3">shyft::core::region_model::state_t</a></div><div class="ttdeci">C::state_t state_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00192">region_model.h:192</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_html"><div class="ttname"><a href="namespaceshyft_1_1core.html">shyft::core</a></div><div class="ttdef"><b>Definition:</b> <a href="actual__evapotranspiration_8h_source.html#l00026">actual_evapotranspiration.h:26</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_1_1pt__gs__k_html_a4a57e3490f1be1041094880622c2ce16"><div class="ttname"><a href="namespaceshyft_1_1core_1_1pt__gs__k.html#a4a57e3490f1be1041094880622c2ce16">shyft::core::pt_gs_k::state_t</a></div><div class="ttdeci">state state_t</div><div class="ttdef"><b>Definition:</b> <a href="pt__gs__k__cell__model_8h_source.html#l00015">pt_gs_k_cell_model.h:15</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1inverse__distance_1_1precipitation__parameter_html"><div class="ttname"><a href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__parameter.html">shyft::core::inverse_distance::precipitation_parameter</a></div><div class="ttdef"><b>Definition:</b> <a href="inverse__distance_8h_source.html#l00051">inverse_distance.h:51</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a8ac55378ad03e496bd07f07c91dbbaba"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a8ac55378ad03e496bd07f07c91dbbaba">shyft::core::interpolation_parameter::interpolation_parameter</a></div><div class="ttdeci">interpolation_parameter(const idw::temperature_parameter &amp;temperature, const idw::precipitation_parameter &amp;precipitation, const idw::parameter &amp;wind_speed, const idw::parameter &amp;radiation, const idw::parameter &amp;rel_hum)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00067">region_model.h:67</a></div></div>
<div class="ttc" id="classshyft_1_1timeseries_1_1average__accessor_html"><div class="ttname"><a href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor</a></div><div class="ttdoc">average_accessor provides a projection/interpretation of the values of a point source on to a time-ax...</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8h_source.html#l00490">timeseries.h:490</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_1_1inverse__distance_html"><div class="ttname"><a href="namespaceshyft_1_1core_1_1inverse__distance.html">shyft::core::inverse_distance</a></div><div class="ttdef"><b>Definition:</b> <a href="inverse__distance_8h_source.html#l00017">inverse_distance.h:17</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_ab6ceefb81900ae313e5fd0d5f46bda5b"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#ab6ceefb81900ae313e5fd0d5f46bda5b">shyft::core::interpolation_parameter::temperature</a></div><div class="ttdeci">btk::parameter temperature</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00051">region_model.h:51</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1inverse__distance_1_1parameter_html"><div class="ttname"><a href="structshyft_1_1core_1_1inverse__distance_1_1parameter.html">shyft::core::inverse_distance::parameter</a></div><div class="ttdoc">parameter is a simple place-holder for IDW parameters </div><div class="ttdef"><b>Definition:</b> <a href="inverse__distance_8h_source.html#l00027">inverse_distance.h:27</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a744bfe4865f58a519134da6e0e56d9b6"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a744bfe4865f58a519134da6e0e56d9b6">shyft::core::region_model::get_states</a></div><div class="ttdeci">void get_states(std::vector&lt; state_t &gt; &amp;end_states) const </div><div class="ttdoc">collects current state from all the cells </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00538">region_model.h:538</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a5908b14f598e20cd6998f411c9e92bda"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a5908b14f598e20cd6998f411c9e92bda">shyft::core::region_model::catchment_discharges</a></div><div class="ttdeci">void catchment_discharges(TSV &amp;cr) const </div><div class="ttdoc">catchment_discharges, vital for calibration </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00582">region_model.h:582</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a26e1a6ce0bcadb7939cadf6bbd38e3b8"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a26e1a6ce0bcadb7939cadf6bbd38e3b8">shyft::core::region_model::set_catchment_parameter</a></div><div class="ttdeci">void set_catchment_parameter(size_t catchment_id, const parameter_t &amp;p)</div><div class="ttdoc">creates/modifies a pr catchment override parameter </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00467">region_model.h:467</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_aa52a67e42cd230a066bec74798870a62"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#aa52a67e42cd230a066bec74798870a62">shyft::core::interpolation_parameter::idw_parameter_t</a></div><div class="ttdeci">idw::parameter idw_parameter_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00049">region_model.h:49</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a79b9796e5df1a774898d6f4530ffafb8"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a79b9796e5df1a774898d6f4530ffafb8">shyft::core::region_model::cell_vec_t_</a></div><div class="ttdeci">std::shared_ptr&lt; cell_vec_t &gt; cell_vec_t_</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00196">region_model.h:196</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point__ts_html_ab86acb444afc7b25090400a4e9476898"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point__ts.html#ab86acb444afc7b25090400a4e9476898">shyft::core::geo_point_ts::mid_point</a></div><div class="ttdeci">geo_point mid_point() const </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00098">region_model.h:98</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html">shyft::core::interpolation_parameter</a></div><div class="ttdoc">the interpolation_parameter keeps parameter needed to perform the interpolation steps as specified by...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00045">region_model.h:45</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a7a012a62c04aa97d55a9aea94c18a734"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a7a012a62c04aa97d55a9aea94c18a734">shyft::core::region_model::remove_catchment_parameter</a></div><div class="ttdeci">void remove_catchment_parameter(size_t catchment_id)</div><div class="ttdoc">remove a catchment specific parameter override, if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00484">region_model.h:484</a></div></div>
<div class="ttc" id="core_2pt__gs__k_8h_html"><div class="ttname"><a href="core_2pt__gs__k_8h.html">pt_gs_k.h</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a7b88748be0d5b843233ee5301265b392"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a7b88748be0d5b843233ee5301265b392">shyft::core::region_environment::precipitation_t</a></div><div class="ttdeci">PS precipitation_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00148">region_model.h:148</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a7d27b31ee786ca044a7329065daee54c"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a7d27b31ee786ca044a7329065daee54c">shyft::core::region_model::clone</a></div><div class="ttdeci">void clone(const region_model &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00223">region_model.h:223</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a42ae9c4aab7408b275ebe63fc743998d"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a42ae9c4aab7408b275ebe63fc743998d">shyft::core::region_model::parallel_run</a></div><div class="ttdeci">void parallel_run(const timeaxis_t &amp;time_axis, cell_iterator beg, cell_iterator endc, size_t thread_cell_count)</div><div class="ttdoc">uses async to execute the single_run, partitioning the cell range into thread-cell count ...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00615">region_model.h:615</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a2ea5568fefdec00a18ee9479e5702874"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a2ea5568fefdec00a18ee9479e5702874">shyft::core::region_environment::wind_speed_t</a></div><div class="ttdeci">WS wind_speed_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00152">region_model.h:152</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html">shyft::core::region_environment</a></div><div class="ttdoc">region_environment contains the measured/forecasted sources of environmental properties, each that contains a geo_point and a time-series representation, like the geo_point_ts type . This class comes into play in the interpolation step where each env.property is projected to the region.cells, using interpolation algorithm. For performance, it&#39;s imperative that access to each time-series value is efficient, and repeated calls should have very low cost (implies possible caching) </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00147">region_model.h:147</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a0b71bf408141af514f6fa483e574b11e"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a0b71bf408141af514f6fa483e574b11e">shyft::core::region_model::region_parameter</a></div><div class="ttdeci">parameter_t_ region_parameter</div><div class="ttdoc">applies to all cells, except those with catchment override </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00216">region_model.h:216</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point__ts_html"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point__ts.html">shyft::core::geo_point_ts</a></div><div class="ttdoc">point_source contains common properties,functions for the point sources in Enki. Typically it contain...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00088">region_model.h:88</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a1ed48adb130c46b43a66438edc667c71"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a1ed48adb130c46b43a66438edc667c71">shyft::core::interpolation_parameter::btk_parameter_t</a></div><div class="ttdeci">btk::parameter btk_parameter_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00046">region_model.h:46</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a4792cb4a3292efb3bcc4508aed5a5c24"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a4792cb4a3292efb3bcc4508aed5a5c24">shyft::core::region_model::get_region_parameter</a></div><div class="ttdeci">parameter_t &amp; get_region_parameter() const </div><div class="ttdoc">provide access to current region parameter-set </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00459">region_model.h:459</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1idw__compliant__geo__point__ts_html_a4445cd32a53e0d147488c2235726be5b"><div class="ttname"><a href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#a4445cd32a53e0d147488c2235726be5b">shyft::core::idw_compliant_geo_point_ts::geo_point_t</a></div><div class="ttdeci">geo_point geo_point_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00120">region_model.h:120</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_af27c74a4df528af7ae41eae138240208"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#af27c74a4df528af7ae41eae138240208">shyft::core::region_model::run_interpolation</a></div><div class="ttdeci">void run_interpolation(const IP &amp;interpolation_parameter, const timeaxis_t &amp;time_axis, const RE &amp;env)</div><div class="ttdoc">run_interpolation interpolates region_environment temp,precip,rad.. point sources to a value represen...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00290">region_model.h:290</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a24f6a7ac9b6218942ecf7ab38f9fee95"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a24f6a7ac9b6218942ecf7ab38f9fee95">shyft::core::region_model::cell_iterator</a></div><div class="ttdeci">cell_vec_t::iterator cell_iterator</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00198">region_model.h:198</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a29b2c7babab88a36320b3e89bf154d89"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a29b2c7babab88a36320b3e89bf154d89">shyft::core::region_model::region_model</a></div><div class="ttdeci">region_model(std::shared_ptr&lt; std::vector&lt; C &gt; &gt; &amp;cells, const parameter_t &amp;region_param, const std::map&lt; size_t, parameter_t &gt; &amp;catchment_parameters)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00251">region_model.h:251</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ab6d650d4c97c5c0163aa2dfb20d926a3"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ab6d650d4c97c5c0163aa2dfb20d926a3">shyft::core::region_model::get_catchment_parameter</a></div><div class="ttdeci">parameter_t &amp; get_catchment_parameter(size_t catchment_id)</div><div class="ttdoc">return the parameter valid for specified catchment_id, or global parameter if not found...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00505">region_model.h:505</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a379de6eeca0fef04f92f21c32864058f"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a379de6eeca0fef04f92f21c32864058f">shyft::core::region_model::run_cells</a></div><div class="ttdeci">void run_cells(size_t thread_cell_count=0)</div><div class="ttdoc">run_cells calculations over specified time_axis the cell method stack is invoked for all the cells...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00426">region_model.h:426</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_aa95bc53fc6071e806e6cb617ed012947"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#aa95bc53fc6071e806e6cb617ed012947">shyft::core::region_environment::wind_speed_vec_t</a></div><div class="ttdeci">vector&lt; WS &gt; wind_speed_vec_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00157">region_model.h:157</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a228a51305da4a6db3c7756a04fcc71e0"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a228a51305da4a6db3c7756a04fcc71e0">shyft::core::region_environment::temperature</a></div><div class="ttdeci">shared_ptr&lt; temperature_vec_t &gt; temperature</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00159">region_model.h:159</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point__ts_html_a419e1cfb4f880250e5d662332a33f992"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point__ts.html#a419e1cfb4f880250e5d662332a33f992">shyft::core::geo_point_ts::ts</a></div><div class="ttdeci">T ts</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00091">region_model.h:91</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ac104d8dbcb45763f93f6f3686f9759be"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ac104d8dbcb45763f93f6f3686f9759be">shyft::core::region_model::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00572">region_model.h:572</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point__ts_html_aada4445692c21a17f433b5da82aac74a"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point__ts.html#aada4445692c21a17f433b5da82aac74a">shyft::core::geo_point_ts::location</a></div><div class="ttdeci">geo_point location</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00090">region_model.h:90</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_adfeb5f1f67e4fd5bfd6d8d56bb84819a"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#adfeb5f1f67e4fd5bfd6d8d56bb84819a">shyft::core::region_environment::rel_hum</a></div><div class="ttdeci">shared_ptr&lt; rel_hum_vec_t &gt; rel_hum</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00163">region_model.h:163</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_acdde3f7558d8b92423c960bfde7fe7cc"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#acdde3f7558d8b92423c960bfde7fe7cc">shyft::core::region_environment::radiation_t</a></div><div class="ttdeci">RS radiation_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00150">region_model.h:150</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1inverse__distance_1_1temperature__parameter_html"><div class="ttname"><a href="structshyft_1_1core_1_1inverse__distance_1_1temperature__parameter.html">shyft::core::inverse_distance::temperature_parameter</a></div><div class="ttdoc">For temperature inverse distance, also provide default temperature gradient to be used when the gradi...</div><div class="ttdef"><b>Definition:</b> <a href="inverse__distance_8h_source.html#l00041">inverse_distance.h:41</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a60fe66b4f3b17b0483300f7d7dc48ca0"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a60fe66b4f3b17b0483300f7d7dc48ca0">shyft::core::region_model::set_states</a></div><div class="ttdeci">void set_states(const std::vector&lt; state_t &gt; &amp;states)</div><div class="ttdoc">set current state for all the cells in the model. </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00548">region_model.h:548</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1idw__compliant__geo__point__ts_html_ae49421d6c094ff081d93005f65382ad9"><div class="ttname"><a href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#ae49421d6c094ff081d93005f65382ad9">shyft::core::idw_compliant_geo_point_ts::idw_compliant_geo_point_ts</a></div><div class="ttdeci">idw_compliant_geo_point_ts(const GPTS &amp;gpts, const TA &amp;ta)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00122">region_model.h:122</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a2649a5b792c362e6d4727376b2144328"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a2649a5b792c362e6d4727376b2144328">shyft::core::interpolation_parameter::wind_speed</a></div><div class="ttdeci">idw::parameter wind_speed</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00055">region_model.h:55</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a6b4158a76d7fbe3b079e60e35ef85a0e"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a6b4158a76d7fbe3b079e60e35ef85a0e">shyft::core::region_environment::radiation_vec_t</a></div><div class="ttdeci">vector&lt; RS &gt; radiation_vec_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00155">region_model.h:155</a></div></div>
<div class="ttc" id="priestley__taylor_8h_html"><div class="ttname"><a href="priestley__taylor_8h.html">priestley_taylor.h</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a72ba2571d467f81e2b31332e0ebe062d"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a72ba2571d467f81e2b31332e0ebe062d">shyft::core::region_model::operator=</a></div><div class="ttdeci">region_model &amp; operator=(const region_model &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00264">region_model.h:264</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ab260139dc166a5fd0619a7d59c21ecf2"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ab260139dc166a5fd0619a7d59c21ecf2">shyft::core::region_model::parameter_t</a></div><div class="ttdeci">C::parameter_t parameter_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00193">region_model.h:193</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a39bfabf58f896360cf7f9202d5f54d7f"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a39bfabf58f896360cf7f9202d5f54d7f">shyft::core::region_model::cells</a></div><div class="ttdeci">cell_vec_t_ cells</div><div class="ttdoc">a region consists of cells that orchestrate the distributed correlation </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00201">region_model.h:201</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1bayesian__kriging_1_1parameter_html"><div class="ttname"><a href="classshyft_1_1core_1_1bayesian__kriging_1_1parameter.html">shyft::core::bayesian_kriging::parameter</a></div><div class="ttdoc">BTKParameter class with time varying gradient based on day no. </div><div class="ttdef"><b>Definition:</b> <a href="bayesian__kriging_8h_source.html#l00187">bayesian_kriging.h:187</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a4fd6c05d56175c15ab19eddb3b0422e4"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a4fd6c05d56175c15ab19eddb3b0422e4">shyft::core::region_model::single_run</a></div><div class="ttdeci">void single_run(const timeaxis_t &amp;time_axis, cell_iterator beg, cell_iterator endc)</div><div class="ttdoc">parallell_run using a mid-point split + async to engange multicore execution </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00600">region_model.h:600</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a7b76530436e53b4a28c0720fe820a8a1"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a7b76530436e53b4a28c0720fe820a8a1">shyft::core::interpolation_parameter::interpolation_parameter</a></div><div class="ttdeci">interpolation_parameter()</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00059">region_model.h:59</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a0a487ae7d0c6c2519c256f63d2783754"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a0a487ae7d0c6c2519c256f63d2783754">shyft::core::region_environment::temperature_t</a></div><div class="ttdeci">TS temperature_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00149">region_model.h:149</a></div></div>
<div class="ttc" id="geo__cell__data_8h_html"><div class="ttname"><a href="geo__cell__data_8h.html">geo_cell_data.h</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_ad5c408a91435fd50af02fa4a665e5244"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#ad5c408a91435fd50af02fa4a665e5244">shyft::core::interpolation_parameter::radiation</a></div><div class="ttdeci">idw::parameter radiation</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00056">region_model.h:56</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_1_1bayesian__kriging_html"><div class="ttname"><a href="namespaceshyft_1_1core_1_1bayesian__kriging.html">shyft::core::bayesian_kriging</a></div><div class="ttdef"><b>Definition:</b> <a href="bayesian__kriging_8h_source.html#l00014">bayesian_kriging.h:14</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_aa4116aece39e6b900f40b5dd2f2951b8"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#aa4116aece39e6b900f40b5dd2f2951b8">shyft::core::region_environment::rel_hum_t</a></div><div class="ttdeci">HS rel_hum_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00151">region_model.h:151</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a1a1c6aa255f32569af8b9eb44473c2bc"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a1a1c6aa255f32569af8b9eb44473c2bc">shyft::core::region_model::has_catchment_parameter</a></div><div class="ttdeci">bool has_catchment_parameter(size_t catchment_id) const </div><div class="ttdoc">returns true if there exist a specific parameter override for the specified 0-based catchment_id ...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00496">region_model.h:496</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_ac0bee940a014e28fe768731899f3d793"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#ac0bee940a014e28fe768731899f3d793">shyft::core::region_model::catchment_parameters</a></div><div class="ttdeci">std::map&lt; size_t, parameter_t_ &gt; catchment_parameters</div><div class="ttdoc">for each catchment parameter is possible </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00217">region_model.h:217</a></div></div>
<div class="ttc" id="namespaceshyft_html"><div class="ttname"><a href="namespaceshyft.html">shyft</a></div><div class="ttdef"><b>Definition:</b> <a href="actual__evapotranspiration_8h_source.html#l00025">actual_evapotranspiration.h:25</a></div></div>
<div class="ttc" id="gamma__snow_8h_html"><div class="ttname"><a href="gamma__snow_8h.html">gamma_snow.h</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a289d38abd53894a05c6656d071f4c3a9"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a289d38abd53894a05c6656d071f4c3a9">shyft::core::region_model::region_model</a></div><div class="ttdeci">region_model(const region_model &amp;model)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00262">region_model.h:262</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a30a49f365433cd2255daf807dd63870f"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a30a49f365433cd2255daf807dd63870f">shyft::core::interpolation_parameter::temperature_idw</a></div><div class="ttdeci">idw::temperature_parameter temperature_idw</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00053">region_model.h:53</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a185bcdeebbc66e1fd245001bde7cb91f"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a185bcdeebbc66e1fd245001bde7cb91f">shyft::core::region_model::cell_t</a></div><div class="ttdeci">C cell_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00191">region_model.h:191</a></div></div>
<div class="ttc" id="bayesian__kriging_8h_html"><div class="ttname"><a href="bayesian__kriging_8h.html">bayesian_kriging.h</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point_html"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point.html">shyft::core::geo_point</a></div><div class="ttdoc">GeoPoint commonly used in the shyft::core for representing a 3D point in the terrain model...</div><div class="ttdef"><b>Definition:</b> <a href="geo__point_8h_source.html#l00016">geo_point.h:16</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_abdd1888989973474030f5e8f529a2ddc"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#abdd1888989973474030f5e8f529a2ddc">shyft::core::region_model::region_model</a></div><div class="ttdeci">region_model(std::shared_ptr&lt; std::vector&lt; C &gt; &gt; &amp;cells, const parameter_t &amp;region_param)</div><div class="ttdoc">construct a region model, by supplying the following minimum set of parameters. </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00246">region_model.h:246</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1idw__compliant__geo__point__ts_html"><div class="ttname"><a href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html">shyft::core::idw_compliant_geo_point_ts</a></div><div class="ttdoc">the idw_compliant geo_point_ts is a special variant,(or you could call it a fix), so that we can feed...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00116">region_model.h:116</a></div></div>
<div class="ttc" id="inverse__distance_8h_html"><div class="ttname"><a href="inverse__distance_8h.html">inverse_distance.h</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point__ts_html_ab41e0e78fc6df9655c4bd2f28981c489"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point__ts.html#ab41e0e78fc6df9655c4bd2f28981c489">shyft::core::geo_point_ts::ts_t</a></div><div class="ttdeci">T ts_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00089">region_model.h:89</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1inverse__distance_1_1temperature__model_html"><div class="ttname"><a href="structshyft_1_1core_1_1inverse__distance_1_1temperature__model.html">shyft::core::inverse_distance::temperature_model</a></div><div class="ttdoc">Provide a minimal temperature model for the IDW algorithm, providing functionality for transformation...</div><div class="ttdef"><b>Definition:</b> <a href="inverse__distance_8h_source.html#l00333">inverse_distance.h:333</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a395d68f46c82c73eba7a73b2fe0bd12f"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a395d68f46c82c73eba7a73b2fe0bd12f">shyft::core::interpolation_parameter::idw_precipitation_parameter_t</a></div><div class="ttdeci">idw::precipitation_parameter idw_precipitation_parameter_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00047">region_model.h:47</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1cell_html"><div class="ttname"><a href="structshyft_1_1core_1_1cell.html">shyft::core::cell</a></div><div class="ttdoc">cell template for distributed cell calculations. a cell have :geo information (.mid_point(),area(), landtype fractions etc..)parameters reference to parameters for the cell method-stack (subject to calibration)state the current state of the cell, like water-content etc.env_ts provision the environmental properties (prec,temp,rad,wind,rhum) at the cell.mid_pointsc state collector, plays its role during run(), collects wanted state each steprc response collector,plays its role during run(), collects wanted response each step </div><div class="ttdef"><b>Definition:</b> <a href="cell__model_8h_source.html#l00087">cell_model.h:87</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a49645a30ac63d677850dc2cfabd70901"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a49645a30ac63d677850dc2cfabd70901">shyft::core::region_environment::wind_speed</a></div><div class="ttdeci">shared_ptr&lt; wind_speed_vec_t &gt; wind_speed</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00162">region_model.h:162</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1interpolation__parameter_html_a2347283ea80374b2533c4b99ff7944e7"><div class="ttname"><a href="structshyft_1_1core_1_1interpolation__parameter.html#a2347283ea80374b2533c4b99ff7944e7">shyft::core::interpolation_parameter::interpolation_parameter</a></div><div class="ttdeci">interpolation_parameter(const btk::parameter &amp;temperature, const idw::precipitation_parameter &amp;precipitation, const idw::parameter &amp;wind_speed, const idw::parameter &amp;radiation, const idw::parameter &amp;rel_hum)</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00060">region_model.h:60</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1inverse__distance_1_1precipitation__model_html"><div class="ttname"><a href="structshyft_1_1core_1_1inverse__distance_1_1precipitation__model.html">shyft::core::inverse_distance::precipitation_model</a></div><div class="ttdoc">Provide a minimal precipitation model for IDW, PrecipitationModel::scale_computer provides the consta...</div><div class="ttdef"><b>Definition:</b> <a href="inverse__distance_8h_source.html#l00376">inverse_distance.h:376</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_1_1pt__gs__k_html_ac9f6e0a926a4d4e2eca7f9a9e239bc37"><div class="ttname"><a href="namespaceshyft_1_1core_1_1pt__gs__k.html#ac9f6e0a926a4d4e2eca7f9a9e239bc37">shyft::core::pt_gs_k::parameter_t</a></div><div class="ttdeci">parameter parameter_t</div><div class="ttdef"><b>Definition:</b> <a href="pt__gs__k__cell__model_8h_source.html#l00014">pt_gs_k_cell_model.h:14</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a7db60b5f826ae7100148e1f3c0a87db2"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a7db60b5f826ae7100148e1f3c0a87db2">shyft::core::region_model::timeaxis_t</a></div><div class="ttdeci">C::timeaxis_t timeaxis_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00194">region_model.h:194</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1idw__compliant__geo__point__ts_html_ab9a7732df1e2e5ffb9f5caf5b85391a4"><div class="ttname"><a href="classshyft_1_1core_1_1idw__compliant__geo__point__ts.html#ab9a7732df1e2e5ffb9f5caf5b85391a4">shyft::core::idw_compliant_geo_point_ts::mid_point</a></div><div class="ttdeci">geo_point mid_point() const </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00123">region_model.h:123</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_ae3e6269a12432e164b56af14412a77fb"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#ae3e6269a12432e164b56af14412a77fb">shyft::core::region_environment::radiation</a></div><div class="ttdeci">shared_ptr&lt; radiation_vec_t &gt; radiation</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00161">region_model.h:161</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a09205cc6f001293697d5c4fc57c24bd2"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a09205cc6f001293697d5c4fc57c24bd2">shyft::core::region_model::parameter_t_</a></div><div class="ttdeci">std::shared_ptr&lt; parameter_t &gt; parameter_t_</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00197">region_model.h:197</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1geo__point__ts_html_adaa082707065f4a9da8934dee4497b8f"><div class="ttname"><a href="structshyft_1_1core_1_1geo__point__ts.html#adaa082707065f4a9da8934dee4497b8f">shyft::core::geo_point_ts::temperatures</a></div><div class="ttdeci">const T &amp; temperatures() const </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00099">region_model.h:99</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_acff9fe08cf7a71c6ee1db9e7076d99f0"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#acff9fe08cf7a71c6ee1db9e7076d99f0">shyft::core::region_model::is_calculated</a></div><div class="ttdeci">bool is_calculated(size_t cid) const </div><div class="ttdoc">using the catchment_calculation_filter to decide if discharge etc. are calculated. </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00532">region_model.h:532</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a77b06a5793f43b502987e783fd46e6fe"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a77b06a5793f43b502987e783fd46e6fe">shyft::core::region_environment::rel_hum_vec_t</a></div><div class="ttdeci">vector&lt; HS &gt; rel_hum_vec_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00156">region_model.h:156</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html">shyft::core::region_model</a></div><div class="ttdoc">region_model is the calculation model for a region, where we can have one or more catchments...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00189">region_model.h:189</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_ae84309d4584568838895a26bc4b688d1"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#ae84309d4584568838895a26bc4b688d1">shyft::core::region_environment::precipitation</a></div><div class="ttdeci">shared_ptr&lt; precipitation_vec_t &gt; precipitation</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00160">region_model.h:160</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_html_a147759d3a865deddd1ddafb19dc7f431"><div class="ttname"><a href="namespaceshyft_1_1core.html#a147759d3a865deddd1ddafb19dc7f431">shyft::core::timeaxis_t</a></div><div class="ttdeci">timeaxis timeaxis_t</div><div class="ttdef"><b>Definition:</b> <a href="cell__model_8h_source.html#l00014">cell_model.h:14</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a36cfd5f9faf2854bb27dd0905948ad8a"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a36cfd5f9faf2854bb27dd0905948ad8a">shyft::core::region_model::set_catchment_calculation_filter</a></div><div class="ttdeci">void set_catchment_calculation_filter(const std::vector&lt; int &gt; &amp;catchment_id_list)</div><div class="ttdoc">set/reset the catchment based calculation filter. This affects what get simulate/calculated during th...</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00517">region_model.h:517</a></div></div>
<div class="ttc" id="kirchner_8h_html"><div class="ttname"><a href="kirchner_8h.html">kirchner.h</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1region__environment_html_a20a4654f2ce460588bb477d41cedc46e"><div class="ttname"><a href="structshyft_1_1core_1_1region__environment.html#a20a4654f2ce460588bb477d41cedc46e">shyft::core::region_environment::temperature_vec_t</a></div><div class="ttdeci">vector&lt; TS &gt; temperature_vec_t</div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00154">region_model.h:154</a></div></div>
<div class="ttc" id="classshyft_1_1core_1_1region__model_html_a2a0c97105e2be0e72dbe3a498f57873f"><div class="ttname"><a href="classshyft_1_1core_1_1region__model.html#a2a0c97105e2be0e72dbe3a498f57873f">shyft::core::region_model::time_axis</a></div><div class="ttdeci">timeaxis_t time_axis</div><div class="ttdoc">The time_axis as set from run_interpolation, determines the axis for run().. </div><div class="ttdef"><b>Definition:</b> <a href="region__model_8h_source.html#l00270">region_model.h:270</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9561849f62f3109c9288bfc0f77b89f3.html">shyft</a></li><li class="navelem"><a class="el" href="dir_8445457bf4f9a4a77b5ed5140c70d7f7.html">core</a></li><li class="navelem"><a class="el" href="region__model_8h.html">region_model.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
