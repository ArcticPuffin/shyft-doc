<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shyft: /Data/johnbur/Dropbox/home/Programming/workspace/shyft_cmake/shyft/api/timeseries.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shyft
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">Shyft</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('timeseries_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">timeseries.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="timeseries_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="api_2timeseries_8h.html">timeseries.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;dlib/statistics.h&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceshyft.html">shyft</a>{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="keyword">namespace </span>api {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> iop_add(<span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b) {<span class="keywordflow">return</span> a + b;}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> iop_sub(<span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b) {<span class="keywordflow">return</span> a - b;}</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> iop_div(<span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b) {<span class="keywordflow">return</span> a/b;}</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> iop_mul(<span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b) {<span class="keywordflow">return</span> a*b;}</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> iop_min(<span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b) {<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#a4da3af69cc0ba11f60db97a28728d377">std::min</a>(a,b);}</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> iop_max(<span class="keywordtype">double</span> a,<span class="keywordtype">double</span> b) {<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#abc7f4a5025d574f442699be4dec03001">std::max</a>(a,b);}</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;       <span class="comment">// add operators and functions to the apoint_ts class, of all variants that we want to expose</span></div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a1cc1269af51a9ab1043b7c5f907d7536">   13</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a1cc1269af51a9ab1043b7c5f907d7536">average</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; ts,<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; ta<span class="comment">/*fx-type */</span>)  { <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;average_ts&gt;(ta,ts));}</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ae80fc7b81d1f7b38520f196ef70c72f9">   14</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a1cc1269af51a9ab1043b7c5f907d7536">average</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp;&amp; ts,<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; ta)  { <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;average_ts&gt;(ta,std::move(ts)));}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#abc8be68c104b8ce6fde4b68f4c8a1724">   16</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#abc8be68c104b8ce6fde4b68f4c8a1724">accumulate</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; ts, <span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; ta<span class="comment">/*fx-type */</span>) { <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;accumulate_ts&gt;(ta, ts)); }</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a9365c5a67264d2b0d7d8f9e2179d56f8">   17</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#abc8be68c104b8ce6fde4b68f4c8a1724">accumulate</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp;&amp; ts, <span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; ta) { <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;accumulate_ts&gt;(ta, std::move(ts))); }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#aae9ff29d8f36ef9422eaa4514e56eeb7">   19</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#aae9ff29d8f36ef9422eaa4514e56eeb7">create_periodic_pattern_ts</a>(<span class="keyword">const</span> vector&lt;double&gt;&amp; pattern, <a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> dt, <a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> pattern_t0,<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; ta) { <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(make_shared&lt;periodic_ts&gt;(pattern, dt, pattern_t0, ta)); }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a0829bd20be2d34873b57149555f7d1c1">   21</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a0829bd20be2d34873b57149555f7d1c1">operator+</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts       &gt;( lhs,iop_add,rhs )); }</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#aa0b8b065c1f17cd5c847ab247312ffc8">   22</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a0829bd20be2d34873b57149555f7d1c1">operator+</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keywordtype">double</span>           rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts_scalar&gt;( lhs,iop_add,rhs )); }</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a56e64a6dd8556efc91dfae8766e17fd8">   23</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a0829bd20be2d34873b57149555f7d1c1">operator+</a>(<span class="keywordtype">double</span>           lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( lhs,iop_add,rhs )); }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ad3907fce4fcdf53e4f3057016343fa33">   25</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ad3907fce4fcdf53e4f3057016343fa33">operator-</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts       &gt;( lhs,iop_sub,rhs )); }</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#aca5883fb353332d1578a4a1b154397f6">   26</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ad3907fce4fcdf53e4f3057016343fa33">operator-</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keywordtype">double</span>           rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts_scalar&gt;( lhs,iop_sub,rhs )); }</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#abd2b6fb3a66d16839c7f420829ef0dc4">   27</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ad3907fce4fcdf53e4f3057016343fa33">operator-</a>(<span class="keywordtype">double</span>           lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( lhs,iop_sub,rhs )); }</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a103b172f4281114663ac4b6135d68de0">   28</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ad3907fce4fcdf53e4f3057016343fa33">operator-</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( -1.0,iop_mul,rhs )); }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a8228b684f975416fc858ec3deb1c60f7">   30</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a8228b684f975416fc858ec3deb1c60f7">operator/</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts       &gt;( lhs,iop_div,rhs )); }</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ad517f1457caaa7729ecc35ad3bfacc73">   31</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a8228b684f975416fc858ec3deb1c60f7">operator/</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keywordtype">double</span>           rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts_scalar&gt;( lhs,iop_div,rhs )); }</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#aa3ac735ea9d48f7f6ca841a3f909d067">   32</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a8228b684f975416fc858ec3deb1c60f7">operator/</a>(<span class="keywordtype">double</span>           lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( lhs,iop_div,rhs )); }</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#aa0848b8c5757f64246b015543103a475">   34</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#aa0848b8c5757f64246b015543103a475">operator*</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts       &gt;( lhs,iop_mul,rhs )); }</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a6e3a7e30a6a2ffdc6e3f9f0aaa9f5626">   35</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#aa0848b8c5757f64246b015543103a475">operator*</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keywordtype">double</span>           rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts_scalar&gt;( lhs,iop_mul,rhs )); }</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a4434e0c52d24c81ce991fdbe6bb1650a">   36</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#aa0848b8c5757f64246b015543103a475">operator*</a>(<span class="keywordtype">double</span>           lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( lhs,iop_mul,rhs )); }</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">   39</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">max</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts       &gt;( lhs,iop_max,rhs ));}</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ac2df98907abb5a21c5b2efc082f3271d">   40</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">max</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keywordtype">double</span>           rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts_scalar&gt;( lhs,iop_max,rhs ));}</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#abc7f4a5025d574f442699be4dec03001">   41</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">max</a>(<span class="keywordtype">double</span>           lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( lhs,iop_max,rhs ));}</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">   43</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">min</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts&gt;( lhs,iop_min,rhs ));}</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a85082fe9d2a703e537b342df2a87dad6">   44</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">min</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; lhs,<span class="keywordtype">double</span>           rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_ts_scalar&gt;( lhs,iop_min,rhs ));}</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a4da3af69cc0ba11f60db97a28728d377">   45</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">min</a>(<span class="keywordtype">double</span>           lhs,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; rhs) {<span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(std::make_shared&lt;abin_op_scalar_ts&gt;( lhs,iop_min,rhs ));}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1abin__op__ts.html#a37b9b83060a1e908eebcc7913334d86f">   47</a></span>&#160;        <span class="keywordtype">double</span> <a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#a37b9b83060a1e908eebcc7913334d86f">abin_op_ts::value_at</a>(<a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> t)<span class="keyword"> const </span>{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#aa629242be92f723175ceb1bf4d6742b3">ta</a>.<a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html#a1ea9fa2294e8e84d7b15ee357f9cd6a1">total_period</a>().<a class="code" href="structshyft_1_1core_1_1utcperiod.html#a9389e69f1aa343d037ccafda9a2d11aa">contains</a>(t))</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespaceshyft.html#abb17c53f5f6d6eb8901cd2491680cba4">nan</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#ac7be6ad975b78d1779f7d16172b49b23">op</a>( <a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#a727cf1691ae2ceb57007d4372f07b492">lhs</a>(t),<a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#acc6d8c53f493a31bf37b95d746492912">rhs</a>(t) );<span class="comment">// this might cost a 2xbin-search if not the underlying ts have smart incremental search (at the cost of thread safety)</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1abin__op__ts.html#af7dd031bc99c5ee60a421eec857cefe8">   53</a></span>&#160;        std::vector&lt;double&gt; <a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#af7dd031bc99c5ee60a421eec857cefe8">abin_op_ts::values</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            std::vector&lt;double&gt; r;r.reserve(<a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#aa629242be92f723175ceb1bf4d6742b3">ta</a>.<a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html#a4cadc695ec50189c8af79bfa59e51959">size</a>());</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0;i&lt;<a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#aa629242be92f723175ceb1bf4d6742b3">ta</a>.<a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html#a4cadc695ec50189c8af79bfa59e51959">size</a>();++i) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                r.push_back(<a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#af6b407bf0d20fdefdc3bfe37961cf5c3">value</a>(i));<span class="comment">//TODO: improve speed using accessors with ix-hint for lhs/rhs stepwise traversal</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordflow">return</span> std::move(r);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="comment">// implement popular ct for apoint_ts to make it easy to expose &amp; use</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#aa971d17336cb781936435436bc78cb38">   62</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp; <a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#aa629242be92f723175ceb1bf4d6742b3">ta</a>,<span class="keywordtype">double</span> fill_value,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            :ts(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>&gt;(ta,fill_value,point_fx)) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a89e5b1fde4fa9ee818970f3ab7cf4930">   65</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp; ta,<span class="keyword">const</span> std::vector&lt;double&gt;&amp; <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            :ts(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>&gt;(ta,values,point_fx)) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a150f0505783cc30c3e04f2c91241c845">   68</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp; ta,std::vector&lt;double&gt;&amp;&amp; <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            :ts(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>&gt;(ta,<a class="code" href="namespacestd.html">std</a>::move(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>),point_fx)) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="comment">// and python needs these:</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#ac1ba6c0ac5585c7cd0cbd3a4b206a9a7">   73</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1fixed__dt.html">time_axis::fixed_dt</a>&amp; ta,<span class="keywordtype">double</span> fill_value,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            :<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a22d4342529bee8bdf0cec14e88c0b4d6">time_axis</a>::generic_dt(ta),fill_value,point_fx) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#af28d29fdbc26420c8f82c50de3873bca">   76</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1fixed__dt.html">time_axis::fixed_dt</a>&amp; ta,<span class="keyword">const</span> std::vector&lt;double&gt;&amp; <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            :<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a22d4342529bee8bdf0cec14e88c0b4d6">time_axis</a>::generic_dt(ta),values,point_fx) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="comment">// and python needs these:</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#ab65c67c4e5a0525ecde70ea6f6d07469">   81</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1point__dt.html">time_axis::point_dt</a>&amp; ta,<span class="keywordtype">double</span> fill_value,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            :<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a22d4342529bee8bdf0cec14e88c0b4d6">time_axis</a>::generic_dt(ta),fill_value,point_fx) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#ac7f33aa560b6cb245a6cd2991d3d5199">   84</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1point__dt.html">time_axis::point_dt</a>&amp; ta,<span class="keyword">const</span> std::vector&lt;double&gt;&amp; <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            :<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a22d4342529bee8bdf0cec14e88c0b4d6">time_axis</a>::generic_dt(ta),values,point_fx) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a7e1d5d24f6b0e900fa5f9878a397dea2">   87</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1timeseries_1_1point__ts.html">rts_t</a> &amp;rts):</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a22d4342529bee8bdf0cec14e88c0b4d6">time_axis</a>::generic_dt(rts.ta),rts.v,rts.<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6679e02699f441e2ce6bf812c9896a1d">point_interpretation</a>())</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a2e04d0c73c0ce9595b0ada73e48de848">   91</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> vector&lt;double&gt;&amp; pattern, <a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> dt, <span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp; ta) :</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(make_shared&lt;<a class="code" href="structshyft_1_1timeseries_1_1periodic__ts.html">periodic_ts</a>&gt;(pattern, dt, ta)) {}</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a69e078eac108ddbfaecad46fb986014c">   93</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<span class="keyword">const</span> vector&lt;double&gt;&amp; pattern, <a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> dt, <a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> pattern_t0,<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp; ta) :</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>(make_shared&lt;<a class="code" href="structshyft_1_1timeseries_1_1periodic__ts.html">periodic_ts</a>&gt;(pattern, dt,pattern_t0,ta)) {}</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a92b75e49a3a85091455db60ca1b19c83">   96</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp;&amp; ta,std::vector&lt;double&gt;&amp;&amp; <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            :ts(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>&gt;(<a class="code" href="namespacestd.html">std</a>::move(ta),<a class="code" href="namespacestd.html">std</a>::move(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">values</a>),point_fx)) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#abdc4d25a069da1e86abe8157fa22667b">   99</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts::apoint_ts</a>(<a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>&amp;&amp; ta,<span class="keywordtype">double</span> fill_value,<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> point_fx)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            :ts(<a class="code" href="namespacestd.html">std</a>::make_shared&lt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>&gt;(<a class="code" href="namespacestd.html">std</a>::move(ta),fill_value,point_fx))</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a05ad94f417cac477dbf0642ba0b5c67a">  103</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a05ad94f417cac477dbf0642ba0b5c67a">apoint_ts::average</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a> &amp;ta)<span class="keyword"> const </span>{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#a1cc1269af51a9ab1043b7c5f907d7536">shyft::api::average</a>(*<span class="keyword">this</span>,ta);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a8d114fd1cc45cec251cf1c9c0c997cfa">  106</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a8d114fd1cc45cec251cf1c9c0c997cfa">apoint_ts::accumulate</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a> &amp;ta)<span class="keyword"> const </span>{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#abc8be68c104b8ce6fde4b68f4c8a1724">shyft::api::accumulate</a>(*<span class="keyword">this</span>, ta);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a13996a8b4351243c91d499db6c916981">  109</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a13996a8b4351243c91d499db6c916981">apoint_ts::time_shift</a>(<a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> dt)<span class="keyword"> const </span>{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#a5fbb4f0820000cf99c149979589106f6">shyft::api::time_shift</a>(*<span class="keyword">this</span>, dt);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#afacae23e5128139f1aa11742a3fedf48">  113</a></span>&#160;        std::vector&lt;apoint_ts&gt; <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#afacae23e5128139f1aa11742a3fedf48">apoint_ts::partition_by</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1core_1_1calendar.html">calendar</a>&amp; cal, <a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> t, <a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> partition_interval, <span class="keywordtype">size_t</span> n_partitions, <a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> common_t0)<span class="keyword"> const </span>{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="comment">// some very rudimentary argument checks:</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">if</span> (n_partitions &lt; 1)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;n_partitions should be &gt; 0&quot;</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">if</span> (partition_interval &lt;= 0)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;partition_interval should be &gt; 0, typically Calendar::YEAR|MONTH|WEEK|DAY&quot;</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keyword">auto</span> mk_raw_time_shift = [](<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; ts, <a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> dt)-&gt;<a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts</a>(std::make_shared&lt;shyft::api::time_shift_ts&gt;(ts, dt));</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            };</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">return</span> shyft::timeseries::partition_by&lt;apoint_ts&gt;(*<span class="keyword">this</span>, cal, t,partition_interval, n_partitions, common_t0, mk_raw_time_shift);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a0671d85163a851833f33c236b3c058df">  125</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a0671d85163a851833f33c236b3c058df">apoint_ts::set</a>(<span class="keywordtype">size_t</span> i, <span class="keywordtype">double</span> x) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a> *gpts=<span class="keyword">dynamic_cast&lt;</span><a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>*<span class="keyword">&gt;</span>(ts.get());</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">if</span>(!gpts)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;apoint_ts::set(i,x) only allowed for ts of non-expression types&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            gpts-&gt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html#a90b34888fcf97ab46d07bba1ea64e8b4">set</a>(i,x);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a4a5939b8540a146fb80f98fdd3be243f">  131</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a4a5939b8540a146fb80f98fdd3be243f">apoint_ts::fill</a>(<span class="keywordtype">double</span> x) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a> *gpts=<span class="keyword">dynamic_cast&lt;</span><a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>*<span class="keyword">&gt;</span>(ts.get());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">if</span>(!gpts)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;apoint_ts::fill(x) only allowed for ts of non-expression types&quot;</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            gpts-&gt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html#ae2aa7e87d0d8953939d946780d905214">fill</a>(x);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a44252de65974b7b78f7f89427b2662f7">  137</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a44252de65974b7b78f7f89427b2662f7">apoint_ts::scale_by</a>(<span class="keywordtype">double</span> x) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a> *gpts=<span class="keyword">dynamic_cast&lt;</span><a class="code" href="structshyft_1_1api_1_1gpoint__ts.html">gpoint_ts</a>*<span class="keyword">&gt;</span>(ts.get());</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span>(!gpts)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;apoint_ts::scale_by(x) only allowed for ts of non-expression types&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            gpts-&gt;<a class="code" href="structshyft_1_1api_1_1gpoint__ts.html#ad7606fce4a23935b3bae8777f1285ff4">scale_by</a>(x);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a32e0d6197f96167e6fc4a105ff8e1de8">  144</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a32e0d6197f96167e6fc4a105ff8e1de8">apoint_ts::operator==</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; other)<span class="keyword"> const </span>{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">if</span>(ts.get() == other.ts.get()) <span class="comment">// equal by reference</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="comment">// the time-consuming part, equal by value</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="comment">// SiH: I am not sure if this is ever useful, nevertheless it&#39;s doable</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="comment">//      given that it&#39;s ok with the zero-limit(not generally applicable!)</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> zero_limit=1e-9;<span class="comment">// in hydrology, this is usually a small number</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span>(ts-&gt;size() != other.ts-&gt;size())</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0;i&lt;ts-&gt;size();++i) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">if</span>( ts-&gt;time_axis().period(i) != other.ts-&gt;time_axis().period(i))</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">if</span>( fabs(ts-&gt;value(i) - other.ts-&gt;value(i)) &gt;zero_limit)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#af669d4d36489e93a6cf087c42a0484cc">  163</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#af669d4d36489e93a6cf087c42a0484cc">apoint_ts::max</a>(<span class="keywordtype">double</span> a)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">shyft::api::max</a>(*<span class="keyword">this</span>,a);}</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#add6489f610ac044fa874f420baa71221">  164</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#add6489f610ac044fa874f420baa71221">apoint_ts::min</a>(<span class="keywordtype">double</span> a)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">shyft::api::min</a>(*<span class="keyword">this</span>,a);}</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a5d28a21c217fd4cea5460f8491af1efa">  166</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#af669d4d36489e93a6cf087c42a0484cc">apoint_ts::max</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; other)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">shyft::api::max</a>(*<span class="keyword">this</span>,other);}</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a4ccf01011f3bfee8ddd7a7468cb749fa">  167</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#add6489f610ac044fa874f420baa71221">apoint_ts::min</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; other)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">shyft::api::min</a>(*<span class="keyword">this</span>,other);}</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#a75aa1a24e768e19abf62aa168512712b">  169</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#af669d4d36489e93a6cf087c42a0484cc">apoint_ts::max</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> &amp;a, <span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp;b){<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">shyft::api::max</a>(a,b);}</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classshyft_1_1api_1_1apoint__ts.html#ad3fea43125a477a0c68252ce07c8db4b">  170</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#add6489f610ac044fa874f420baa71221">apoint_ts::min</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> &amp;a, <span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp;b){<span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">shyft::api::min</a>(a,b);}</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ace68f18daf5cc4554b4d6666a14307f2">  172</a></span>&#160;        std::vector&lt;apoint_ts&gt; <a class="code" href="namespaceshyft_1_1api.html#ace68f18daf5cc4554b4d6666a14307f2">percentiles</a>(<span class="keyword">const</span> std::vector&lt;apoint_ts&gt;&amp; ts_list,<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; ta, <span class="keyword">const</span> vector&lt;int&gt;&amp; percentile_list) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            std::vector&lt;apoint_ts&gt; r;r.reserve(percentile_list.size());</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="comment">//-- use core calc here:</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keyword">auto</span> rp= <a class="code" href="namespaceshyft_1_1timeseries.html#ac3338df219f328629f72ab4e5ab0a02f">shyft::timeseries::calculate_percentiles</a>(ta,ts_list,percentile_list);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp;ts:rp) r.emplace_back(ta,std::move(ts.v),<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0eaa7a710c91f7e701c216acf4a4610f1815">POINT_AVERAGE_VALUE</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> r;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ace19525ad1933b971135cce4150c4739">  179</a></span>&#160;        std::vector&lt;apoint_ts&gt; <a class="code" href="namespaceshyft_1_1api.html#ace68f18daf5cc4554b4d6666a14307f2">percentiles</a>(<span class="keyword">const</span> std::vector&lt;apoint_ts&gt;&amp; ts_list,<span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1fixed__dt.html">time_axis::fixed_dt</a>&amp; ta, <span class="keyword">const</span> vector&lt;int&gt;&amp; percentile_list) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceshyft_1_1api.html#ace68f18daf5cc4554b4d6666a14307f2">percentiles</a>(ts_list,<a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">time_axis::generic_dt</a>(ta),percentile_list);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1abin__op__ts.html#af6b407bf0d20fdefdc3bfe37961cf5c3">  183</a></span>&#160;        <span class="keywordtype">double</span> <a class="code" href="structshyft_1_1api_1_1abin__op__ts.html#af6b407bf0d20fdefdc3bfe37961cf5c3">abin_op_ts::value</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">if</span>(i==std::string::npos || i&gt;=ta.size() )</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespaceshyft.html#abb17c53f5f6d6eb8901cd2491680cba4">nan</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keywordflow">return</span> value_at(ta.time(i));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="comment">// Hmm! here we have to define what value(i) means</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="comment">// .. we could define it as</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="comment">//     the value at the beginning of the i&#39;th period</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="comment">//   then we define value(t) as</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="comment">//    as the point interpretation of f(t)..</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="comment">//if(fx_policy==point_interpretation_policy::POINT_AVERAGE_VALUE)</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="comment">//    return value_at(ta.time(i));</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="comment">//utcperiod p=ta.period(i);</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="comment">//double v0= value_at(p.start);</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="comment">//double v1= value_at(p.end);</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="comment">//if(isfinite(v1)) return 0.5*(v0 + v1);</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="comment">//return v0;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#a5fbb4f0820000cf99c149979589106f6">  202</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a13996a8b4351243c91d499db6c916981">time_shift</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; ts, <a class="code" href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">utctimespan</a> dt) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts</a>( std::make_shared&lt;shyft::api::time_shift_ts&gt;(ts,dt));</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#adfcf8885fc2a933b20d3defc8321b5e1">  206</a></span>&#160;        <span class="keywordtype">double</span> <a class="code" href="namespaceshyft_1_1api.html#adfcf8885fc2a933b20d3defc8321b5e1">nash_sutcliffe</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; observation_ts, <span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; model_ts, <span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a> &amp;ta) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">average_accessor&lt;apoint_ts, gta_t&gt;</a> o(observation_ts, ta);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">average_accessor&lt;apoint_ts, gta_t&gt;</a> m(model_ts, ta);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">return</span> 1.0 - <a class="code" href="namespaceshyft_1_1timeseries.html#ac3ecf5b3080c2f416bb7737978cfdbcc">shyft::timeseries::nash_sutcliffe_goal_function</a>(o, m);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ac8f18b2d1b1d01d8dae6ddce69f863fd">  212</a></span>&#160;        <span class="keywordtype">double</span> <a class="code" href="namespaceshyft_1_1api.html#ac8f18b2d1b1d01d8dae6ddce69f863fd">kling_gupta</a>( <span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> &amp; observation_ts,  <span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> &amp;model_ts, <span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a> &amp; ta, <span class="keywordtype">double</span> s_r, <span class="keywordtype">double</span> s_a, <span class="keywordtype">double</span> s_b) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">average_accessor&lt;apoint_ts, gta_t&gt;</a> o(observation_ts, ta);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <a class="code" href="classshyft_1_1timeseries_1_1average__accessor.html">average_accessor&lt;apoint_ts, gta_t&gt;</a> m(model_ts, ta);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">return</span> 1.0 - shyft::timeseries::kling_gupta_goal_function&lt;dlib::running_scalar_covariance&lt;double&gt;&gt;(o, m, s_r, s_a, s_b);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">// glacier_melt_ts as apoint_ts with it&#39;s internal being a glacier_melt_ts</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html">  218</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>:<a class="code" href="structshyft_1_1api_1_1ipoint__ts.html">ipoint_ts</a> {</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#aa84330f14e864aeddcf6ac9e9dbaf484">  219</a></span>&#160;            <a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html">glacier_melt_ts&lt;std::shared_ptr&lt;ipoint_ts&gt;</a>&gt; <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#aa84330f14e864aeddcf6ac9e9dbaf484">gm</a>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">//-- default stuff, ct/copy etc goes here</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ae84d00d57e81b9d79a5fadc8fc736798">  221</a></span>&#160;            <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ae84d00d57e81b9d79a5fadc8fc736798">aglacier_melt_ts</a>() {}</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#aef9b7f0d141053bdcbba9c8042a50b3e">  222</a></span>&#160;            <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#aef9b7f0d141053bdcbba9c8042a50b3e">aglacier_melt_ts</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>&amp; c):gm(c.gm) {}</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ac6785963e64a1316266715fdc842082a">  223</a></span>&#160;            <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ac6785963e64a1316266715fdc842082a">aglacier_melt_ts</a>(<a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>&amp;&amp;c):gm(<a class="code" href="namespacestd.html">std</a>::move(c.gm)) {}</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#af033cf14a434941c013a1261a5c37adf">  224</a></span>&#160;            <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>&amp; <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#af033cf14a434941c013a1261a5c37adf">operator=</a>(<span class="keyword">const</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>&amp; o) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">if</span>(<span class="keyword">this</span> != &amp;o) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    gm=o.<a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#aa84330f14e864aeddcf6ac9e9dbaf484">gm</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ab604759e561d2b0c2afa32c93bfd235b">  231</a></span>&#160;            <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>&amp; <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ab604759e561d2b0c2afa32c93bfd235b">operator=</a>(<a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html">aglacier_melt_ts</a>&amp;&amp; o) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                gm= std::move(o.gm);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="comment">//-- useful ct goes here</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a06872318384df38cf27cfa326e27bc00">  237</a></span>&#160;            <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a06872318384df38cf27cfa326e27bc00">aglacier_melt_ts</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; temp,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; sca_m2, <span class="keywordtype">double</span> glacier_area_m2,<span class="keywordtype">double</span> dtf):</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                gm(temp.ts,sca_m2.ts,glacier_area_m2,dtf)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="comment">//aglacier_melt_ts(apoint_ts&amp;&amp; ats, utctimespan dt):ts(std::move(ats.ts)),ta(time_axis::time_shift(ats.time_axis(),dt)),dt(dt) {}</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="comment">//aglacier_melt_ts(const std::shared_ptr&lt;ipoint_ts&gt; &amp;ts, utctime dt ):ts(ts),ta(time_axis::time_shift(ts-&gt;time_axis(),dt)),dt(dt){}</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="comment">// implement ipoint_ts contract:</span></div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a7c0a0aa20ed7136fd4f1eb9280fdcd48">  245</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a7c0a0aa20ed7136fd4f1eb9280fdcd48">point_interpretation</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a963fdefcd91001ee744622f098cef2ee">fx_policy</a>;}</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a976601242320f5b7a2e3ca99fd65c95d">  246</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a976601242320f5b7a2e3ca99fd65c95d">set_point_interpretation</a>(<a class="code" href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">point_interpretation_policy</a> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6679e02699f441e2ce6bf812c9896a1d">point_interpretation</a>) {gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a963fdefcd91001ee744622f098cef2ee">fx_policy</a>=<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a6679e02699f441e2ce6bf812c9896a1d">point_interpretation</a>;}</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a7b8d519b34244023d3f88d988fe8f54a">  247</a></span>&#160;            <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="structshyft_1_1time__axis_1_1generic__dt.html">gta_t</a>&amp; <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a7b8d519b34244023d3f88d988fe8f54a">time_axis</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a898a6f0cc7c29f8e41c5cd2ef0c069d1">time_axis</a>();}</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a6a16d464e080dfbf3262d71fe327d5ca">  248</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="structshyft_1_1core_1_1utcperiod.html">utcperiod</a> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a6a16d464e080dfbf3262d71fe327d5ca">total_period</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a898a6f0cc7c29f8e41c5cd2ef0c069d1">time_axis</a>().total_period();}</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ae532e5c44638fb125bbbbfe256d4561c">  249</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ae532e5c44638fb125bbbbfe256d4561c">index_of</a>(<a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> t)<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a898a6f0cc7c29f8e41c5cd2ef0c069d1">time_axis</a>().index_of(t);}</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a8e67951b4418ce2593573a9d60e09579">  250</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a8e67951b4418ce2593573a9d60e09579">size</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a898a6f0cc7c29f8e41c5cd2ef0c069d1">time_axis</a>().size();}</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#acbcbfbe3abbaa96f4f599f9e550e0698">  251</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#acbcbfbe3abbaa96f4f599f9e550e0698">time</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a898a6f0cc7c29f8e41c5cd2ef0c069d1">time_axis</a>().time(i);};</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ac97d6a2f686e4ffbd9ccb05d1a5c80c1">  252</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#ac97d6a2f686e4ffbd9ccb05d1a5c80c1">value</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm.<a class="code" href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#af5a0812e29aee26d5797b6676911706f">value</a>(i);}</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a429297b795c3148d579d107b684b93dd">  253</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a429297b795c3148d579d107b684b93dd">value_at</a>(<a class="code" href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">utctime</a> t)<span class="keyword"> const </span>{<span class="keywordflow">return</span> gm(t);}</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a6265a9008181c4630eeb4aea859c08ed">  254</a></span>&#160;            <span class="keyword">virtual</span> std::vector&lt;double&gt; <a class="code" href="structshyft_1_1api_1_1aglacier__melt__ts.html#a6265a9008181c4630eeb4aea859c08ed">values</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                std::vector&lt;double&gt; r;r.reserve(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#ae7569073cd80e9ebf2502e72bc954a4f">size</a>());</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0;i&lt;<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#ae7569073cd80e9ebf2502e72bc954a4f">size</a>();++i) r.push_back(<a class="code" href="classshyft_1_1api_1_1apoint__ts.html#ac3f9b857cefe2eb564903b6243fc0467">value</a>(i));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordflow">return</span> r;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        };</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="namespaceshyft_1_1api.html#ab3849290b4308e5a9d60604ce3b74bca">  261</a></span>&#160;        <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> <a class="code" href="namespaceshyft_1_1api.html#ab3849290b4308e5a9d60604ce3b74bca">create_glacier_melt_ts_m3s</a>(<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a> &amp; temp,<span class="keyword">const</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html">apoint_ts</a>&amp; sca_m2,<span class="keywordtype">double</span> glacier_area_m2,<span class="keywordtype">double</span> dtf) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">apoint_ts</a>(make_shared&lt;aglacier_melt_ts&gt;(temp,sca_m2,glacier_area_m2,dtf));</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a429297b795c3148d579d107b684b93dd"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a429297b795c3148d579d107b684b93dd">shyft::api::aglacier_melt_ts::value_at</a></div><div class="ttdeci">virtual double value_at(utctime t) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00253">timeseries.cpp:253</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_a4da3af69cc0ba11f60db97a28728d377"><div class="ttname"><a href="namespaceshyft_1_1api.html#a4da3af69cc0ba11f60db97a28728d377">shyft::api::min</a></div><div class="ttdeci">apoint_ts min(double lhs, const apoint_ts &amp;rhs)</div><div class="ttdoc">percentiles, need to include several forms of time_axis for python </div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00045">timeseries.cpp:45</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_ac97d6a2f686e4ffbd9ccb05d1a5c80c1"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#ac97d6a2f686e4ffbd9ccb05d1a5c80c1">shyft::api::aglacier_melt_ts::value</a></div><div class="ttdeci">virtual double value(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00252">timeseries.cpp:252</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1calendar_html"><div class="ttname"><a href="structshyft_1_1core_1_1calendar.html">shyft::core::calendar</a></div><div class="ttdoc">Calendar deals with the concept of human calendar. </div><div class="ttdef"><b>Definition:</b> <a href="utctime__utilities_8h_source.html#l00250">utctime_utilities.h:250</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a7c0a0aa20ed7136fd4f1eb9280fdcd48"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a7c0a0aa20ed7136fd4f1eb9280fdcd48">shyft::api::aglacier_melt_ts::point_interpretation</a></div><div class="ttdeci">virtual point_interpretation_policy point_interpretation() const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00245">timeseries.cpp:245</a></div></div>
<div class="ttc" id="structshyft_1_1timeseries_1_1glacier__melt__ts_html_af5a0812e29aee26d5797b6676911706f"><div class="ttname"><a href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#af5a0812e29aee26d5797b6676911706f">shyft::timeseries::glacier_melt_ts::value</a></div><div class="ttdeci">double value(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00677">timeseries.h:677</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_adfcf8885fc2a933b20d3defc8321b5e1"><div class="ttname"><a href="namespaceshyft_1_1api.html#adfcf8885fc2a933b20d3defc8321b5e1">shyft::api::nash_sutcliffe</a></div><div class="ttdeci">double nash_sutcliffe(const apoint_ts &amp;observation_ts, const apoint_ts &amp;model_ts, const gta_t &amp;ta)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00206">timeseries.cpp:206</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a0671d85163a851833f33c236b3c058df"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a0671d85163a851833f33c236b3c058df">shyft::api::apoint_ts::set</a></div><div class="ttdeci">void set(size_t i, double x)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00125">timeseries.cpp:125</a></div></div>
<div class="ttc" id="classshyft_1_1timeseries_1_1average__accessor_html"><div class="ttname"><a href="classshyft_1_1timeseries_1_1average__accessor.html">shyft::timeseries::average_accessor</a></div><div class="ttdoc">average_accessor provides a projection/interpretation of the values of a point source on to a time-ax...</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l01047">timeseries.h:1047</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_abc8be68c104b8ce6fde4b68f4c8a1724"><div class="ttname"><a href="namespaceshyft_1_1api.html#abc8be68c104b8ce6fde4b68f4c8a1724">shyft::api::accumulate</a></div><div class="ttdeci">apoint_ts accumulate(const apoint_ts &amp;ts, const gta_t &amp;ta)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00016">timeseries.cpp:16</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1gpoint__ts_html_ad7606fce4a23935b3bae8777f1285ff4"><div class="ttname"><a href="structshyft_1_1api_1_1gpoint__ts.html#ad7606fce4a23935b3bae8777f1285ff4">shyft::api::gpoint_ts::scale_by</a></div><div class="ttdeci">void scale_by(double x)</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00247">timeseries.h:247</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a8e67951b4418ce2593573a9d60e09579"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a8e67951b4418ce2593573a9d60e09579">shyft::api::aglacier_melt_ts::size</a></div><div class="ttdeci">virtual size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00250">timeseries.cpp:250</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1gpoint__ts_html_ae2aa7e87d0d8953939d946780d905214"><div class="ttname"><a href="structshyft_1_1api_1_1gpoint__ts.html#ae2aa7e87d0d8953939d946780d905214">shyft::api::gpoint_ts::fill</a></div><div class="ttdeci">void fill(double x)</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00246">timeseries.h:246</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="namespaceshyft_html_abb17c53f5f6d6eb8901cd2491680cba4"><div class="ttname"><a href="namespaceshyft.html#abb17c53f5f6d6eb8901cd2491680cba4">shyft::nan</a></div><div class="ttdeci">const double nan</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00021">timeseries.h:21</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a8d114fd1cc45cec251cf1c9c0c997cfa"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a8d114fd1cc45cec251cf1c9c0c997cfa">shyft::api::apoint_ts::accumulate</a></div><div class="ttdeci">apoint_ts accumulate(const gta_t &amp;ta) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00106">timeseries.cpp:106</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1gpoint__ts_html"><div class="ttname"><a href="structshyft_1_1api_1_1gpoint__ts.html">shyft::api::gpoint_ts</a></div><div class="ttdoc">gpoint_ts a generic concrete point_ts, a terminal, not an expression </div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00210">timeseries.h:210</a></div></div>
<div class="ttc" id="namespaceshyft_1_1timeseries_html_a7e2ee9dcee400bdc9fa6a9c6c828d0ea"><div class="ttname"><a href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0ea">shyft::timeseries::point_interpretation_policy</a></div><div class="ttdeci">point_interpretation_policy</div><div class="ttdoc">Enumerates how points are mapped to f(t) </div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00060">timeseries.h:60</a></div></div>
<div class="ttc" id="structshyft_1_1timeseries_1_1glacier__melt__ts_html_a898a6f0cc7c29f8e41c5cd2ef0c069d1"><div class="ttname"><a href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a898a6f0cc7c29f8e41c5cd2ef0c069d1">shyft::timeseries::glacier_melt_ts::time_axis</a></div><div class="ttdeci">const ta_t &amp; time_axis() const</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00657">timeseries.h:657</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_a727cf1691ae2ceb57007d4372f07b492"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#a727cf1691ae2ceb57007d4372f07b492">shyft::api::abin_op_ts::lhs</a></div><div class="ttdeci">apoint_ts lhs</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00539">timeseries.h:539</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1ipoint__ts_html"><div class="ttname"><a href="structshyft_1_1api_1_1ipoint__ts.html">shyft::api::ipoint_ts</a></div><div class="ttdoc">A virtual abstract interface (thus the prefix i) base for point_ts. </div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00064">timeseries.h:64</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a22d4342529bee8bdf0cec14e88c0b4d6"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a22d4342529bee8bdf0cec14e88c0b4d6">shyft::api::apoint_ts::time_axis</a></div><div class="ttdeci">const gta_t &amp; time_axis() const</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00174">timeseries.h:174</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_ac3f9b857cefe2eb564903b6243fc0467"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#ac3f9b857cefe2eb564903b6243fc0467">shyft::api::apoint_ts::value</a></div><div class="ttdeci">double value(size_t i) const</div><div class="ttdoc">get the i&amp;#39;th time point </div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00179">timeseries.h:179</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_abc7f4a5025d574f442699be4dec03001"><div class="ttname"><a href="namespaceshyft_1_1api.html#abc7f4a5025d574f442699be4dec03001">shyft::api::max</a></div><div class="ttdeci">apoint_ts max(double lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00041">timeseries.cpp:41</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1utcperiod_html"><div class="ttname"><a href="structshyft_1_1core_1_1utcperiod.html">shyft::core::utcperiod</a></div><div class="ttdoc">utcperiod is defined as period on the utctime space, like [start..end&gt;, where end &gt;=start to be valid...</div><div class="ttdef"><b>Definition:</b> <a href="utctime__utilities_8h_source.html#l00068">utctime_utilities.h:68</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a32e0d6197f96167e6fc4a105ff8e1de8"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a32e0d6197f96167e6fc4a105ff8e1de8">shyft::api::apoint_ts::operator==</a></div><div class="ttdeci">bool operator==(const apoint_ts &amp;other) const</div><div class="ttdoc">Easy to compare for equality, but tricky if performance needed. </div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00144">timeseries.cpp:144</a></div></div>
<div class="ttc" id="namespaceshyft_1_1timeseries_html_ac3ecf5b3080c2f416bb7737978cfdbcc"><div class="ttname"><a href="namespaceshyft_1_1timeseries.html#ac3ecf5b3080c2f416bb7737978cfdbcc">shyft::timeseries::nash_sutcliffe_goal_function</a></div><div class="ttdeci">double nash_sutcliffe_goal_function(const TSA1 &amp;observed_ts, const TSA2 &amp;model_ts)</div><div class="ttdoc">Nash Sutcliffe model effiency coefficient based goal function &lt;a ref href=http://en.wikipedia.org/wiki/Nash%E2%80%93Sutcliffe_model_efficiency_coefficient&quot;&gt;NS coeffecient </div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l01220">timeseries.h:1220</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1gpoint__ts_html_a90b34888fcf97ab46d07bba1ea64e8b4"><div class="ttname"><a href="structshyft_1_1api_1_1gpoint__ts.html#a90b34888fcf97ab46d07bba1ea64e8b4">shyft::api::gpoint_ts::set</a></div><div class="ttdeci">void set(size_t i, double x)</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00245">timeseries.h:245</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_af669d4d36489e93a6cf087c42a0484cc"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#af669d4d36489e93a6cf087c42a0484cc">shyft::api::apoint_ts::max</a></div><div class="ttdeci">apoint_ts max(double a) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00163">timeseries.cpp:163</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a4a5939b8540a146fb80f98fdd3be243f"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a4a5939b8540a146fb80f98fdd3be243f">shyft::api::apoint_ts::fill</a></div><div class="ttdeci">void fill(double x)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00131">timeseries.cpp:131</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a971d195ec6f29ffcd6b7cdffe9edd941"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a971d195ec6f29ffcd6b7cdffe9edd941">shyft::api::apoint_ts::apoint_ts</a></div><div class="ttdeci">apoint_ts()</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00154">timeseries.h:154</a></div></div>
<div class="ttc" id="namespaceshyft_1_1timeseries_html_a7e2ee9dcee400bdc9fa6a9c6c828d0eaa7a710c91f7e701c216acf4a4610f1815"><div class="ttname"><a href="namespaceshyft_1_1timeseries.html#a7e2ee9dcee400bdc9fa6a9c6c828d0eaa7a710c91f7e701c216acf4a4610f1815">shyft::timeseries::POINT_AVERAGE_VALUE</a></div><div class="ttdoc">the point value represents the average of the interval, typically stair-case start of step accessor ...</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00062">timeseries.h:62</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_aa0848b8c5757f64246b015543103a475"><div class="ttname"><a href="namespaceshyft_1_1api.html#aa0848b8c5757f64246b015543103a475">shyft::api::operator*</a></div><div class="ttdeci">apoint_ts operator*(const apoint_ts &amp;lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00034">timeseries.cpp:34</a></div></div>
<div class="ttc" id="structshyft_1_1time__axis_1_1generic__dt_html"><div class="ttname"><a href="structshyft_1_1time__axis_1_1generic__dt.html">shyft::time_axis::generic_dt</a></div><div class="ttdoc">a generic (not sparse) time interval time-axis. </div><div class="ttdef"><b>Definition:</b> <a href="time__axis_8h_source.html#l00247">time_axis.h:247</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_aae9ff29d8f36ef9422eaa4514e56eeb7"><div class="ttname"><a href="namespaceshyft_1_1api.html#aae9ff29d8f36ef9422eaa4514e56eeb7">shyft::api::create_periodic_pattern_ts</a></div><div class="ttdeci">apoint_ts create_periodic_pattern_ts(const vector&lt; double &gt; &amp;pattern, utctimespan dt, utctime pattern_t0, const gta_t &amp;ta)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00019">timeseries.cpp:19</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_af033cf14a434941c013a1261a5c37adf"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#af033cf14a434941c013a1261a5c37adf">shyft::api::aglacier_melt_ts::operator=</a></div><div class="ttdeci">aglacier_melt_ts &amp; operator=(const aglacier_melt_ts &amp;o)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00224">timeseries.cpp:224</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a06872318384df38cf27cfa326e27bc00"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a06872318384df38cf27cfa326e27bc00">shyft::api::aglacier_melt_ts::aglacier_melt_ts</a></div><div class="ttdeci">aglacier_melt_ts(const apoint_ts &amp;temp, const apoint_ts &amp;sca_m2, double glacier_area_m2, double dtf)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00237">timeseries.cpp:237</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_a0829bd20be2d34873b57149555f7d1c1"><div class="ttname"><a href="namespaceshyft_1_1api.html#a0829bd20be2d34873b57149555f7d1c1">shyft::api::operator+</a></div><div class="ttdeci">apoint_ts operator+(const apoint_ts &amp;lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00021">timeseries.cpp:21</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a13996a8b4351243c91d499db6c916981"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a13996a8b4351243c91d499db6c916981">shyft::api::apoint_ts::time_shift</a></div><div class="ttdeci">apoint_ts time_shift(utctimespan dt) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00109">timeseries.cpp:109</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a7b8d519b34244023d3f88d988fe8f54a"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a7b8d519b34244023d3f88d988fe8f54a">shyft::api::aglacier_melt_ts::time_axis</a></div><div class="ttdeci">virtual const gta_t &amp; time_axis() const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00247">timeseries.cpp:247</a></div></div>
<div class="ttc" id="structshyft_1_1timeseries_1_1periodic__ts_html"><div class="ttname"><a href="structshyft_1_1timeseries_1_1periodic__ts.html">shyft::timeseries::periodic_ts</a></div><div class="ttdoc">periodic_ts, periodic pattern time-series </div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00611">timeseries.h:611</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_ab604759e561d2b0c2afa32c93bfd235b"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#ab604759e561d2b0c2afa32c93bfd235b">shyft::api::aglacier_melt_ts::operator=</a></div><div class="ttdeci">aglacier_melt_ts &amp; operator=(aglacier_melt_ts &amp;&amp;o)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00231">timeseries.cpp:231</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_a37b9b83060a1e908eebcc7913334d86f"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#a37b9b83060a1e908eebcc7913334d86f">shyft::api::abin_op_ts::value_at</a></div><div class="ttdeci">double value_at(utctime t) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00047">timeseries.cpp:47</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a6265a9008181c4630eeb4aea859c08ed"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a6265a9008181c4630eeb4aea859c08ed">shyft::api::aglacier_melt_ts::values</a></div><div class="ttdeci">virtual std::vector&lt; double &gt; values() const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00254">timeseries.cpp:254</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_ae42ecf9cbd590fe15303d1bc36c3ae75"><div class="ttname"><a href="namespaceshyft_1_1api.html#ae42ecf9cbd590fe15303d1bc36c3ae75">shyft::api::min</a></div><div class="ttdeci">apoint_ts min(const apoint_ts &amp;lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00043">timeseries.cpp:43</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_acbcbfbe3abbaa96f4f599f9e550e0698"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#acbcbfbe3abbaa96f4f599f9e550e0698">shyft::api::aglacier_melt_ts::time</a></div><div class="ttdeci">virtual utctime time(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00251">timeseries.cpp:251</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_a1cc1269af51a9ab1043b7c5f907d7536"><div class="ttname"><a href="namespaceshyft_1_1api.html#a1cc1269af51a9ab1043b7c5f907d7536">shyft::api::average</a></div><div class="ttdeci">apoint_ts average(const apoint_ts &amp;ts, const gta_t &amp;ta)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00013">timeseries.cpp:13</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_ac6785963e64a1316266715fdc842082a"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#ac6785963e64a1316266715fdc842082a">shyft::api::aglacier_melt_ts::aglacier_melt_ts</a></div><div class="ttdeci">aglacier_melt_ts(aglacier_melt_ts &amp;&amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00223">timeseries.cpp:223</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_ae532e5c44638fb125bbbbfe256d4561c"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#ae532e5c44638fb125bbbbfe256d4561c">shyft::api::aglacier_melt_ts::index_of</a></div><div class="ttdeci">virtual size_t index_of(utctime t) const</div><div class="ttdoc">we might want index_of(t,ix-hint..) </div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00249">timeseries.cpp:249</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_aa84330f14e864aeddcf6ac9e9dbaf484"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#aa84330f14e864aeddcf6ac9e9dbaf484">shyft::api::aglacier_melt_ts::gm</a></div><div class="ttdeci">glacier_melt_ts&lt; std::shared_ptr&lt; ipoint_ts &gt; &gt; gm</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00219">timeseries.cpp:219</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_acc6d8c53f493a31bf37b95d746492912"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#acc6d8c53f493a31bf37b95d746492912">shyft::api::abin_op_ts::rhs</a></div><div class="ttdeci">apoint_ts rhs</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00541">timeseries.h:541</a></div></div>
<div class="ttc" id="structshyft_1_1timeseries_1_1glacier__melt__ts_html"><div class="ttname"><a href="structshyft_1_1timeseries_1_1glacier__melt__ts.html">shyft::timeseries::glacier_melt_ts</a></div><div class="ttdoc">glacier melt ts </div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00650">timeseries.h:650</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a6a16d464e080dfbf3262d71fe327d5ca"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a6a16d464e080dfbf3262d71fe327d5ca">shyft::api::aglacier_melt_ts::total_period</a></div><div class="ttdeci">virtual utcperiod total_period() const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00248">timeseries.cpp:248</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_af7dd031bc99c5ee60a421eec857cefe8"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#af7dd031bc99c5ee60a421eec857cefe8">shyft::api::abin_op_ts::values</a></div><div class="ttdeci">std::vector&lt; double &gt; values() const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00053">timeseries.cpp:53</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_ae7569073cd80e9ebf2502e72bc954a4f"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#ae7569073cd80e9ebf2502e72bc954a4f">shyft::api::apoint_ts::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00177">timeseries.h:177</a></div></div>
<div class="ttc" id="api_2timeseries_8h_html"><div class="ttname"><a href="api_2timeseries_8h.html">timeseries.h</a></div></div>
<div class="ttc" id="structshyft_1_1core_1_1utcperiod_html_a9389e69f1aa343d037ccafda9a2d11aa"><div class="ttname"><a href="structshyft_1_1core_1_1utcperiod.html#a9389e69f1aa343d037ccafda9a2d11aa">shyft::core::utcperiod::contains</a></div><div class="ttdeci">bool contains(utctime t) const</div><div class="ttdef"><b>Definition:</b> <a href="utctime__utilities_8h_source.html#l00075">utctime_utilities.h:75</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a6604b9fcee0a2fb2fed3e5d8c64cd9cd"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a6604b9fcee0a2fb2fed3e5d8c64cd9cd">shyft::api::apoint_ts::values</a></div><div class="ttdeci">std::vector&lt; double &gt; values() const</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00181">timeseries.h:181</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_ac7be6ad975b78d1779f7d16172b49b23"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#ac7be6ad975b78d1779f7d16172b49b23">shyft::api::abin_op_ts::op</a></div><div class="ttdeci">iop_t op</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00540">timeseries.h:540</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_af6b407bf0d20fdefdc3bfe37961cf5c3"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#af6b407bf0d20fdefdc3bfe37961cf5c3">shyft::api::abin_op_ts::value</a></div><div class="ttdeci">double value(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00183">timeseries.cpp:183</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_html_a560b7b3b8bf6190f749284f5fadd7271"><div class="ttname"><a href="namespaceshyft_1_1core.html#a560b7b3b8bf6190f749284f5fadd7271">shyft::core::utctimespan</a></div><div class="ttdeci">long utctimespan</div><div class="ttdoc">time_t is typedef&amp;#39;d as a __time64_t, which is an __int64., happens to be equal to EnkiTime ...</div><div class="ttdef"><b>Definition:</b> <a href="utctime__utilities_8h_source.html#l00029">utctime_utilities.h:29</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a05ad94f417cac477dbf0642ba0b5c67a"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a05ad94f417cac477dbf0642ba0b5c67a">shyft::api::apoint_ts::average</a></div><div class="ttdeci">apoint_ts average(const gta_t &amp;ta) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00103">timeseries.cpp:103</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1abin__op__ts_html_aa629242be92f723175ceb1bf4d6742b3"><div class="ttname"><a href="structshyft_1_1api_1_1abin__op__ts.html#aa629242be92f723175ceb1bf4d6742b3">shyft::api::abin_op_ts::ta</a></div><div class="ttdeci">gta_t ta</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00542">timeseries.h:542</a></div></div>
<div class="ttc" id="structshyft_1_1time__axis_1_1fixed__dt_html"><div class="ttname"><a href="structshyft_1_1time__axis_1_1fixed__dt.html">shyft::time_axis::fixed_dt</a></div><div class="ttdoc">a simple regular time-axis, starting at t, with n consecutive periods of fixed length dt ...</div><div class="ttdef"><b>Definition:</b> <a href="time__axis_8h_source.html#l00047">time_axis.h:47</a></div></div>
<div class="ttc" id="namespaceshyft_html"><div class="ttname"><a href="namespaceshyft.html">shyft</a></div><div class="ttdef"><b>Definition:</b> <a href="actual__evapotranspiration_8h_source.html#l00025">actual_evapotranspiration.h:25</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_a976601242320f5b7a2e3ca99fd65c95d"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#a976601242320f5b7a2e3ca99fd65c95d">shyft::api::aglacier_melt_ts::set_point_interpretation</a></div><div class="ttdeci">virtual void set_point_interpretation(point_interpretation_policy point_interpretation)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00246">timeseries.cpp:246</a></div></div>
<div class="ttc" id="structshyft_1_1timeseries_1_1point__ts_html"><div class="ttname"><a href="structshyft_1_1timeseries_1_1point__ts.html">shyft::timeseries::point_ts</a></div><div class="ttdoc">point time-series, pts, defined by its templated time-axis, ta the values corresponding periods in ti...</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00276">timeseries.h:276</a></div></div>
<div class="ttc" id="namespaceshyft_1_1core_html_abbf72b8ba32c19e92f5263070c1e9d13"><div class="ttname"><a href="namespaceshyft_1_1core.html#abbf72b8ba32c19e92f5263070c1e9d13">shyft::core::utctime</a></div><div class="ttdeci">long utctime</div><div class="ttdoc">utctime basic types for time handling we use linear time, i.e. time is just a number on the timeaxis...</div><div class="ttdef"><b>Definition:</b> <a href="utctime__utilities_8h_source.html#l00028">utctime_utilities.h:28</a></div></div>
<div class="ttc" id="structshyft_1_1time__axis_1_1generic__dt_html_a4cadc695ec50189c8af79bfa59e51959"><div class="ttname"><a href="structshyft_1_1time__axis_1_1generic__dt.html#a4cadc695ec50189c8af79bfa59e51959">shyft::time_axis::generic_dt::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="time__axis_8h_source.html#l00268">time_axis.h:268</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_ac8f18b2d1b1d01d8dae6ddce69f863fd"><div class="ttname"><a href="namespaceshyft_1_1api.html#ac8f18b2d1b1d01d8dae6ddce69f863fd">shyft::api::kling_gupta</a></div><div class="ttdeci">double kling_gupta(const apoint_ts &amp;observation_ts, const apoint_ts &amp;model_ts, const gta_t &amp;ta, double s_r, double s_a, double s_b)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00212">timeseries.cpp:212</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a44252de65974b7b78f7f89427b2662f7"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a44252de65974b7b78f7f89427b2662f7">shyft::api::apoint_ts::scale_by</a></div><div class="ttdeci">void scale_by(double x)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00137">timeseries.cpp:137</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_a81c1836a5ac9b48f80e21d4c7442b980"><div class="ttname"><a href="namespaceshyft_1_1api.html#a81c1836a5ac9b48f80e21d4c7442b980">shyft::api::max</a></div><div class="ttdeci">apoint_ts max(const apoint_ts &amp;lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00039">timeseries.cpp:39</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_aef9b7f0d141053bdcbba9c8042a50b3e"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#aef9b7f0d141053bdcbba9c8042a50b3e">shyft::api::aglacier_melt_ts::aglacier_melt_ts</a></div><div class="ttdeci">aglacier_melt_ts(const aglacier_melt_ts &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00222">timeseries.cpp:222</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html">shyft::api::aglacier_melt_ts</a></div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00218">timeseries.cpp:218</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_ad3907fce4fcdf53e4f3057016343fa33"><div class="ttname"><a href="namespaceshyft_1_1api.html#ad3907fce4fcdf53e4f3057016343fa33">shyft::api::operator-</a></div><div class="ttdeci">apoint_ts operator-(const apoint_ts &amp;lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00025">timeseries.cpp:25</a></div></div>
<div class="ttc" id="structshyft_1_1timeseries_1_1glacier__melt__ts_html_a963fdefcd91001ee744622f098cef2ee"><div class="ttname"><a href="structshyft_1_1timeseries_1_1glacier__melt__ts.html#a963fdefcd91001ee744622f098cef2ee">shyft::timeseries::glacier_melt_ts::fx_policy</a></div><div class="ttdeci">point_interpretation_policy fx_policy</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l00656">timeseries.h:656</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html">shyft::api::apoint_ts</a></div><div class="ttdoc">apoint_ts, a value-type conceptual ts. </div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00120">timeseries.h:120</a></div></div>
<div class="ttc" id="namespaceshyft_1_1timeseries_html_ac3338df219f328629f72ab4e5ab0a02f"><div class="ttname"><a href="namespaceshyft_1_1timeseries.html#ac3338df219f328629f72ab4e5ab0a02f">shyft::timeseries::calculate_percentiles</a></div><div class="ttdeci">std::vector&lt; point_ts&lt; ta_t &gt; &gt; calculate_percentiles(const ta_t &amp;ta, const std::vector&lt; ts_t &gt; &amp;ts_list, const std::vector&lt; int &gt; &amp;percentiles, size_t min_t_steps=1000)</div><div class="ttdoc">calculate specified percentiles for supplied list of time-series over the specified time-axis ...</div><div class="ttdef"><b>Definition:</b> <a href="core_2timeseries_8h_source.html#l01350">timeseries.h:1350</a></div></div>
<div class="ttc" id="structshyft_1_1time__axis_1_1point__dt_html"><div class="ttname"><a href="structshyft_1_1time__axis_1_1point__dt.html">shyft::time_axis::point_dt</a></div><div class="ttdoc">point_dt is the most generic dense time-axis. </div><div class="ttdef"><b>Definition:</b> <a href="time__axis_8h_source.html#l00160">time_axis.h:160</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_a6679e02699f441e2ce6bf812c9896a1d"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#a6679e02699f441e2ce6bf812c9896a1d">shyft::api::apoint_ts::point_interpretation</a></div><div class="ttdeci">point_interpretation_policy point_interpretation() const</div><div class="ttdef"><b>Definition:</b> <a href="api_2timeseries_8h_source.html#l00172">timeseries.h:172</a></div></div>
<div class="ttc" id="structshyft_1_1time__axis_1_1generic__dt_html_a1ea9fa2294e8e84d7b15ee357f9cd6a1"><div class="ttname"><a href="structshyft_1_1time__axis_1_1generic__dt.html#a1ea9fa2294e8e84d7b15ee357f9cd6a1">shyft::time_axis::generic_dt::total_period</a></div><div class="ttdeci">utcperiod total_period() const</div><div class="ttdef"><b>Definition:</b> <a href="time__axis_8h_source.html#l00269">time_axis.h:269</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_add6489f610ac044fa874f420baa71221"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#add6489f610ac044fa874f420baa71221">shyft::api::apoint_ts::min</a></div><div class="ttdeci">apoint_ts min(double a) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00164">timeseries.cpp:164</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_a8228b684f975416fc858ec3deb1c60f7"><div class="ttname"><a href="namespaceshyft_1_1api.html#a8228b684f975416fc858ec3deb1c60f7">shyft::api::operator/</a></div><div class="ttdeci">apoint_ts operator/(const apoint_ts &amp;lhs, const apoint_ts &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00030">timeseries.cpp:30</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_ace68f18daf5cc4554b4d6666a14307f2"><div class="ttname"><a href="namespaceshyft_1_1api.html#ace68f18daf5cc4554b4d6666a14307f2">shyft::api::percentiles</a></div><div class="ttdeci">std::vector&lt; apoint_ts &gt; percentiles(const std::vector&lt; apoint_ts &gt; &amp;ts_list, const gta_t &amp;ta, const vector&lt; int &gt; &amp;percentile_list)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00172">timeseries.cpp:172</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_ab3849290b4308e5a9d60604ce3b74bca"><div class="ttname"><a href="namespaceshyft_1_1api.html#ab3849290b4308e5a9d60604ce3b74bca">shyft::api::create_glacier_melt_ts_m3s</a></div><div class="ttdeci">apoint_ts create_glacier_melt_ts_m3s(const apoint_ts &amp;temp, const apoint_ts &amp;sca_m2, double glacier_area_m2, double dtf)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00261">timeseries.cpp:261</a></div></div>
<div class="ttc" id="namespaceshyft_1_1api_html_a5fbb4f0820000cf99c149979589106f6"><div class="ttname"><a href="namespaceshyft_1_1api.html#a5fbb4f0820000cf99c149979589106f6">shyft::api::time_shift</a></div><div class="ttdeci">apoint_ts time_shift(const apoint_ts &amp;ts, utctimespan dt)</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00202">timeseries.cpp:202</a></div></div>
<div class="ttc" id="classshyft_1_1api_1_1apoint__ts_html_afacae23e5128139f1aa11742a3fedf48"><div class="ttname"><a href="classshyft_1_1api_1_1apoint__ts.html#afacae23e5128139f1aa11742a3fedf48">shyft::api::apoint_ts::partition_by</a></div><div class="ttdeci">std::vector&lt; apoint_ts &gt; partition_by(const calendar &amp;cal, utctime t, utctimespan partition_interval, size_t n_partitions, utctime common_t0) const</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00113">timeseries.cpp:113</a></div></div>
<div class="ttc" id="structshyft_1_1api_1_1aglacier__melt__ts_html_ae84d00d57e81b9d79a5fadc8fc736798"><div class="ttname"><a href="structshyft_1_1api_1_1aglacier__melt__ts.html#ae84d00d57e81b9d79a5fadc8fc736798">shyft::api::aglacier_melt_ts::aglacier_melt_ts</a></div><div class="ttdeci">aglacier_melt_ts()</div><div class="ttdef"><b>Definition:</b> <a href="timeseries_8cpp_source.html#l00221">timeseries.cpp:221</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9561849f62f3109c9288bfc0f77b89f3.html">shyft</a></li><li class="navelem"><a class="el" href="dir_777a85b949c6e34d6e16705d9798d77c.html">api</a></li><li class="navelem"><a class="el" href="timeseries_8cpp.html">timeseries.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
