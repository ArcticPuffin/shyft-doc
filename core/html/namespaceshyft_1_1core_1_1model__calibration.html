<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shyft: shyft::core::model_calibration Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shyft
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">Shyft</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceshyft_1_1core_1_1model__calibration.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">shyft::core::model_calibration Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1area__ts.html">area_ts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1detect__snow__sca.html">detect_snow_sca</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1detect__snow__sca_3_01_t_00_01decltype_07_t_1_1snow__sca_00_01void_07_08_08_4.html">detect_snow_sca&lt; T, decltype(T::snow_sca, void())&gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1detect__snow__swe.html">detect_snow_swe</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1detect__snow__swe_3_01_t_00_01decltype_07_t_1_1snow__swe_00_01void_07_08_08_4.html">detect_snow_swe&lt; T, decltype(T::snow_swe, void())&gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1dream__fx.html">dream_fx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">optimizer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The optimizer for parameters in a <a class="el" href="classshyft_1_1core_1_1region__model.html" title="region_model is the calculation model for a region, where we can have one or more catchments...">shyft::core::region_model</a> provides needed functionality to orchestrate a search for the optimal parameters so that the goal function specified by the target_specifications are minmized. The user can specify which parameters (model specific) to optimize, giving range min..max for each of the parameters. Only parameters with min != max are used, thus minimizing the parameter space.  <a href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1sceua__fx.html">sceua_fx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1target__specification.html">target_specification</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The target specification contains:</p><ol type="1">
<li>a target ts (the observed quantity)</li>
<li>a list of catchment ids (zero-based), that denotes the catchment.discharges that should equal the target ts.</li>
<li>a scale_factor that is used to construct the final goal function astemplate helper classes to be used in enable_if_t in the optimizer for snow swe/sca: </li>
</ol>
 <a href="structshyft_1_1core_1_1model__calibration_1_1target__specification.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshyft_1_1core_1_1model__calibration_1_1ts__transform.html">ts_transform</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">utility class to help transfrom time-series into suitable resolution  <a href="structshyft_1_1core_1_1model__calibration_1_1ts__transform.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adcd89ab052593045e6ce5c0fb061cfee"><td class="memTemplParams" colspan="2">template&lt;bool B, class T  = void&gt; </td></tr>
<tr class="memitem:adcd89ab052593045e6ce5c0fb061cfee"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#adcd89ab052593045e6ce5c0fb061cfee">enable_if_tx</a> = typename enable_if&lt; B, T &gt;::type</td></tr>
<tr class="separator:adcd89ab052593045e6ce5c0fb061cfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a1d095e2da6d4d8f6e04f7d731a7ba36e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a1d095e2da6d4d8f6e04f7d731a7ba36e">target_spec_calc_type</a> { <a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a1d095e2da6d4d8f6e04f7d731a7ba36eab41aca78a12a708091116416ba16e6a7">NASH_SUTCLIFFE</a>, 
<a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a1d095e2da6d4d8f6e04f7d731a7ba36ea89b599e43debedc2cdf4ad2184bede20">KLING_GUPTA</a>
 }<tr class="memdesc:a1d095e2da6d4d8f6e04f7d731a7ba36e"><td class="mdescLeft">&#160;</td><td class="mdescRight">calc_type to provide simple start of more than NS critera, first extension is diff of sum 2  <a href="namespaceshyft_1_1core_1_1model__calibration.html#a1d095e2da6d4d8f6e04f7d731a7ba36e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a1d095e2da6d4d8f6e04f7d731a7ba36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5668311af81a0424b26f96379c9ea756"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a5668311af81a0424b26f96379c9ea756">catchment_property_type</a> { <a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a5668311af81a0424b26f96379c9ea756aa948a33766c00e5ed6144fc0451c303d">DISCHARGE</a>, 
<a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a5668311af81a0424b26f96379c9ea756a3b51a4a7d6566b611f89b8e6d6e76412">SNOW_COVERED_AREA</a>, 
<a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a5668311af81a0424b26f96379c9ea756a48dacfdcfa0a727aa9f9cb4ff028c7ed">SNOW_WATER_EQUIVALENT</a>
 }<tr class="memdesc:a5668311af81a0424b26f96379c9ea756"><td class="mdescLeft">&#160;</td><td class="mdescRight">property_type for target specification  <a href="namespaceshyft_1_1core_1_1model__calibration.html#a5668311af81a0424b26f96379c9ea756">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5668311af81a0424b26f96379c9ea756"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a29d1dd6f07e3da2747064b5f2de13eed"><td class="memTemplParams" colspan="2">template&lt;class M &gt; </td></tr>
<tr class="memitem:a29d1dd6f07e3da2747064b5f2de13eed"><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a29d1dd6f07e3da2747064b5f2de13eed">min_bobyqa</a> (M &amp;model, vector&lt; double &gt; &amp;x, int max_n_evaluations, double tr_start, double tr_stop)</td></tr>
<tr class="memdesc:a29d1dd6f07e3da2747064b5f2de13eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimize the functional defined by model using the BOBYQA method.  <a href="#a29d1dd6f07e3da2747064b5f2de13eed">More...</a><br /></td></tr>
<tr class="separator:a29d1dd6f07e3da2747064b5f2de13eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220dadd8e1f05e89b7a8d866f2af1d05"><td class="memTemplParams" colspan="2">template&lt;class M &gt; </td></tr>
<tr class="memitem:a220dadd8e1f05e89b7a8d866f2af1d05"><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a220dadd8e1f05e89b7a8d866f2af1d05">min_dream</a> (M &amp;model, vector&lt; double &gt; &amp;x, int max_n_evaluations)</td></tr>
<tr class="memdesc:a220dadd8e1f05e89b7a8d866f2af1d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">template function that find the x that minimizes the evaluated value of model M using DREAM algorithm  <a href="#a220dadd8e1f05e89b7a8d866f2af1d05">More...</a><br /></td></tr>
<tr class="separator:a220dadd8e1f05e89b7a8d866f2af1d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382ab7d062b7bfa5337fd166f81c83e6"><td class="memTemplParams" colspan="2">template&lt;class M &gt; </td></tr>
<tr class="memitem:a382ab7d062b7bfa5337fd166f81c83e6"><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a382ab7d062b7bfa5337fd166f81c83e6">min_sceua</a> (M &amp;model, vector&lt; double &gt; &amp;x, size_t max_n_evaluations, double x_eps=0.0001, double y_eps=0.0001)</td></tr>
<tr class="memdesc:a382ab7d062b7bfa5337fd166f81c83e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">template for the function that finds the x that minimizes the evaluated value of model M using SCEUA algorithm  <a href="#a382ab7d062b7bfa5337fd166f81c83e6">More...</a><br /></td></tr>
<tr class="separator:a382ab7d062b7bfa5337fd166f81c83e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adcd89ab052593045e6ce5c0fb061cfee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd89ab052593045e6ce5c0fb061cfee">&sect;&nbsp;</a></span>enable_if_tx</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool B, class T  = void&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#adcd89ab052593045e6ce5c0fb061cfee">shyft::core::model_calibration::enable_if_tx</a> = typedef typename enable_if&lt;B, T&gt;::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="model__calibration_8h_source.html#l00249">249</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5668311af81a0424b26f96379c9ea756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5668311af81a0424b26f96379c9ea756">&sect;&nbsp;</a></span>catchment_property_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a5668311af81a0424b26f96379c9ea756">shyft::core::model_calibration::catchment_property_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>property_type for target specification </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5668311af81a0424b26f96379c9ea756aa948a33766c00e5ed6144fc0451c303d"></a>DISCHARGE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5668311af81a0424b26f96379c9ea756a3b51a4a7d6566b611f89b8e6d6e76412"></a>SNOW_COVERED_AREA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5668311af81a0424b26f96379c9ea756a48dacfdcfa0a727aa9f9cb4ff028c7ed"></a>SNOW_WATER_EQUIVALENT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p>Definition at line <a class="el" href="model__calibration_8h_source.html#l00161">161</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a1d095e2da6d4d8f6e04f7d731a7ba36e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d095e2da6d4d8f6e04f7d731a7ba36e">&sect;&nbsp;</a></span>target_spec_calc_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html#a1d095e2da6d4d8f6e04f7d731a7ba36e">shyft::core::model_calibration::target_spec_calc_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calc_type to provide simple start of more than NS critera, first extension is diff of sum 2 </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1d095e2da6d4d8f6e04f7d731a7ba36eab41aca78a12a708091116416ba16e6a7"></a>NASH_SUTCLIFFE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1d095e2da6d4d8f6e04f7d731a7ba36ea89b599e43debedc2cdf4ad2184bede20"></a>KLING_GUPTA&#160;</td><td class="fielddoc"></td></tr>
</table>

<p>Definition at line <a class="el" href="model__calibration_8h_source.html#l00155">155</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a29d1dd6f07e3da2747064b5f2de13eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29d1dd6f07e3da2747064b5f2de13eed">&sect;&nbsp;</a></span>min_bobyqa()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double shyft::core::model_calibration::min_bobyqa </td>
          <td>(</td>
          <td class="paramtype">M &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tr_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tr_stop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimize the functional defined by model using the BOBYQA method. </p>
<p>Solve the optimization problem defined by the model M using the Bounded Optimization by Quadratic Approximation method by Michael J. D. Powell. See the "The BOBYQA Algorithm for Bound Constrained Optimization Without Derivatives", Technical report, Department of Applied Mathematics and Theoretical Physics, University of Cambridge, 2009.</p>
<p>We use the dlib implementation of this algorithm, see <a href="www.dlib.net/optimization.html#find_min_bobyqa">dlib bobyqua</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>Model to be optimized, implementing the interface:<ol type="1">
<li>double operator()(const dlib::matrix&lt;double, 0, 1&gt; params) &ndash;&gt; Evaluate the functional for parameter set params.</li>
<li>vector&lt;double&gt; to_scaled(std::vector&lt;double&gt; params) &ndash;&gt; Scale original parameters to [0,1]</li>
<li>vector&lt;double&gt; from_scaled(const dlib::matrix&lt;double, 0, 1&gt; scaled_params) &ndash;&gt; Unscale parameters </li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>the model to be optimized </td></tr>
    <tr><td class="paramname">x</td><td>Initial guess </td></tr>
    <tr><td class="paramname">max_n_evaluations</td><td>stop/throw if not converging after n evaluations </td></tr>
    <tr><td class="paramname">tr_start</td><td>Initial trust region radius </td></tr>
    <tr><td class="paramname">tr_stop</td><td>Stopping trust region radiusTemplate class to transform model evaluation into something that dream can run </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="model__calibration_8h_source.html#l00031">31</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceshyft_1_1core_1_1model__calibration_a29d1dd6f07e3da2747064b5f2de13eed_icgraph.png" border="0" usemap="#namespaceshyft_1_1core_1_1model__calibration_a29d1dd6f07e3da2747064b5f2de13eed_icgraph" alt=""/></div>
<map name="namespaceshyft_1_1core_1_1model__calibration_a29d1dd6f07e3da2747064b5f2de13eed_icgraph" id="namespaceshyft_1_1core_1_1model__calibration_a29d1dd6f07e3da2747064b5f2de13eed_icgraph">
<area shape="rect" id="node2" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#adfe129bd152e378a6123493839fcc19c" title="Call to optimize model, starting with p parameter set, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. " alt="" coords="220,5,369,61"/>
</map>
</div>

</div>
</div>
<a id="a220dadd8e1f05e89b7a8d866f2af1d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220dadd8e1f05e89b7a8d866f2af1d05">&sect;&nbsp;</a></span>min_dream()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double shyft::core::model_calibration::min_dream </td>
          <td>(</td>
          <td class="paramtype">M &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>template function that find the x that minimizes the evaluated value of model M using DREAM algorithm </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>the model that need to have .to_scaled(x) and .from_scaled(x) to normalize the supplied parameters to range 0..1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>a reference to the model to be evaluated </td></tr>
    <tr><td class="paramname">x</td><td>the initial x parameters to use (actually not, dream is completely random driven), filled in with the optimal values on return </td></tr>
    <tr><td class="paramname">max_n_evaluations</td><td>is the maximum number of iterations, currently not used, the routine returns when convergence is reached </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the goal function of m value, corresponding to the found x-vectorTemplate class to transform model evaluation into something that dream can run </dd></dl>

<p>Definition at line <a class="el" href="model__calibration_8h_source.html#l00076">76</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceshyft_1_1core_1_1model__calibration_a220dadd8e1f05e89b7a8d866f2af1d05_cgraph.png" border="0" usemap="#namespaceshyft_1_1core_1_1model__calibration_a220dadd8e1f05e89b7a8d866f2af1d05_cgraph" alt=""/></div>
<map name="namespaceshyft_1_1core_1_1model__calibration_a220dadd8e1f05e89b7a8d866f2af1d05_cgraph" id="namespaceshyft_1_1core_1_1model__calibration_a220dadd8e1f05e89b7a8d866f2af1d05_cgraph">
<area shape="rect" id="node2" href="classshyft_1_1core_1_1optimizer_1_1dream.html#a50bc04e18e06cdbdfed4f932e360e832" title="find x so that fx is at maximum. " alt="" coords="213,27,359,69"/>
<area shape="rect" id="node3" href="namespaceshyft_1_1timeseries.html#ac53ac01de119a07afeaf67d32cd151e7" title="shyft::timeseries::max" alt="" coords="407,5,559,32"/>
<area shape="rect" id="node4" href="structshyft_1_1core_1_1optimizer_1_1ifx.html#abbe9820f1f104074fd8372126138ea35" title="shyft::core::optimizer\l::ifx::evaluate" alt="" coords="410,57,555,98"/>
</map>
</div>

</div>
</div>
<a id="a382ab7d062b7bfa5337fd166f81c83e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382ab7d062b7bfa5337fd166f81c83e6">&sect;&nbsp;</a></span>min_sceua()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double shyft::core::model_calibration::min_sceua </td>
          <td>(</td>
          <td class="paramtype">M &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_eps</em> = <code>0.0001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y_eps</em> = <code>0.0001</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>template for the function that finds the x that minimizes the evaluated value of model M using SCEUA algorithm </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>the model, that provide .to_scaled(x) and .from_scaled(x) to normalize the parameters to 0..1 range </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>a reference to the model evaluated </td></tr>
    <tr><td class="paramname">x</td><td>starting point for the parameters </td></tr>
    <tr><td class="paramname">max_n_evaluations</td><td>stop after max_n_interations reached(keep best x until then) </td></tr>
    <tr><td class="paramname">x_eps</td><td>stop when all x's changes less than x_eps(recall range 0..1), convergence in x </td></tr>
    <tr><td class="paramname">y_eps</td><td>stop when last y-values (model goal functions) seems to have converged (no improvements) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the goal function of m value, and x is the corresponding parameter-set. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">runtime_error</td><td>with text sceua: max_iterations reached before convergence </td></tr>
  </table>
  </dd>
</dl>
<p>normalized range is 0..1 so is min..max </p>

<p>Definition at line <a class="el" href="model__calibration_8h_source.html#l00108">108</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_cgraph.png" border="0" usemap="#namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_cgraph" alt=""/></div>
<map name="namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_cgraph" id="namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_cgraph">
<area shape="rect" id="node2" href="classshyft_1_1core_1_1optimizer_1_1sceua.html#a6a357fe2862dd062b65a01180c450bb9" title="shyft::core::optimizer\l::sceua::find_min" alt="" coords="212,5,357,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_icgraph.png" border="0" usemap="#namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_icgraph" alt=""/></div>
<map name="namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_icgraph" id="namespaceshyft_1_1core_1_1model__calibration_a382ab7d062b7bfa5337fd166f81c83e6_icgraph">
<area shape="rect" id="node2" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aa9ab8e4f1225013de73d7ab2472ef03d" title="Call to optimize model, using SCE UA, using p as startpoint, find p, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. " alt="" coords="212,5,361,61"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceshyft.html">shyft</a></li><li class="navelem"><a class="el" href="namespaceshyft_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html">model_calibration</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
