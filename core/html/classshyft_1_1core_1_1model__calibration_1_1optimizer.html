<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shyft: shyft::core::model_calibration::optimizer&lt; M, PA, PS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shyft
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">Shyft</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classshyft_1_1core_1_1model__calibration_1_1optimizer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classshyft_1_1core_1_1model__calibration_1_1optimizer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shyft::core::model_calibration::optimizer&lt; M, PA, PS &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The optimizer for parameters in a <a class="el" href="classshyft_1_1core_1_1region__model.html" title="region_model is the calculation model for a region, where we can have one or more catchments...">shyft::core::region_model</a> provides needed functionality to orchestrate a search for the optimal parameters so that the goal function specified by the target_specifications are minmized. The user can specify which parameters (model specific) to optimize, giving range min..max for each of the parameters. Only parameters with min != max are used, thus minimizing the parameter space.  
 <a href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for shyft::core::model_calibration::optimizer&lt; M, PA, PS &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer__coll__graph.png" border="0" usemap="#shyft_1_1core_1_1model__calibration_1_1optimizer_3_01_m_00_01_p_a_00_01_p_s_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="shyft_1_1core_1_1model__calibration_1_1optimizer_3_01_m_00_01_p_a_00_01_p_s_01_4_coll__map" id="shyft_1_1core_1_1model__calibration_1_1optimizer_3_01_m_00_01_p_a_00_01_p_s_01_4_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a83d9d8f6778b39a0da125c5c82d534ef"><td class="memItemLeft" align="right" valign="top">typedef dlib::matrix&lt; double, 0, 1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a83d9d8f6778b39a0da125c5c82d534ef">column_vector</a></td></tr>
<tr class="memdesc:a83d9d8f6778b39a0da125c5c82d534ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">dlib optimizer enjoys dlib matrix types.  <a href="#a83d9d8f6778b39a0da125c5c82d534ef">More...</a><br /></td></tr>
<tr class="separator:a83d9d8f6778b39a0da125c5c82d534ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465f447636d0348323d8310a7c89f499"><td class="memItemLeft" align="right" valign="top">typedef PS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a465f447636d0348323d8310a7c89f499">target_time_series_t</a></td></tr>
<tr class="memdesc:a465f447636d0348323d8310a7c89f499"><td class="mdescLeft">&#160;</td><td class="mdescRight">target_time_series_t. could that be of same type as model calc, always, or is it supplied from outside?  <a href="#a465f447636d0348323d8310a7c89f499">More...</a><br /></td></tr>
<tr class="separator:a465f447636d0348323d8310a7c89f499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0c86b75080905a00d1713d72ab6a97"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structshyft_1_1core_1_1model__calibration_1_1target__specification.html">target_specification</a>&lt; PS &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a></td></tr>
<tr class="memdesc:a3f0c86b75080905a00d1713d72ab6a97"><td class="mdescLeft">&#160;</td><td class="mdescRight">describes how to calculate the goal function, maybe better 'retemplate' on this  <a href="#a3f0c86b75080905a00d1713d72ab6a97">More...</a><br /></td></tr>
<tr class="separator:a3f0c86b75080905a00d1713d72ab6a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6793d8d0161d269d05c0f9563d7f6dab"><td class="memItemLeft" align="right" valign="top">typedef M&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a></td></tr>
<tr class="memdesc:a6793d8d0161d269d05c0f9563d7f6dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">obvious and Ok template, the <a class="el" href="classshyft_1_1core_1_1region__model.html" title="region_model is the calculation model for a region, where we can have one or more catchments...">region_model</a>, and there is just a few things that we need from this template.  <a href="#a6793d8d0161d269d05c0f9563d7f6dab">More...</a><br /></td></tr>
<tr class="separator:a6793d8d0161d269d05c0f9563d7f6dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b80f7e1be5ddf42a284626ff695201"><td class="memItemLeft" align="right" valign="top">typedef M::state_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aa2b80f7e1be5ddf42a284626ff695201">state_t</a></td></tr>
<tr class="separator:aa2b80f7e1be5ddf42a284626ff695201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3992fa4a88c3036683dae1dd9af4fa"><td class="memItemLeft" align="right" valign="top">typedef M::parameter_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aeb3992fa4a88c3036683dae1dd9af4fa">parameter_t</a></td></tr>
<tr class="separator:aeb3992fa4a88c3036683dae1dd9af4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6032a61ce6a869e7de4f5831aaa5356b"><td class="memItemLeft" align="right" valign="top">typedef M::cell_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6032a61ce6a869e7de4f5831aaa5356b">cell_t</a></td></tr>
<tr class="separator:a6032a61ce6a869e7de4f5831aaa5356b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6846cf441df5d1156b73005cb219f52c"><td class="memItemLeft" align="right" valign="top">typedef cell_t::response_collector_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6846cf441df5d1156b73005cb219f52c">response_collector_t</a></td></tr>
<tr class="separator:a6846cf441df5d1156b73005cb219f52c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a384e447fd9df3dcbfb47f9fc6ccbf295"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a384e447fd9df3dcbfb47f9fc6ccbf295">active_parameter</a> (size_t i) const</td></tr>
<tr class="separator:a384e447fd9df3dcbfb47f9fc6ccbf295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bfa9505b131d6f465d3a41f6996819"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ab1bfa9505b131d6f465d3a41f6996819">optimizer</a> (<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a> &amp;<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a47be90108bd371cf748a9c53d42970a7">model</a>, const vector&lt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a> &gt; &amp;targetsA, const vector&lt; double &gt; &amp;p_min, const vector&lt; double &gt; &amp;p_max)</td></tr>
<tr class="memdesc:ab1bfa9505b131d6f465d3a41f6996819"><td class="mdescLeft">&#160;</td><td class="mdescRight">construct an opt model for ptgsk, use p_min=p_max to disable optimization for a parameter  <a href="#ab1bfa9505b131d6f465d3a41f6996819">More...</a><br /></td></tr>
<tr class="separator:ab1bfa9505b131d6f465d3a41f6996819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127beaee84ddbafc8dc4e7d536f141aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a127beaee84ddbafc8dc4e7d536f141aa">optimizer</a> (<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a> &amp;<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a47be90108bd371cf748a9c53d42970a7">model</a>)</td></tr>
<tr class="separator:a127beaee84ddbafc8dc4e7d536f141aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fce112251127c578f95a5b5d6513f97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a4fce112251127c578f95a5b5d6513f97">set_target_specification</a> (const vector&lt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a> &gt; &amp;targetsA, const PA &amp;param_lower_bound, const PA &amp;param_upper_bound)</td></tr>
<tr class="separator:a4fce112251127c578f95a5b5d6513f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c6266ecc38acb0bdaf9087b98506ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a21c6266ecc38acb0bdaf9087b98506ce">establish_initial_state_from_model</a> ()</td></tr>
<tr class="separator:a21c6266ecc38acb0bdaf9087b98506ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a6c7fc24fe060f682939392e424c1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a09a6c7fc24fe060f682939392e424c1e">prepare_optimize</a> ()</td></tr>
<tr class="separator:a09a6c7fc24fe060f682939392e424c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc562b9ec817dca734b5a01b427bb619"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#adc562b9ec817dca734b5a01b427bb619">auto_initial_state_check</a> ()</td></tr>
<tr class="separator:adc562b9ec817dca734b5a01b427bb619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b052ecb20f08f3ade73c39b6482b1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ac9b052ecb20f08f3ade73c39b6482b1e">trace_size</a> () const</td></tr>
<tr class="separator:ac9b052ecb20f08f3ade73c39b6482b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa22bc1721dce7d8510f79632f9d20b3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#afa22bc1721dce7d8510f79632f9d20b3">trace_goal_fn</a> (int i) const</td></tr>
<tr class="separator:afa22bc1721dce7d8510f79632f9d20b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe79e004f5c34878c0368be8afd16a10"><td class="memItemLeft" align="right" valign="top">PA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#abe79e004f5c34878c0368be8afd16a10">trace_parameter</a> (int i) const</td></tr>
<tr class="separator:abe79e004f5c34878c0368be8afd16a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973f82e36d67ddb753a2c05dff0ddef4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aa2b80f7e1be5ddf42a284626ff695201">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a973f82e36d67ddb753a2c05dff0ddef4">get_initial_state</a> (size_t idx)</td></tr>
<tr class="separator:a973f82e36d67ddb753a2c05dff0ddef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c972c2059cb25bb119808b4e3a7ac8"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ae1c972c2059cb25bb119808b4e3a7ac8">optimize</a> (const vector&lt; double &gt; &amp;p, size_t max_n_evaluations=1500, double tr_start=0.1, double tr_stop=1.0e-5)</td></tr>
<tr class="memdesc:ae1c972c2059cb25bb119808b4e3a7ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to optimize model, starting with p parameter set, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run.  <a href="#ae1c972c2059cb25bb119808b4e3a7ac8">More...</a><br /></td></tr>
<tr class="separator:ae1c972c2059cb25bb119808b4e3a7ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683ed17fa2154d1ef87dcbb457c3e0b3"><td class="memItemLeft" align="right" valign="top">PA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a683ed17fa2154d1ef87dcbb457c3e0b3">optimize</a> (const PA &amp;p, size_t max_n_evaluations=1500, double tr_start=0.1, double tr_stop=1.0e-5)</td></tr>
<tr class="separator:a683ed17fa2154d1ef87dcbb457c3e0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28319e0ce947a28e81e8e7a1058388ec"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a28319e0ce947a28e81e8e7a1058388ec">optimize_dream</a> (const vector&lt; double &gt; &amp;p, size_t max_n_evaluations=1500)</td></tr>
<tr class="memdesc:a28319e0ce947a28e81e8e7a1058388ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to optimize model, using DREAM alg., find p, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run.  <a href="#a28319e0ce947a28e81e8e7a1058388ec">More...</a><br /></td></tr>
<tr class="separator:a28319e0ce947a28e81e8e7a1058388ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa176e5163bfc801c93a258cd298691c3"><td class="memItemLeft" align="right" valign="top">PA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aa176e5163bfc801c93a258cd298691c3">optimize_dream</a> (const PA &amp;p, size_t max_n_evaluations=1500)</td></tr>
<tr class="separator:aa176e5163bfc801c93a258cd298691c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ffadc58e1cc20648df8496a0e2ea7a"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ab6ffadc58e1cc20648df8496a0e2ea7a">optimize_sceua</a> (const vector&lt; double &gt; &amp;p, size_t max_n_evaluations=1500, double x_eps=0.0001, double y_eps=1.0e-5)</td></tr>
<tr class="memdesc:ab6ffadc58e1cc20648df8496a0e2ea7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to optimize model, using SCE UA, using p as startpoint, find p, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run.  <a href="#ab6ffadc58e1cc20648df8496a0e2ea7a">More...</a><br /></td></tr>
<tr class="separator:ab6ffadc58e1cc20648df8496a0e2ea7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f40ae12b9673f513fbe3ccc3c679caf"><td class="memItemLeft" align="right" valign="top">PA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a5f40ae12b9673f513fbe3ccc3c679caf">optimize_sceua</a> (const PA &amp;p, size_t max_n_evaluations=1500, double x_eps=0.0001, double y_eps=1.0e-5)</td></tr>
<tr class="separator:a5f40ae12b9673f513fbe3ccc3c679caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd875cab3afb4f296ab96879964d8449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#abd875cab3afb4f296ab96879964d8449">reset_states</a> ()</td></tr>
<tr class="memdesc:abd875cab3afb4f296ab96879964d8449"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset the state of the model to the initial state before starting the run/optimize  <a href="#abd875cab3afb4f296ab96879964d8449">More...</a><br /></td></tr>
<tr class="separator:abd875cab3afb4f296ab96879964d8449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace152222deb93cf6b6f8bdf818952a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aace152222deb93cf6b6f8bdf818952a9">set_parameter_ranges</a> (const vector&lt; double &gt; &amp;p_min, const vector&lt; double &gt; &amp;p_max)</td></tr>
<tr class="memdesc:aace152222deb93cf6b6f8bdf818952a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the parameter ranges, set min=max=wanted parameter value for those not subject to change during optimization  <a href="#aace152222deb93cf6b6f8bdf818952a9">More...</a><br /></td></tr>
<tr class="separator:aace152222deb93cf6b6f8bdf818952a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbdadaf09aaabcc10ddd5158f73bd2d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#acbdadaf09aaabcc10ddd5158f73bd2d7">set_verbose_level</a> (int level)</td></tr>
<tr class="separator:acbdadaf09aaabcc10ddd5158f73bd2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e1af8fda536c0677074df8f393dc94"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a54e1af8fda536c0677074df8f393dc94">calculate_goal_function</a> (const std::vector&lt; double &gt; &amp;full_vector_of_parameters)</td></tr>
<tr class="memdesc:a54e1af8fda536c0677074df8f393dc94"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate the goal_function as used by minbobyqa, using the full set of parameters vectors (as passed to <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ae1c972c2059cb25bb119808b4e3a7ac8" title="Call to optimize model, starting with p parameter set, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. ">optimize()</a>) and also ensures that the shyft state/cell/catchment result is consistent with the passed parameters passed  <a href="#a54e1af8fda536c0677074df8f393dc94">More...</a><br /></td></tr>
<tr class="separator:a54e1af8fda536c0677074df8f393dc94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43bb8a6b3dae6b513c68ea78176e599a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a43bb8a6b3dae6b513c68ea78176e599a">calculate_goal_function</a> (const PA &amp;p)</td></tr>
<tr class="separator:a43bb8a6b3dae6b513c68ea78176e599a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72de88358821a048432b9d099f0b397"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#af72de88358821a048432b9d099f0b397">operator()</a> (const <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a83d9d8f6778b39a0da125c5c82d534ef">column_vector</a> &amp;p_s)</td></tr>
<tr class="separator:af72de88358821a048432b9d099f0b397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619914f52ab547f433676cba5cd90135"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a619914f52ab547f433676cba5cd90135">operator()</a> (const vector&lt; double &gt; &amp;p_s)</td></tr>
<tr class="separator:a619914f52ab547f433676cba5cd90135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e761e88720beecc3215cc19145a819e"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a1e761e88720beecc3215cc19145a819e">to_scaled</a> (const vector&lt; double &gt; &amp;rp) const</td></tr>
<tr class="separator:a1e761e88720beecc3215cc19145a819e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3e7fa6ba021b21f6a1abbb1a738c96"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6a3e7fa6ba021b21f6a1abbb1a738c96">from_scaled</a> (<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a83d9d8f6778b39a0da125c5c82d534ef">column_vector</a> p_s) const</td></tr>
<tr class="separator:a6a3e7fa6ba021b21f6a1abbb1a738c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a7ff86bc7cfa347ef192511cb904eb4"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a4a7ff86bc7cfa347ef192511cb904eb4">from_scaled</a> (const vector&lt; double &gt; &amp;p_s) const</td></tr>
<tr class="separator:a4a7ff86bc7cfa347ef192511cb904eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aafdd315906e5219d9e0a8b8ee8dfbc76"><td class="memItemLeft" align="right" valign="top">PA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aafdd315906e5219d9e0a8b8ee8dfbc76">parameter_lower_bound</a></td></tr>
<tr class="memdesc:aafdd315906e5219d9e0a8b8ee8dfbc76"><td class="mdescLeft">&#160;</td><td class="mdescRight">current setting of parameter lower bound  <a href="#aafdd315906e5219d9e0a8b8ee8dfbc76">More...</a><br /></td></tr>
<tr class="separator:aafdd315906e5219d9e0a8b8ee8dfbc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd3434d467e6f079d7b77b78e61b96d"><td class="memItemLeft" align="right" valign="top">PA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a2dd3434d467e6f079d7b77b78e61b96d">parameter_upper_bound</a></td></tr>
<tr class="memdesc:a2dd3434d467e6f079d7b77b78e61b96d"><td class="mdescLeft">&#160;</td><td class="mdescRight">current setting of parameter upper bound  <a href="#a2dd3434d467e6f079d7b77b78e61b96d">More...</a><br /></td></tr>
<tr class="separator:a2dd3434d467e6f079d7b77b78e61b96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2746943462e1365e32c51195ca82c85e"><td class="memItemLeft" align="right" valign="top">vector&lt; PA &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a2746943462e1365e32c51195ca82c85e">parameters_trace</a></td></tr>
<tr class="memdesc:a2746943462e1365e32c51195ca82c85e"><td class="mdescLeft">&#160;</td><td class="mdescRight">parameters_trace contains all parameters tried during optimization  <a href="#a2746943462e1365e32c51195ca82c85e">More...</a><br /></td></tr>
<tr class="separator:a2746943462e1365e32c51195ca82c85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50dc29670073fd6211da765e131bff8"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ae50dc29670073fd6211da765e131bff8">goal_fn_trace</a></td></tr>
<tr class="memdesc:ae50dc29670073fd6211da765e131bff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">goal-fn-value, corresponding to parameters_trace  <a href="#ae50dc29670073fd6211da765e131bff8">More...</a><br /></td></tr>
<tr class="separator:ae50dc29670073fd6211da765e131bff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef726f27748c090027974d4a7083b195"><td class="memItemLeft" align="right" valign="top">PA &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aef726f27748c090027974d4a7083b195">parameter_accessor</a></td></tr>
<tr class="memdesc:aef726f27748c090027974d4a7083b195"><td class="mdescLeft">&#160;</td><td class="mdescRight">a <em>reference</em> to the model parameters in the target model, all cells share this!  <a href="#aef726f27748c090027974d4a7083b195">More...</a><br /></td></tr>
<tr class="separator:aef726f27748c090027974d4a7083b195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47be90108bd371cf748a9c53d42970a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a47be90108bd371cf748a9c53d42970a7">model</a></td></tr>
<tr class="memdesc:a47be90108bd371cf748a9c53d42970a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">a reference to the region model that we optimize  <a href="#a47be90108bd371cf748a9c53d42970a7">More...</a><br /></td></tr>
<tr class="separator:a47be90108bd371cf748a9c53d42970a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952151b56ed526fba4448da8b1961c9a"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a952151b56ed526fba4448da8b1961c9a">targets</a></td></tr>
<tr class="memdesc:a952151b56ed526fba4448da8b1961c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of targets ts&amp; catchments indexes to be optimized, used to calculate goal function  <a href="#a952151b56ed526fba4448da8b1961c9a">More...</a><br /></td></tr>
<tr class="separator:a952151b56ed526fba4448da8b1961c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a27b2fc3d4a8b6513eeac7ab68a73ce2a"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a27b2fc3d4a8b6513eeac7ab68a73ce2a">calibration_test</a></td></tr>
<tr class="separator:a27b2fc3d4a8b6513eeac7ab68a73ce2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class M, class PA, class PS&gt;<br />
class shyft::core::model_calibration::optimizer&lt; M, PA, PS &gt;</h3>

<p>The optimizer for parameters in a <a class="el" href="classshyft_1_1core_1_1region__model.html" title="region_model is the calculation model for a region, where we can have one or more catchments...">shyft::core::region_model</a> provides needed functionality to orchestrate a search for the optimal parameters so that the goal function specified by the target_specifications are minmized. The user can specify which parameters (model specific) to optimize, giving range min..max for each of the parameters. Only parameters with min != max are used, thus minimizing the parameter space. </p>
<p>Target specification <a class="el" href="structshyft_1_1core_1_1model__calibration_1_1target__specification.html">target_specification</a> allows a lot of flexiblity when it comes to what goes into the shyft::timeseries::nash_sutcliffe_goal_function or kling-gupta function.</p>
<p>The search for optimium starts with the current parameter-set, the current start state, over the specified model time-axis. After a run, the goal function is calculated and returned back to the minbobyqa algorithm that continue searching for the minimum value until tolerances/iterations area reached.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>the region model, and we use that supports the following member:<ol type="1">
<li>.<a class="el" href="namespaceshyft_1_1time__axis.html" title="The time-axis concept is an important component of time-series. time_axis contains all the definition...">time_axis</a>, a time-axis value and type used by the model, the optimizer needs this during goal function evaluation.</li>
<li>.<a class="el" href="namespaceshyft_1_1core_1_1pt__hs__k.html#a8f36026f35fc84f58d593fdd19cbab8d">run()</a>, the region model from state (s0) over .<a class="el" href="namespaceshyft_1_1time__axis.html" title="The time-axis concept is an important component of time-series. time_axis contains all the definition...">time_axis</a>, using current values of parameters.</li>
</ol>
</td></tr>
    <tr><td class="paramname">PA</td><td>a template parameter for the parameters, supporting vector form access </td></tr>
    <tr><td class="paramname">PS</td><td>type of the target time-series, inside. the target specification..(SiH: can we turn it the other way around ??) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00357">357</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6032a61ce6a869e7de4f5831aaa5356b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6032a61ce6a869e7de4f5831aaa5356b">&#9670;&nbsp;</a></span>cell_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef M::cell_t <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6032a61ce6a869e7de4f5831aaa5356b">cell_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00366">366</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a83d9d8f6778b39a0da125c5c82d534ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d9d8f6778b39a0da125c5c82d534ef">&#9670;&nbsp;</a></span>column_vector</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef dlib::matrix&lt;double, 0, 1&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a83d9d8f6778b39a0da125c5c82d534ef">column_vector</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dlib optimizer enjoys dlib matrix types. </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00359">359</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="aeb3992fa4a88c3036683dae1dd9af4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb3992fa4a88c3036683dae1dd9af4fa">&#9670;&nbsp;</a></span>parameter_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef M::parameter_t <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aeb3992fa4a88c3036683dae1dd9af4fa">parameter_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00365">365</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a6793d8d0161d269d05c0f9563d7f6dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6793d8d0161d269d05c0f9563d7f6dab">&#9670;&nbsp;</a></span>region_model_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef M <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>obvious and Ok template, the <a class="el" href="classshyft_1_1core_1_1region__model.html" title="region_model is the calculation model for a region, where we can have one or more catchments...">region_model</a>, and there is just a few things that we need from this template. </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00363">363</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a6846cf441df5d1156b73005cb219f52c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6846cf441df5d1156b73005cb219f52c">&#9670;&nbsp;</a></span>response_collector_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef cell_t::response_collector_t <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6846cf441df5d1156b73005cb219f52c">response_collector_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00367">367</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="aa2b80f7e1be5ddf42a284626ff695201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b80f7e1be5ddf42a284626ff695201">&#9670;&nbsp;</a></span>state_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef M::state_t <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aa2b80f7e1be5ddf42a284626ff695201">state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00364">364</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a3f0c86b75080905a00d1713d72ab6a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0c86b75080905a00d1713d72ab6a97">&#9670;&nbsp;</a></span>target_specification_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structshyft_1_1core_1_1model__calibration_1_1target__specification.html">target_specification</a>&lt;PS&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>describes how to calculate the goal function, maybe better 'retemplate' on this </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00362">362</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a465f447636d0348323d8310a7c89f499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a465f447636d0348323d8310a7c89f499">&#9670;&nbsp;</a></span>target_time_series_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef PS <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a465f447636d0348323d8310a7c89f499">target_time_series_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>target_time_series_t. could that be of same type as model calc, always, or is it supplied from outside? </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00360">360</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab1bfa9505b131d6f465d3a41f6996819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bfa9505b131d6f465d3a41f6996819">&#9670;&nbsp;</a></span>optimizer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">optimizer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>targetsA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>construct an opt model for ptgsk, use p_min=p_max to disable optimization for a parameter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>reference to the model to be optimized, the model should be initialized, i.e. the interpolation step done. </td></tr>
    <tr><td class="paramname">targetsA</td><td>specifies how to calculate the goal-function, <a class="el" href="structshyft_1_1core_1_1model__calibration_1_1target__specification.html">shyft::core::model_calibration::target_specification</a> </td></tr>
    <tr><td class="paramname">p_min</td><td>minimum values for the parameters to be optimized </td></tr>
    <tr><td class="paramname">p_max</td><td>maximum values for the parameters to be optimized </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00419">419</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a127beaee84ddbafc8dc4e7d536f141aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127beaee84ddbafc8dc4e7d536f141aa">&#9670;&nbsp;</a></span>optimizer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">optimizer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create an optimizer based on the supplied model, kept as a reference(!) To optimize, first call <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a4fce112251127c578f95a5b5d6513f97">set_target_specification()</a>, then call any of optimize_xxx(...) </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00432">432</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a384e447fd9df3dcbfb47f9fc6ccbf295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a384e447fd9df3dcbfb47f9fc6ccbf295">&#9670;&nbsp;</a></span>active_parameter()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::active_parameter </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00376">376</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="adc562b9ec817dca734b5a01b427bb619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc562b9ec817dca734b5a01b427bb619">&#9670;&nbsp;</a></span>auto_initial_state_check()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::auto_initial_state_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00502">502</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a54e1af8fda536c0677074df8f393dc94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e1af8fda536c0677074df8f393dc94">&#9670;&nbsp;</a></span>calculate_goal_function() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::calculate_goal_function </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>full_vector_of_parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>calculate the goal_function as used by minbobyqa, using the full set of parameters vectors (as passed to <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#ae1c972c2059cb25bb119808b4e3a7ac8" title="Call to optimize model, starting with p parameter set, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. ">optimize()</a>) and also ensures that the shyft state/cell/catchment result is consistent with the passed parameters passed </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">full_vector_of_parameters</td><td>contains all parameters that will be applied to the run. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the goal-function, weigthed nash_sutcliffe sum </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00612">612</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer_a54e1af8fda536c0677074df8f393dc94_cgraph.png" border="0" usemap="#classshyft_1_1core_1_1model__calibration_1_1optimizer_a54e1af8fda536c0677074df8f393dc94_cgraph" alt=""/></div>
<map name="classshyft_1_1core_1_1model__calibration_1_1optimizer_a54e1af8fda536c0677074df8f393dc94_cgraph" id="classshyft_1_1core_1_1model__calibration_1_1optimizer_a54e1af8fda536c0677074df8f393dc94_cgraph">
</map>
</div>

</div>
</div>
<a id="a43bb8a6b3dae6b513c68ea78176e599a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43bb8a6b3dae6b513c68ea78176e599a">&#9670;&nbsp;</a></span>calculate_goal_function() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::calculate_goal_function </td>
          <td>(</td>
          <td class="paramtype">const PA &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>compute the goal function with the specified parameter set </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00618">618</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a21c6266ecc38acb0bdaf9087b98506ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c6266ecc38acb0bdaf9087b98506ce">&#9670;&nbsp;</a></span>establish_initial_state_from_model()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::establish_initial_state_from_model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>copy the model current state into internal store of the calibration class </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00453">453</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a6a3e7fa6ba021b21f6a1abbb1a738c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3e7fa6ba021b21f6a1abbb1a738c96">&#9670;&nbsp;</a></span>from_scaled() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::from_scaled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a83d9d8f6778b39a0da125c5c82d534ef">column_vector</a>&#160;</td>
          <td class="paramname"><em>p_s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>called by bobyqua: reduced parameter space p </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00640">640</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a4a7ff86bc7cfa347ef192511cb904eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a7ff86bc7cfa347ef192511cb904eb4">&#9670;&nbsp;</a></span>from_scaled() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::from_scaled </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>called by bobyqua: reduced parameter space p </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00651">651</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer_a4a7ff86bc7cfa347ef192511cb904eb4_cgraph.png" border="0" usemap="#classshyft_1_1core_1_1model__calibration_1_1optimizer_a4a7ff86bc7cfa347ef192511cb904eb4_cgraph" alt=""/></div>
<map name="classshyft_1_1core_1_1model__calibration_1_1optimizer_a4a7ff86bc7cfa347ef192511cb904eb4_cgraph" id="classshyft_1_1core_1_1model__calibration_1_1optimizer_a4a7ff86bc7cfa347ef192511cb904eb4_cgraph">
</map>
</div>

</div>
</div>
<a id="a973f82e36d67ddb753a2c05dff0ddef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973f82e36d67ddb753a2c05dff0ddef4">&#9670;&nbsp;</a></span>get_initial_state()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#aa2b80f7e1be5ddf42a284626ff695201">state_t</a> <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::get_initial_state </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>returns the initial state for the i'th cell </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00513">513</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="af72de88358821a048432b9d099f0b397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af72de88358821a048432b9d099f0b397">&#9670;&nbsp;</a></span>operator()() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a83d9d8f6778b39a0da125c5c82d534ef">column_vector</a> &amp;&#160;</td>
          <td class="paramname"><em>p_s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>called by bobyqua: </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00624">624</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer_af72de88358821a048432b9d099f0b397_cgraph.png" border="0" usemap="#classshyft_1_1core_1_1model__calibration_1_1optimizer_af72de88358821a048432b9d099f0b397_cgraph" alt=""/></div>
<map name="classshyft_1_1core_1_1model__calibration_1_1optimizer_af72de88358821a048432b9d099f0b397_cgraph" id="classshyft_1_1core_1_1model__calibration_1_1optimizer_af72de88358821a048432b9d099f0b397_cgraph">
<area shape="rect" id="node2" href="namespaceshyft_1_1core_1_1pt__hs__k.html#a8f36026f35fc84f58d593fdd19cbab8d" title="shyft::core::pt_hs\l_k::run" alt="" coords="203,287,327,329"/>
<area shape="rect" id="node3" href="structshyft_1_1core_1_1precipitation__correction_1_1calculator.html#a7cf0c62710cb820648948d429cd0ba9a" title="shyft::core::precipitation\l_correction::calculator::calc" alt="" coords="377,5,559,46"/>
<area shape="rect" id="node4" href="structshyft_1_1core_1_1hbv__snow_1_1calculator.html#a29b2d89d26ea325e00acfb7eee6f5639" title="shyft::core::hbv_snow\l::calculator::step" alt="" coords="393,70,543,111"/>
<area shape="rect" id="node6" href="namespaceshyft_1_1core_1_1glacier__melt.html#a0d7b142be8b5384cd33b3bce4d059bef" title="shyft::core::glacier\l_melt::step" alt="" coords="403,135,533,177"/>
<area shape="rect" id="node7" href="structshyft_1_1core_1_1priestley__taylor_1_1calculator.html#a7c5b732192e15e33f2471a405d144b2f" title="Calculate PotentialEvapotranspiration, given specified parameters. " alt="" coords="377,200,559,256"/>
<area shape="rect" id="node8" href="namespaceshyft_1_1core_1_1actual__evapotranspiration.html#a3395072b5006785f07a0e371c84a1650" title="actual_evapotranspiration calculates actual evapotranspiration based on supplied parameters ..." alt="" coords="401,280,535,336"/>
<area shape="rect" id="node9" href="namespaceshyft_1_1timeseries.html#ac53ac01de119a07afeaf67d32cd151e7" title="shyft::timeseries::max" alt="" coords="392,360,544,387"/>
<area shape="rect" id="node10" href="structshyft_1_1core_1_1utcperiod.html#a657dbfcddcc6ea03d1db9c2248320bdb" title="shyft::core::utcperiod\l::timespan" alt="" coords="395,411,541,453"/>
<area shape="rect" id="node11" href="classshyft_1_1core_1_1kirchner_1_1calculator.html#a60db6f04ed9e65215d9d4913cd5cd87e" title="step Kirchner model forward from time t0 to time t1 " alt="" coords="399,477,537,518"/>
<area shape="rect" id="node13" href="namespaceshyft.html#ad4b12d928f2188e37168689e720fce61" title="convert [m^3/s] to [mm/h] over area_m^2 " alt="" coords="399,543,537,569"/>
<area shape="rect" id="node5" href="namespaceshyft_1_1core_1_1hbv__snow.html#a65b17e05da578ebac4e43edea3cb8847" title="integrate function f given as linear interpolated between the f_i(x_i) from a to b for a..." alt="" coords="609,70,759,111"/>
<area shape="rect" id="node12" href="namespaceshyft_1_1core.html#a7ef37ab10073a3d0e9cf509d93d114b2" title="utctimespan is typdedef&#39;d as a utctime (thus __int64) " alt="" coords="608,484,760,511"/>
</map>
</div>

</div>
</div>
<a id="a619914f52ab547f433676cba5cd90135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a619914f52ab547f433676cba5cd90135">&#9670;&nbsp;</a></span>operator()() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00625">625</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer_a619914f52ab547f433676cba5cd90135_cgraph.png" border="0" usemap="#classshyft_1_1core_1_1model__calibration_1_1optimizer_a619914f52ab547f433676cba5cd90135_cgraph" alt=""/></div>
<map name="classshyft_1_1core_1_1model__calibration_1_1optimizer_a619914f52ab547f433676cba5cd90135_cgraph" id="classshyft_1_1core_1_1model__calibration_1_1optimizer_a619914f52ab547f433676cba5cd90135_cgraph">
<area shape="rect" id="node2" href="namespaceshyft_1_1core_1_1pt__hs__k.html#a8f36026f35fc84f58d593fdd19cbab8d" title="shyft::core::pt_hs\l_k::run" alt="" coords="203,287,327,329"/>
<area shape="rect" id="node3" href="structshyft_1_1core_1_1precipitation__correction_1_1calculator.html#a7cf0c62710cb820648948d429cd0ba9a" title="shyft::core::precipitation\l_correction::calculator::calc" alt="" coords="377,5,559,46"/>
<area shape="rect" id="node4" href="structshyft_1_1core_1_1hbv__snow_1_1calculator.html#a29b2d89d26ea325e00acfb7eee6f5639" title="shyft::core::hbv_snow\l::calculator::step" alt="" coords="393,70,543,111"/>
<area shape="rect" id="node6" href="namespaceshyft_1_1core_1_1glacier__melt.html#a0d7b142be8b5384cd33b3bce4d059bef" title="shyft::core::glacier\l_melt::step" alt="" coords="403,135,533,177"/>
<area shape="rect" id="node7" href="structshyft_1_1core_1_1priestley__taylor_1_1calculator.html#a7c5b732192e15e33f2471a405d144b2f" title="Calculate PotentialEvapotranspiration, given specified parameters. " alt="" coords="377,200,559,256"/>
<area shape="rect" id="node8" href="namespaceshyft_1_1core_1_1actual__evapotranspiration.html#a3395072b5006785f07a0e371c84a1650" title="actual_evapotranspiration calculates actual evapotranspiration based on supplied parameters ..." alt="" coords="401,280,535,336"/>
<area shape="rect" id="node9" href="namespaceshyft_1_1timeseries.html#ac53ac01de119a07afeaf67d32cd151e7" title="shyft::timeseries::max" alt="" coords="392,360,544,387"/>
<area shape="rect" id="node10" href="structshyft_1_1core_1_1utcperiod.html#a657dbfcddcc6ea03d1db9c2248320bdb" title="shyft::core::utcperiod\l::timespan" alt="" coords="395,411,541,453"/>
<area shape="rect" id="node11" href="classshyft_1_1core_1_1kirchner_1_1calculator.html#a60db6f04ed9e65215d9d4913cd5cd87e" title="step Kirchner model forward from time t0 to time t1 " alt="" coords="399,477,537,518"/>
<area shape="rect" id="node13" href="namespaceshyft.html#ad4b12d928f2188e37168689e720fce61" title="convert [m^3/s] to [mm/h] over area_m^2 " alt="" coords="399,543,537,569"/>
<area shape="rect" id="node5" href="namespaceshyft_1_1core_1_1hbv__snow.html#a65b17e05da578ebac4e43edea3cb8847" title="integrate function f given as linear interpolated between the f_i(x_i) from a to b for a..." alt="" coords="609,70,759,111"/>
<area shape="rect" id="node12" href="namespaceshyft_1_1core.html#a7ef37ab10073a3d0e9cf509d93d114b2" title="utctimespan is typdedef&#39;d as a utctime (thus __int64) " alt="" coords="608,484,760,511"/>
</map>
</div>

</div>
</div>
<a id="ae1c972c2059cb25bb119808b4e3a7ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c972c2059cb25bb119808b4e3a7ac8">&#9670;&nbsp;</a></span>optimize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::optimize </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em> = <code>1500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tr_start</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tr_stop</em> = <code>1.0e-5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call to optimize model, starting with p parameter set, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>contains the starting point for the parameters </td></tr>
    <tr><td class="paramname">max_n_evaluations</td><td>stop after n calls of the objective functions, i.e. simulations. </td></tr>
    <tr><td class="paramname">tr_start</td><td>is the trust region start , default 0.1, ref bobyqa </td></tr>
    <tr><td class="paramname">tr_stop</td><td>is the trust region stop, default 1e-5, ref bobyqa </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the optimized parameter vector </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00528">528</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer_ae1c972c2059cb25bb119808b4e3a7ac8_cgraph.png" border="0" usemap="#classshyft_1_1core_1_1model__calibration_1_1optimizer_ae1c972c2059cb25bb119808b4e3a7ac8_cgraph" alt=""/></div>
<map name="classshyft_1_1core_1_1model__calibration_1_1optimizer_ae1c972c2059cb25bb119808b4e3a7ac8_cgraph" id="classshyft_1_1core_1_1model__calibration_1_1optimizer_ae1c972c2059cb25bb119808b4e3a7ac8_cgraph">
</map>
</div>

</div>
</div>
<a id="a683ed17fa2154d1ef87dcbb457c3e0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683ed17fa2154d1ef87dcbb457c3e0b3">&#9670;&nbsp;</a></span>optimize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PA <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::optimize </td>
          <td>(</td>
          <td class="paramtype">const PA &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em> = <code>1500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tr_start</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tr_stop</em> = <code>1.0e-5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>optimize using minbobyqa, using p as starting parameters, return new optimized parameters </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00539">539</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a28319e0ce947a28e81e8e7a1058388ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28319e0ce947a28e81e8e7a1058388ec">&#9670;&nbsp;</a></span>optimize_dream() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::optimize_dream </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em> = <code>1500</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call to optimize model, using DREAM alg., find p, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>is used as start point (not really, DREAM use random, but we should be able to pass u and q.... </td></tr>
    <tr><td class="paramname">max_n_evaluations</td><td>stop after n calls of the objective functions, i.e. simulations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the optimized parameter vector </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00553">553</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="aa176e5163bfc801c93a258cd298691c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa176e5163bfc801c93a258cd298691c3">&#9670;&nbsp;</a></span>optimize_dream() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PA <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::optimize_dream </td>
          <td>(</td>
          <td class="paramtype">const PA &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em> = <code>1500</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>optimize using the dream algorithm, returning the new optimized parameter set </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00562">562</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="ab6ffadc58e1cc20648df8496a0e2ea7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6ffadc58e1cc20648df8496a0e2ea7a">&#9670;&nbsp;</a></span>optimize_sceua() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::optimize_sceua </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em> = <code>1500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_eps</em> = <code>0.0001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y_eps</em> = <code>1.0e-5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call to optimize model, using SCE UA, using p as startpoint, find p, using p_min..p_max as boundaries. where p is the full parameter vector. the p_min,p_max specified in constructor is used to reduce the parameterspace for the optimizer down to a minimum number to facilitate fast run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>is used as start point and is updated with the found optimal points </td></tr>
    <tr><td class="paramname">max_n_evaluations</td><td>stop after n calls of the objective functions, i.e. simulations. </td></tr>
    <tr><td class="paramname">x_eps</td><td>is stop condition when all changes in x's are within this range </td></tr>
    <tr><td class="paramname">y_eps</td><td>is stop condition, and search is stopped when goal function does not improve anymore within this range </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the optimized parameter vector </dd></dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00578">578</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classshyft_1_1core_1_1model__calibration_1_1optimizer_ab6ffadc58e1cc20648df8496a0e2ea7a_cgraph.png" border="0" usemap="#classshyft_1_1core_1_1model__calibration_1_1optimizer_ab6ffadc58e1cc20648df8496a0e2ea7a_cgraph" alt=""/></div>
<map name="classshyft_1_1core_1_1model__calibration_1_1optimizer_ab6ffadc58e1cc20648df8496a0e2ea7a_cgraph" id="classshyft_1_1core_1_1model__calibration_1_1optimizer_ab6ffadc58e1cc20648df8496a0e2ea7a_cgraph">
</map>
</div>

</div>
</div>
<a id="a5f40ae12b9673f513fbe3ccc3c679caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f40ae12b9673f513fbe3ccc3c679caf">&#9670;&nbsp;</a></span>optimize_sceua() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PA <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::optimize_sceua </td>
          <td>(</td>
          <td class="paramtype">const PA &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_n_evaluations</em> = <code>1500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_eps</em> = <code>0.0001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y_eps</em> = <code>1.0e-5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>optimize using the dream algorithm, returning the new optimized parameter set </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00588">588</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a09a6c7fc24fe060f682939392e424c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a6c7fc24fe060f682939392e424c1e">&#9670;&nbsp;</a></span>prepare_optimize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::prepare_optimize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>prepare the optimization process by looking at the current state of the supplied parameters. Ensures :</p><ol type="1">
<li>the model have a global parameter-set</li>
<li>the collection of SCA/SWE is turned on if requested</li>
<li>the catchment-filter is set according to target-specification request </li>
</ol>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00466">466</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="abd875cab3afb4f296ab96879964d8449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd875cab3afb4f296ab96879964d8449">&#9670;&nbsp;</a></span>reset_states()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::reset_states </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reset the state of the model to the initial state before starting the run/optimize </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00595">595</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="aace152222deb93cf6b6f8bdf818952a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace152222deb93cf6b6f8bdf818952a9">&#9670;&nbsp;</a></span>set_parameter_ranges()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::set_parameter_ranges </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set the parameter ranges, set min=max=wanted parameter value for those not subject to change during optimization </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00599">599</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a4fce112251127c578f95a5b5d6513f97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fce112251127c578f95a5b5d6513f97">&#9670;&nbsp;</a></span>set_target_specification()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::set_target_specification </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>targetsA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PA &amp;&#160;</td>
          <td class="paramname"><em>param_lower_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PA &amp;&#160;</td>
          <td class="paramname"><em>param_upper_bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set all parameters that matters for the calibration. The lower and upper bounds determines which parameters are subject to calibration. If lower and upper bound are equal, the parameter is untouched during calibration (regardless value)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetsA</td><td>specifies the goal function description </td></tr>
    <tr><td class="paramname">param_lower_bound</td><td>specifies the lower bound of the parameter set </td></tr>
    <tr><td class="paramname">param_upper_bound</td><td>specifies the upper bound of the parameter set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00446">446</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="acbdadaf09aaabcc10ddd5158f73bd2d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbdadaf09aaabcc10ddd5158f73bd2d7">&#9670;&nbsp;</a></span>set_verbose_level()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::set_verbose_level </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00604">604</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a1e761e88720beecc3215cc19145a819e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e761e88720beecc3215cc19145a819e">&#9670;&nbsp;</a></span>to_scaled()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::to_scaled </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>rp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>called by bobyqua:reduced parameter space p </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00628">628</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="afa22bc1721dce7d8510f79632f9d20b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa22bc1721dce7d8510f79632f9d20b3">&#9670;&nbsp;</a></span>trace_goal_fn()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::trace_goal_fn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00510">510</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="abe79e004f5c34878c0368be8afd16a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe79e004f5c34878c0368be8afd16a10">&#9670;&nbsp;</a></span>trace_parameter()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PA <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::trace_parameter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00511">511</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="ac9b052ecb20f08f3ade73c39b6482b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b052ecb20f08f3ade73c39b6482b1e">&#9670;&nbsp;</a></span>trace_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::trace_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00509">509</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a27b2fc3d4a8b6513eeac7ab68a73ce2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b2fc3d4a8b6513eeac7ab68a73ce2a">&#9670;&nbsp;</a></span>calibration_test</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class calibration_test</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00622">622</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae50dc29670073fd6211da765e131bff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50dc29670073fd6211da765e131bff8">&#9670;&nbsp;</a></span>goal_fn_trace</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::goal_fn_trace</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>goal-fn-value, corresponding to parameters_trace </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00372">372</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a47be90108bd371cf748a9c53d42970a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47be90108bd371cf748a9c53d42970a7">&#9670;&nbsp;</a></span>model</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a6793d8d0161d269d05c0f9563d7f6dab">region_model_t</a>&amp; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::model</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a reference to the region model that we optimize </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00374">374</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="aef726f27748c090027974d4a7083b195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef726f27748c090027974d4a7083b195">&#9670;&nbsp;</a></span>parameter_accessor</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">PA&amp; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::parameter_accessor</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a <em>reference</em> to the model parameters in the target model, all cells share this! </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00373">373</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="aafdd315906e5219d9e0a8b8ee8dfbc76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafdd315906e5219d9e0a8b8ee8dfbc76">&#9670;&nbsp;</a></span>parameter_lower_bound</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">PA <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::parameter_lower_bound</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>current setting of parameter lower bound </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00369">369</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a2dd3434d467e6f079d7b77b78e61b96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd3434d467e6f079d7b77b78e61b96d">&#9670;&nbsp;</a></span>parameter_upper_bound</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">PA <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::parameter_upper_bound</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>current setting of parameter upper bound </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00370">370</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a2746943462e1365e32c51195ca82c85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2746943462e1365e32c51195ca82c85e">&#9670;&nbsp;</a></span>parameters_trace</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;PA&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::parameters_trace</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parameters_trace contains all parameters tried during optimization </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00371">371</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<a id="a952151b56ed526fba4448da8b1961c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952151b56ed526fba4448da8b1961c9a">&#9670;&nbsp;</a></span>targets</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class M , class PA , class PS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html#a3f0c86b75080905a00d1713d72ab6a97">target_specification_t</a>&gt; <a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">shyft::core::model_calibration::optimizer</a>&lt; M, PA, PS &gt;::targets</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>list of targets ts&amp; catchments indexes to be optimized, used to calculate goal function </p>

<p class="definition">Definition at line <a class="el" href="model__calibration_8h_source.html#l00375">375</a> of file <a class="el" href="model__calibration_8h_source.html">model_calibration.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Data/johnbur/Dropbox/home/Programming/workspace/shyft_workspace/shyft/core/<a class="el" href="model__calibration_8h_source.html">model_calibration.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceshyft.html">shyft</a></li><li class="navelem"><a class="el" href="namespaceshyft_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespaceshyft_1_1core_1_1model__calibration.html">model_calibration</a></li><li class="navelem"><a class="el" href="classshyft_1_1core_1_1model__calibration_1_1optimizer.html">optimizer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
